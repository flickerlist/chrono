{"version":3,"sources":["webpack://chrono/webpack/universalModuleDefinition","webpack://chrono/webpack/bootstrap","webpack://chrono/./src/parsers/parser.js","webpack://chrono/./src/result.js","webpack://chrono/./node_modules/dayjs/dayjs.min.js","webpack://chrono/./src/refiners/refiner.js","webpack://chrono/./src/utils/EN.js","webpack://chrono/./src/utils/ZH.js","webpack://chrono/./src/refiners/en/ENMergeDateTimeRefiner.js","webpack://chrono/./src/parsers/en/ENWeekdayParser.js","webpack://chrono/./src/utils/DE.js","webpack://chrono/./src/refiners/en/ENMergeDateRangeRefiner.js","webpack://chrono/./src/utils/FR.js","webpack://chrono/./src/utils/NL.js","webpack://chrono/./src/parsers/en/ENISOFormatParser.js","webpack://chrono/./src/parsers/en/ENDeadlineFormatParser.js","webpack://chrono/./src/parsers/en/ENRelativeDateFormatParser.js","webpack://chrono/./src/parsers/en/ENMonthNameLittleEndianParser.js","webpack://chrono/./src/parsers/en/ENMonthNameMiddleEndianParser.js","webpack://chrono/./src/parsers/en/ENMonthNameParser.js","webpack://chrono/./src/parsers/en/ENSlashDateFormatParser.js","webpack://chrono/./src/parsers/en/ENSlashDateFormatStartWithYearParser.js","webpack://chrono/./src/parsers/en/ENSlashMonthFormatParser.js","webpack://chrono/./src/parsers/en/ENTimeAgoFormatParser.js","webpack://chrono/./src/parsers/en/ENTimeExpressionParser.js","webpack://chrono/./src/parsers/en/ENTimeLaterFormatParser.js","webpack://chrono/./src/parsers/en/ENCasualDateParser.js","webpack://chrono/./src/parsers/en/ENCasualTimeParser.js","webpack://chrono/./src/parsers/ja/JPStandardParser.js","webpack://chrono/./src/utils/JP.js","webpack://chrono/./src/parsers/ja/JPCasualDateParser.js","webpack://chrono/./src/parsers/pt/PTCasualDateParser.js","webpack://chrono/./src/parsers/pt/PTDeadlineFormatParser.js","webpack://chrono/./src/parsers/pt/PTMonthNameLittleEndianParser.js","webpack://chrono/./src/utils/PT.js","webpack://chrono/./src/parsers/pt/PTSlashDateFormatParser.js","webpack://chrono/./src/parsers/pt/PTTimeAgoFormatParser.js","webpack://chrono/./src/parsers/pt/PTTimeExpressionParser.js","webpack://chrono/./src/parsers/pt/PTWeekdayParser.js","webpack://chrono/./src/parsers/es/ESCasualDateParser.js","webpack://chrono/./src/parsers/es/ESDeadlineFormatParser.js","webpack://chrono/./src/parsers/es/ESTimeAgoFormatParser.js","webpack://chrono/./src/parsers/es/ESTimeExpressionParser.js","webpack://chrono/./src/parsers/es/ESWeekdayParser.js","webpack://chrono/./src/parsers/es/ESMonthNameLittleEndianParser.js","webpack://chrono/./src/utils/ES.js","webpack://chrono/./src/parsers/es/ESSlashDateFormatParser.js","webpack://chrono/./src/parsers/fr/FRCasualDateParser.js","webpack://chrono/./src/parsers/fr/FRDeadlineFormatParser.js","webpack://chrono/./src/parsers/fr/FRMonthNameLittleEndianParser.js","webpack://chrono/./src/parsers/fr/FRSlashDateFormatParser.js","webpack://chrono/./src/parsers/fr/FRTimeAgoFormatParser.js","webpack://chrono/./src/parsers/fr/FRTimeExpressionParser.js","webpack://chrono/./src/parsers/fr/FRWeekdayParser.js","webpack://chrono/./src/parsers/fr/FRRelativeDateFormatParser.js","webpack://chrono/./node_modules/dayjs/plugin/quarterOfYear.js","webpack://chrono/./src/parsers/zh-Hant/ZHHantDateParser.js","webpack://chrono/./src/parsers/zh-Hant/ZHHantWeekdayParser.js","webpack://chrono/./src/parsers/zh-Hant/ZHHantTimeExpressionParser.js","webpack://chrono/./src/parsers/zh-Hant/ZHHantCasualDateParser.js","webpack://chrono/./src/parsers/zh-Hant/ZHHantDeadlineFormatParser.js","webpack://chrono/./src/parsers/zh-Hans/ZHHansDateParser.js","webpack://chrono/./src/parsers/zh-Hans/ZHHansWeekdayParser.js","webpack://chrono/./src/parsers/zh-Hans/ZHHansTimeExpressionParser.js","webpack://chrono/./src/parsers/zh-Hans/ZHHansCasualDateParser.js","webpack://chrono/./src/parsers/zh-Hans/ZHHansDeadlineFormatParser.js","webpack://chrono/./src/parsers/de/DEDeadlineFormatParser.js","webpack://chrono/./src/parsers/de/DEMonthNameLittleEndianParser.js","webpack://chrono/./src/parsers/de/DEMonthNameParser.js","webpack://chrono/./src/parsers/de/DESlashDateFormatParser.js","webpack://chrono/./src/parsers/de/DETimeAgoFormatParser.js","webpack://chrono/./src/parsers/de/DETimeExpressionParser.js","webpack://chrono/./src/parsers/de/DEWeekdayParser.js","webpack://chrono/./src/parsers/de/DECasualDateParser.js","webpack://chrono/./src/parsers/nl/NLMonthNameParser.js","webpack://chrono/./src/parsers/nl/NLMonthNameLittleEndianParser.js","webpack://chrono/./src/parsers/nl/NLSlashDateFormatParser.js","webpack://chrono/./src/parsers/nl/NLWeekdayParser.js","webpack://chrono/./src/parsers/nl/NLTimeExpressionParser.js","webpack://chrono/./src/parsers/nl/NLCasualDateParser.js","webpack://chrono/./src/parsers/nl/NLCasualTimeParser.js","webpack://chrono/./src/refiners/OverlapRemovalRefiner.js","webpack://chrono/./src/refiners/ExtractTimezoneOffsetRefiner.js","webpack://chrono/./src/refiners/ExtractTimezoneAbbrRefiner.js","webpack://chrono/./src/refiners/ForwardDateRefiner.js","webpack://chrono/./src/refiners/UnlikelyFormatFilter.js","webpack://chrono/./src/refiners/en/ENPrioritizeSpecificDateRefiner.js","webpack://chrono/./src/refiners/ja/JPMergeDateRangeRefiner.js","webpack://chrono/./src/refiners/fr/FRMergeDateRangeRefiner.js","webpack://chrono/./src/refiners/fr/FRMergeDateTimeRefiner.js","webpack://chrono/./src/refiners/de/DEMergeDateRangeRefiner.js","webpack://chrono/./src/refiners/de/DEMergeDateTimeRefiner.js","webpack://chrono/./src/refiners/nl/NLMergeDateRangeRefiner.js","webpack://chrono/./src/refiners/nl/NLMergeDateTimeRefiner.js","webpack://chrono/./src/options.js","webpack://chrono/./src/chrono.js"],"names":["dayjs","require","exports","Parser","config","strictMode","strict","isStrictMode","pattern","extract","text","ref","match","opt","execute","results","regex","remainingText","exec","index","length","result","substring","hasPossibleDates","push","refiners","forEach","refiner","refine","options","findYearClosestToRef","day","month","refMoment","dateMoment","date","year","nextYear","add","lastYear","Math","abs","diff","ENISOFormatParser","ENDeadlineFormatParser","ENRelativeDateFormatParser","ENMonthNameLittleEndianParser","ENMonthNameMiddleEndianParser","ENMonthNameParser","ENSlashDateFormatParser","ENSlashDateFormatStartWithYearParser","ENSlashMonthFormatParser","ENTimeAgoFormatParser","ENTimeExpressionParser","ENTimeLaterFormatParser","ENWeekdayParser","ENCasualDateParser","ENCasualTimeParser","JPStandardParser","JPCasualDateParser","PTCasualDateParser","PTDeadlineFormatParser","PTMonthNameLittleEndianParser","PTSlashDateFormatParser","PTTimeAgoFormatParser","PTTimeExpressionParser","PTWeekdayParser","ESCasualDateParser","ESDeadlineFormatParser","ESTimeAgoFormatParser","ESTimeExpressionParser","ESWeekdayParser","ESMonthNameLittleEndianParser","ESSlashDateFormatParser","FRCasualDateParser","FRDeadlineFormatParser","FRMonthNameLittleEndianParser","FRSlashDateFormatParser","FRTimeAgoFormatParser","FRTimeExpressionParser","FRWeekdayParser","FRRelativeDateFormatParser","ZHHantDateParser","ZHHantWeekdayParser","ZHHantTimeExpressionParser","ZHHantCasualDateParser","ZHHantDeadlineFormatParser","ZHHansDateParser","ZHHansWeekdayParser","ZHHansTimeExpressionParser","ZHHansCasualDateParser","ZHHansDeadlineFormatParser","DEDeadlineFormatParser","DEMonthNameLittleEndianParser","DEMonthNameParser","DESlashDateFormatParser","DETimeAgoFormatParser","DETimeExpressionParser","DEWeekdayParser","DECasualDateParser","NLMonthNameParser","NLMonthNameLittleEndianParser","NLSlashDateFormatParser","NLWeekdayParser","NLTimeExpressionParser","NLCasualDateParser","NLCasualTimeParser","ParsedResult","tags","start","ParsedComponents","end","JSON","parse","stringify","clone","isPossibleDate","isOnlyWeekdayComponent","isOnlyDayMonthComponent","components","knownValues","impliedValues","key","imply","component","value","isCertain","adjustTimezoneOffset","get","utcOffset","toDate","hour","minute","second","millisecond","currentTimezoneOffset","targetTimezoneOffset","undefined","Refiner","Filter","call","isValid","filteredResult","i","OverlapRemovalRefiner","ExtractTimezoneOffsetRefiner","ExtractTimezoneAbbrRefiner","ForwardDateRefiner","UnlikelyFormatFilter","ENMergeDateTimeRefiner","ENMergeDateRangeRefiner","ENPrioritizeSpecificDateRefiner","JPMergeDateRangeRefiner","FRMergeDateRangeRefiner","FRMergeDateTimeRefiner","DEMergeDateRangeRefiner","DEMergeDateTimeRefiner","NLMergeDateRangeRefiner","NLMergeDateTimeRefiner","WEEKDAY_OFFSET","MONTH_OFFSET","MONTH_PATTERN","Object","keys","join","replace","INTEGER_WORDS","INTEGER_WORDS_PATTERN","ORDINAL_WORDS","ORDINAL_WORDS_PATTERN","TIME_UNIT","TIME_UNIT_STRICT","PATTERN_TIME_UNIT","RegExp","TIME_UNIT_PATTERN","TIME_UNIT_STRICT_PATTERN","extractDateTimeUnitFragments","timeunitText","fragments","collectDateTimeFragment","num","toLowerCase","parseFloat","NUMBER","zhStringToNumber","number","char","zhStringToYear","string","parseInt","PATTERN","isDateOnly","isTimeOnly","isAbleToMerge","prevResult","curResult","textBetween","mergeDateTimeComponent","dateComponent","timeComponent","dateTimeComponent","assign","mergeResult","dateResult","timeResult","beginDate","beginTime","beginDateTime","endDate","endTime","endDateTime","getTime","startIndex","min","endIndex","max","tag","mergedResult","currResult","DAYS_OFFSET","PREFIX_GROUP","WEEKDAY_GROUP","POSTFIX_GROUP","updateParsedComponent","offset","modifier","startMoment","startMomentFixed","refOffset","apply","arguments","substr","dayOfWeek","prefix","postfix","norm","result1","result2","begin","fromResult","toResult","isOnlyWeekday","timeKeys","fromMoment","toMoment","isBefore","isAfter","tmp","constructor","name","WEEKDAY_PATTERN","YEAR_NUMBER_GROUP","MONTH_NUMBER_GROUP","DATE_NUMBER_GROUP","HOUR_NUMBER_GROUP","MINUTE_NUMBER_GROUP","SECOND_NUMBER_GROUP","MILLISECOND_NUMBER_GROUP","TZD_HOUR_OFFSET_GROUP","TZD_MINUTE_OFFSET_GROUP","minuteOffset","hourOffset","util","STRICT_PATTERN","MODIFIER_WORD_GROUP","MULTIPLIER_WORD_GROUP","RELATIVE_WORD_GROUP","parser","DATE_GROUP","DATE_NUM_GROUP","DATE_TO_GROUP","DATE_TO_NUM_GROUP","MONTH_NAME_GROUP","YEAR_GROUP","trim","test","weekday","YEAR_BE_GROUP","YEAR_GROUP2","YEAR_BE_GROUP2","yearBE","monthName","OPENNING_GROUP","ENDING_GROUP","FIRST_NUMBERS_GROUP","SECOND_NUMBERS_GROUP","littleEndian","MONTH_GROUP","DAY_GROUP","indexOf","tday","argument","FIRST_REG_PATTERN","SECOND_REG_PATTERN","HOUR_GROUP","MINUTE_GROUP","SECOND_GROUP","MILLI_SECOND_GROUP","AM_PM_HOUR_GROUP","meridiem","ampm","startAtPM","suffix","preamble","lowerText","TIME_MATCH","SPECIAL_YEAR_GROUP","TYPICAL_YEAR_GROUP","ERA_GROUP","toHankaku","moment","String","fromCharCode","alphaNum","token","charCodeAt","toZenkaku","secondMatch","firstMatch","isNaN","quarterOfYear","extend","MULTIPLIER_GROUP","MODIFIER_1_GROUP","MODIFIER_2_GROUP","multiplier","modifierFactor","total","dateFrom","dateTo","relative","startOf","dateTmp","endOf","patternString1","patternString2","DAY_GROUP_1","ZH_AM_PM_HOUR_GROUP_1","ZH_AM_PM_HOUR_GROUP_2","DAY_GROUP_3","ZH_AM_PM_HOUR_GROUP_3","ZHTimeExpressionParser","day1","day3","zhAMPMString1","zhAMPM1","zhAMPMString2","zhAMPM2","zhAMPMString3","zhAMPM3","endMoment","NOW_GROUP","TIME_GROUP_1","TIME_GROUP_2","TIME_GROUP_3","time1","timeString2","time2","timeString3","time3","NUMBER_GROUP","UNIT_GROUP","unit","unitAbbr","forwardDate","filteredResults","TIMEZONE_OFFSET_PATTERN","TIMEZONE_OFFSET_SIGN_GROUP","TIMEZONE_OFFSET_HOUR_OFFSET_GROUP","TIMEZONE_OFFSET_MINUTE_OFFSET_GROUP","timezoneOffset","TIMEZONE_NAME_PATTERN","DEFAULT_TIMEZONE_ABBR_MAP","timezones","timezoneAbbr","toUpperCase","isMoreSpecific","moreSpecific","includesRelativeResult","referToSameDate","specificResult","nonSpecificResult","specificDate","nonSpecificDate","isWeekdayResult","mergeOptions","addedTypes","mergedOption","parsers","option","p","r","commonPostProcessing","strictOption","strictConfig","en","de","nl","pt","es","fr","ja","zh","zhcn","casualOption","casual","unshift","en_GB","Chrono","refDate","Date","allResults","concat","sort","a","b","_options","_parser","_refiner","_result","parseDate"],"mappings":"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","file":"chrono.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"chrono\"] = factory();\n\telse\n\t\troot[\"chrono\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 92);\n","const dayjs = require('dayjs');\n\nexports.Parser = function (config) {\n\n    config = config || {};\n    var strictMode = config.strict;\n\n    this.isStrictMode = function() { return (strictMode == true) };\n\n    this.pattern = function() { return /./i; }\n\n    this.extract = function(text, ref, match, opt){ return null; }\n\n    this.execute = function(text, ref, opt) {\n\n        var results = [];\n        var regex = this.pattern();\n\n        var remainingText = text;\n        var match = regex.exec(remainingText);\n\n        while (match) {\n\n            // Calculate match index on the full text;\n            match.index += text.length - remainingText.length;\n\n            var result = this.extract(text, ref, match, opt);\n            if (result) {\n\n                // If success, start from the end of the result\n                remainingText = text.substring(result.index + result.text.length);\n\n                if (!this.isStrictMode() || result.hasPossibleDates()) {\n                    results.push(result);\n                }\n\n            } else {\n                // If fail, move on by 1\n                remainingText = text.substring(match.index + 1);\n            }\n\n            match = regex.exec(remainingText);\n        }\n\n        if (this.refiners) {\n            this.refiners.forEach(function () {\n                results = refiner.refine(results, text, options);\n            });\n        }\n\n        return results;\n    }\n}\n\nexports.findYearClosestToRef = function (ref, day, month) {\n    //Find the most appropriated year\n    const refMoment = dayjs(ref);\n    var dateMoment = refMoment;\n    dateMoment = dateMoment.month(month - 1);\n    dateMoment = dateMoment.date(day);\n    dateMoment = dateMoment.year(refMoment.year())\n\n    const nextYear = dateMoment.add(1, 'y');\n    const lastYear = dateMoment.add(-1, 'y');\n    if( Math.abs(nextYear.diff(refMoment)) < Math.abs(dateMoment.diff(refMoment)) ){\n        dateMoment = nextYear;\n    }\n    else if( Math.abs(lastYear.diff(refMoment)) < Math.abs(dateMoment.diff(refMoment)) ){\n        dateMoment = lastYear;\n    }\n\n    return dateMoment.year();\n}\n\nexports.ENISOFormatParser = require('./en/ENISOFormatParser').Parser;\nexports.ENDeadlineFormatParser = require('./en/ENDeadlineFormatParser').Parser;\nexports.ENRelativeDateFormatParser = require('./en/ENRelativeDateFormatParser').Parser;\nexports.ENMonthNameLittleEndianParser = require('./en/ENMonthNameLittleEndianParser').Parser;\nexports.ENMonthNameMiddleEndianParser = require('./en/ENMonthNameMiddleEndianParser').Parser;\nexports.ENMonthNameParser = require('./en/ENMonthNameParser').Parser;\nexports.ENSlashDateFormatParser = require('./en/ENSlashDateFormatParser').Parser;\nexports.ENSlashDateFormatStartWithYearParser = require('./en/ENSlashDateFormatStartWithYearParser').Parser;\nexports.ENSlashMonthFormatParser = require('./en/ENSlashMonthFormatParser').Parser;\nexports.ENTimeAgoFormatParser = require('./en/ENTimeAgoFormatParser').Parser;\nexports.ENTimeExpressionParser = require('./en/ENTimeExpressionParser').Parser;\nexports.ENTimeLaterFormatParser = require('./en/ENTimeLaterFormatParser').Parser;\nexports.ENWeekdayParser = require('./en/ENWeekdayParser').Parser;\nexports.ENCasualDateParser = require('./en/ENCasualDateParser').Parser;\nexports.ENCasualTimeParser = require('./en/ENCasualTimeParser').Parser;\n\nexports.JPStandardParser = require('./ja/JPStandardParser').Parser;\nexports.JPCasualDateParser = require('./ja/JPCasualDateParser').Parser;\n\nexports.PTCasualDateParser = require('./pt/PTCasualDateParser').Parser;\nexports.PTDeadlineFormatParser = require('./pt/PTDeadlineFormatParser').Parser;\nexports.PTMonthNameLittleEndianParser = require('./pt/PTMonthNameLittleEndianParser').Parser;\nexports.PTSlashDateFormatParser = require('./pt/PTSlashDateFormatParser').Parser;\nexports.PTTimeAgoFormatParser = require('./pt/PTTimeAgoFormatParser').Parser;\nexports.PTTimeExpressionParser = require('./pt/PTTimeExpressionParser').Parser;\nexports.PTWeekdayParser = require('./pt/PTWeekdayParser').Parser;\n\nexports.ESCasualDateParser = require('./es/ESCasualDateParser').Parser;\nexports.ESDeadlineFormatParser = require('./es/ESDeadlineFormatParser').Parser;\nexports.ESTimeAgoFormatParser = require('./es/ESTimeAgoFormatParser').Parser;\nexports.ESTimeExpressionParser = require('./es/ESTimeExpressionParser').Parser;\nexports.ESWeekdayParser = require('./es/ESWeekdayParser').Parser;\nexports.ESMonthNameLittleEndianParser = require('./es/ESMonthNameLittleEndianParser').Parser;\nexports.ESSlashDateFormatParser = require('./es/ESSlashDateFormatParser').Parser;\n\nexports.FRCasualDateParser = require('./fr/FRCasualDateParser').Parser;\nexports.FRDeadlineFormatParser = require('./fr/FRDeadlineFormatParser').Parser;\nexports.FRMonthNameLittleEndianParser = require('./fr/FRMonthNameLittleEndianParser').Parser;\nexports.FRSlashDateFormatParser = require('./fr/FRSlashDateFormatParser').Parser;\nexports.FRTimeAgoFormatParser = require('./fr/FRTimeAgoFormatParser').Parser;\nexports.FRTimeExpressionParser = require('./fr/FRTimeExpressionParser').Parser;\nexports.FRWeekdayParser = require('./fr/FRWeekdayParser').Parser;\nexports.FRRelativeDateFormatParser = require('./fr/FRRelativeDateFormatParser').Parser;\n\nexports.ZHHantDateParser = require('./zh-Hant/ZHHantDateParser').Parser;\nexports.ZHHantWeekdayParser = require('./zh-Hant/ZHHantWeekdayParser').Parser;\nexports.ZHHantTimeExpressionParser = require('./zh-Hant/ZHHantTimeExpressionParser').Parser;\nexports.ZHHantCasualDateParser = require('./zh-Hant/ZHHantCasualDateParser').Parser;\nexports.ZHHantDeadlineFormatParser = require('./zh-Hant/ZHHantDeadlineFormatParser').Parser;\n\nexports.ZHHansDateParser = require('./zh-Hans/ZHHansDateParser').Parser;\nexports.ZHHansWeekdayParser = require('./zh-Hans/ZHHansWeekdayParser').Parser;\nexports.ZHHansTimeExpressionParser = require('./zh-Hans/ZHHansTimeExpressionParser').Parser;\nexports.ZHHansCasualDateParser = require('./zh-Hans/ZHHansCasualDateParser').Parser;\nexports.ZHHansDeadlineFormatParser = require('./zh-Hans/ZHHansDeadlineFormatParser').Parser;\n\nexports.DEDeadlineFormatParser = require('./de/DEDeadlineFormatParser').Parser;\nexports.DEMonthNameLittleEndianParser = require('./de/DEMonthNameLittleEndianParser').Parser;\nexports.DEMonthNameParser = require('./de/DEMonthNameParser').Parser;\nexports.DESlashDateFormatParser = require('./de/DESlashDateFormatParser').Parser;\nexports.DETimeAgoFormatParser = require('./de/DETimeAgoFormatParser').Parser;\nexports.DETimeExpressionParser = require('./de/DETimeExpressionParser').Parser;\nexports.DEWeekdayParser = require('./de/DEWeekdayParser').Parser;\nexports.DECasualDateParser = require('./de/DECasualDateParser').Parser;\n\nexports.NLMonthNameParser = require('./nl/NLMonthNameParser').Parser;\nexports.NLMonthNameLittleEndianParser = require('./nl/NLMonthNameLittleEndianParser').Parser;\nexports.NLSlashDateFormatParser = require('./nl/NLSlashDateFormatParser').Parser;\nexports.NLWeekdayParser = require('./nl/NLWeekdayParser').Parser;\nexports.NLTimeExpressionParser = require('./nl/NLTimeExpressionParser').Parser;\nexports.NLCasualDateParser = require('./nl/NLCasualDateParser').Parser;\nexports.NLCasualTimeParser = require('./nl/NLCasualTimeParser').Parser;\n","import dayjs from 'dayjs';\n\nexport class ParsedResult {\n\n    constructor(result) {\n        result = result || {};\n\n        this.ref   = result.ref;\n        this.index = result.index;\n        this.text  = result.text;\n        this.tags  = result.tags || {};\n\n        this.start = new ParsedComponents(result.start, result.ref);\n\n        if(result.end){\n            this.end = new ParsedComponents(result.end, result.ref);\n        }\n    }\n\n    clone() {\n        var result = new ParsedResult(this);\n        result.tags = JSON.parse(JSON.stringify(this.tags));\n        result.start = this.start.clone();\n        if (this.end) {\n            result.end = this.end.clone();\n        }\n\n        return result\n    }\n\n    date() {\n        return this.start.date();\n    }\n\n    hasPossibleDates() {\n        return this.start.isPossibleDate() && (!this.end || this.end.isPossibleDate());\n    }\n\n    isOnlyWeekday() {\n        return this.start.isOnlyWeekdayComponent();\n    }\n\n    isOnlyDayMonth() {\n        return this.start.isOnlyDayMonthComponent();\n    }\n}\n\nexport class ParsedComponents {\n\n    constructor(components, ref) {\n        this.knownValues = {};\n        this.impliedValues = {};\n\n        if (components) {\n            for (let key in components) {\n                this.knownValues[key] = components[key];\n            }\n        }\n\n        if (ref) {\n            ref = dayjs(ref);\n            this.imply('day', ref.date());\n            this.imply('month', ref.month() + 1);\n            this.imply('year', ref.year())\n        }\n\n\n        this.imply('hour', 12);\n        this.imply('minute', 0);\n        this.imply('second', 0);\n        this.imply('millisecond', 0);\n    }\n\n    get(component) {\n        if (component in this.knownValues) return this.knownValues[component];\n        if (component in this.impliedValues) return this.impliedValues[component];\n    }\n\n    isCertain(component) {\n        return component in this.knownValues;\n    }\n\n    imply(component, value) {\n        if (component in this.knownValues) return;\n        this.impliedValues[component] = value;\n    }\n\n    assign(component, value) {\n        this.knownValues[component] = value;\n        delete this.impliedValues[component];\n    }\n\n    clone() {\n        const component = new ParsedComponents();\n        component.knownValues = JSON.parse(JSON.stringify(this.knownValues));\n        component.impliedValues = JSON.parse(JSON.stringify(this.impliedValues));\n        return component;\n    }\n\n    isOnlyWeekdayComponent() {\n        return this.isCertain('weekday') && !this.isCertain('day') && !this.isCertain('month');\n    }\n\n    isOnlyDayMonthComponent() {\n        return this.isCertain('day') && this.isCertain('month') && !this.isCertain('year');\n    }\n\n    isPossibleDate() {\n        var dateMoment = this.dayjs();\n        if (this.isCertain('timezoneOffset')) {\n            const adjustTimezoneOffset = this.get('timezoneOffset') - dateMoment.utcOffset();\n            dateMoment = dateMoment.add(adjustTimezoneOffset, 'minutes');\n        }\n\n        if (dateMoment.get('year') != this.get('year')) return false;\n        if (dateMoment.get('month') != this.get('month')-1) return false;\n        if (dateMoment.get('date') != this.get('day')) return false;\n        if (dateMoment.get('hour') != this.get('hour')) return false;\n        if (dateMoment.get('minute') != this.get('minute')) return false;\n\n        return true;\n    }\n\n    date() {\n        const result = this.dayjs();\n        return result.toDate();\n    }\n\n    dayjs() {\n        var result = dayjs();\n\n        result = result.year(this.get('year'));\n        result = result.month(this.get('month') - 1);\n        result = result.date(this.get('day'));\n        result = result.hour(this.get('hour'));\n        result = result.minute(this.get('minute'));\n        result = result.second(this.get('second'));\n        result = result.millisecond(this.get('millisecond'));\n\n        // Javascript Date Object return minus timezone offset\n        var currentTimezoneOffset = result.utcOffset();\n        var targetTimezoneOffset = this.get('timezoneOffset') !== undefined ?\n            this.get('timezoneOffset') : currentTimezoneOffset;\n\n        var adjustTimezoneOffset = targetTimezoneOffset - currentTimezoneOffset;\n        result = result.add(-adjustTimezoneOffset, 'minute');\n\n        return result;\n    }\n\n    moment() {\n        // Keep for compatibility\n        return this.dayjs();\n    }\n}\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):t.dayjs=e()}(this,function(){\"use strict\";var t=\"millisecond\",e=\"second\",n=\"minute\",r=\"hour\",i=\"day\",s=\"week\",u=\"month\",o=\"quarter\",a=\"year\",h=/^(\\d{4})-?(\\d{1,2})-?(\\d{0,2})[^0-9]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?.?(\\d{1,3})?$/,f=/\\[([^\\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},d={s:c,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+c(r,2,\"0\")+\":\"+c(i,2,\"0\")},m:function(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,u),i=e-r<0,s=t.clone().add(n+(i?-1:1),u);return Number(-(n+(e-r)/(i?r-s:s-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(h){return{M:u,y:a,w:s,d:i,D:\"date\",h:r,m:n,s:e,ms:t,Q:o}[h]||String(h||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},$={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\")},l=\"en\",m={};m[l]=$;var y=function(t){return t instanceof v},M=function(t,e,n){var r;if(!t)return l;if(\"string\"==typeof t)m[t]&&(r=t),e&&(m[t]=e,r=t);else{var i=t.name;m[i]=t,r=i}return!n&&r&&(l=r),r||!n&&l},g=function(t,e){if(y(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new v(n)},D=d;D.l=M,D.i=y,D.w=function(t,e){return g(t,{locale:e.$L,utc:e.$u,$offset:e.$offset})};var v=function(){function c(t){this.$L=this.$L||M(t.locale,null,!0),this.parse(t)}var d=c.prototype;return d.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(D.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match(h);if(r)return n?new Date(Date.UTC(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}return new Date(e)}(t),this.init()},d.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},d.$utils=function(){return D},d.isValid=function(){return!(\"Invalid Date\"===this.$d.toString())},d.isSame=function(t,e){var n=g(t);return this.startOf(e)<=n&&n<=this.endOf(e)},d.isAfter=function(t,e){return g(t)<this.startOf(e)},d.isBefore=function(t,e){return this.endOf(e)<g(t)},d.$g=function(t,e,n){return D.u(t)?this[e]:this.set(n,t)},d.year=function(t){return this.$g(t,\"$y\",a)},d.month=function(t){return this.$g(t,\"$M\",u)},d.day=function(t){return this.$g(t,\"$W\",i)},d.date=function(t){return this.$g(t,\"$D\",\"date\")},d.hour=function(t){return this.$g(t,\"$H\",r)},d.minute=function(t){return this.$g(t,\"$m\",n)},d.second=function(t){return this.$g(t,\"$s\",e)},d.millisecond=function(e){return this.$g(e,\"$ms\",t)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(t,o){var h=this,f=!!D.u(o)||o,c=D.p(t),d=function(t,e){var n=D.w(h.$u?Date.UTC(h.$y,e,t):new Date(h.$y,e,t),h);return f?n:n.endOf(i)},$=function(t,e){return D.w(h.toDate()[t].apply(h.toDate(\"s\"),(f?[0,0,0,0]:[23,59,59,999]).slice(e)),h)},l=this.$W,m=this.$M,y=this.$D,M=\"set\"+(this.$u?\"UTC\":\"\");switch(c){case a:return f?d(1,0):d(31,11);case u:return f?d(1,m):d(0,m+1);case s:var g=this.$locale().weekStart||0,v=(l<g?l+7:l)-g;return d(f?y-v:y+(6-v),m);case i:case\"date\":return $(M+\"Hours\",0);case r:return $(M+\"Minutes\",1);case n:return $(M+\"Seconds\",2);case e:return $(M+\"Milliseconds\",3);default:return this.clone()}},d.endOf=function(t){return this.startOf(t,!1)},d.$set=function(s,o){var h,f=D.p(s),c=\"set\"+(this.$u?\"UTC\":\"\"),d=(h={},h[i]=c+\"Date\",h.date=c+\"Date\",h[u]=c+\"Month\",h[a]=c+\"FullYear\",h[r]=c+\"Hours\",h[n]=c+\"Minutes\",h[e]=c+\"Seconds\",h[t]=c+\"Milliseconds\",h)[f],$=f===i?this.$D+(o-this.$W):o;if(f===u||f===a){var l=this.clone().set(\"date\",1);l.$d[d]($),l.init(),this.$d=l.set(\"date\",Math.min(this.$D,l.daysInMonth())).toDate()}else d&&this.$d[d]($);return this.init(),this},d.set=function(t,e){return this.clone().$set(t,e)},d.get=function(t){return this[D.p(t)]()},d.add=function(t,o){var h,f=this;t=Number(t);var c=D.p(o),d=function(e){var n=g(f);return D.w(n.date(n.date()+Math.round(e*t)),f)};if(c===u)return this.set(u,this.$M+t);if(c===a)return this.set(a,this.$y+t);if(c===i)return d(1);if(c===s)return d(7);var $=(h={},h[n]=6e4,h[r]=36e5,h[e]=1e3,h)[c]||1,l=this.$d.getTime()+t*$;return D.w(l,this)},d.subtract=function(t,e){return this.add(-1*t,e)},d.format=function(t){var e=this;if(!this.isValid())return\"Invalid Date\";var n=t||\"YYYY-MM-DDTHH:mm:ssZ\",r=D.z(this),i=this.$locale(),s=this.$H,u=this.$m,o=this.$M,a=i.weekdays,h=i.months,c=function(t,r,i,s){return t&&(t[r]||t(e,n))||i[r].substr(0,s)},d=function(t){return D.s(s%12||12,t,\"0\")},$=i.meridiem||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:D.s(o+1,2,\"0\"),MMM:c(i.monthsShort,o,h,3),MMMM:c(h,o),D:this.$D,DD:D.s(this.$D,2,\"0\"),d:String(this.$W),dd:c(i.weekdaysMin,this.$W,a,2),ddd:c(i.weekdaysShort,this.$W,a,3),dddd:a[this.$W],H:String(s),HH:D.s(s,2,\"0\"),h:d(1),hh:d(2),a:$(s,u,!0),A:$(s,u,!1),m:String(u),mm:D.s(u,2,\"0\"),s:String(this.$s),ss:D.s(this.$s,2,\"0\"),SSS:D.s(this.$ms,3,\"0\"),Z:r};return n.replace(f,function(t,e){return e||l[t]||r.replace(\":\",\"\")})},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(t,h,f){var c,d=D.p(h),$=g(t),l=6e4*($.utcOffset()-this.utcOffset()),m=this-$,y=D.m(this,$);return y=(c={},c[a]=y/12,c[u]=y,c[o]=y/3,c[s]=(m-l)/6048e5,c[i]=(m-l)/864e5,c[r]=m/36e5,c[n]=m/6e4,c[e]=m/1e3,c)[d]||m,f?y:D.a(y)},d.daysInMonth=function(){return this.endOf(u).$D},d.$locale=function(){return m[this.$L]},d.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=M(t,e,!0);return r&&(n.$L=r),n},d.clone=function(){return D.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},c}();return g.prototype=v.prototype,g.extend=function(t,e){return t(e,v,g),g},g.locale=M,g.isDayjs=y,g.unix=function(t){return g(1e3*t)},g.en=m[l],g.Ls=m,g});\n","\nexports.Refiner = function Refiner() {\n\n    this.refine = function(text, results, opt) { return results; };\n}\n\nexports.Filter = function Filter() {\n    exports.Refiner.call(this);\n\n    this.isValid = function(text, result, opt) { return true; }\n    this.refine = function(text, results, opt) {\n\n        var filteredResult = [];\n        for (var i=0; i < results.length; i++) {\n\n            var result = results[i];\n            if (this.isValid(text, result, opt)) {\n                filteredResult.push(result);\n            }\n        }\n\n        return filteredResult;\n    }\n}\n\n\n// Common refiners\nexports.OverlapRemovalRefiner = require('./OverlapRemovalRefiner').Refiner;\nexports.ExtractTimezoneOffsetRefiner = require('./ExtractTimezoneOffsetRefiner').Refiner;\nexports.ExtractTimezoneAbbrRefiner = require('./ExtractTimezoneAbbrRefiner').Refiner;\nexports.ForwardDateRefiner = require('./ForwardDateRefiner').Refiner;\nexports.UnlikelyFormatFilter = require('./UnlikelyFormatFilter').Refiner;\n\n// en refiners\nexports.ENMergeDateTimeRefiner = require('./en/ENMergeDateTimeRefiner').Refiner;\nexports.ENMergeDateRangeRefiner = require('./en/ENMergeDateRangeRefiner').Refiner;\nexports.ENPrioritizeSpecificDateRefiner = require('./en/ENPrioritizeSpecificDateRefiner').Refiner;\n\n// ja refiners\nexports.JPMergeDateRangeRefiner = require('./ja/JPMergeDateRangeRefiner').Refiner;\n\n// fr refiners\nexports.FRMergeDateRangeRefiner = require('./fr/FRMergeDateRangeRefiner').Refiner;\nexports.FRMergeDateTimeRefiner = require('./fr/FRMergeDateTimeRefiner').Refiner;\n\n// de refiners\nexports.DEMergeDateRangeRefiner = require('./de/DEMergeDateRangeRefiner').Refiner;\nexports.DEMergeDateTimeRefiner = require('./de/DEMergeDateTimeRefiner').Refiner;\n\n// nl refiners\nexports.NLMergeDateRangeRefiner = require('./nl/NLMergeDateRangeRefiner').Refiner;\nexports.NLMergeDateTimeRefiner = require('./nl/NLMergeDateTimeRefiner').Refiner;\n","exports.WEEKDAY_OFFSET = { \n    'sunday': 0, \n    'sun': 0, \n    'monday': 1, \n    'mon': 1,\n    'tuesday': 2, \n    'tue':2, \n    'wednesday': 3, \n    'wed': 3, \n    'thursday': 4, \n    'thur': 4, \n    'thu': 4,\n    'friday': 5, \n    'fri': 5,\n    'saturday': 6, \n    'sat': 6\n};\n    \nexports.MONTH_OFFSET = { \n    'january': 1,\n    'jan': 1,\n    'jan.': 1,\n    'february': 2,\n    'feb': 2,\n    'feb.': 2,\n    'march': 3,\n    'mar': 3,\n    'mar.': 3,\n    'april': 4,\n    'apr': 4,\n    'apr.': 4,\n    'may': 5,\n    'june': 6,\n    'jun': 6,\n    'jun.': 6,\n    'july': 7,\n    'jul': 7,\n    'jul.': 7,\n    'august': 8,\n    'aug': 8,\n    'aug.': 8,\n    'september': 9,\n    'sep': 9,\n    'sep.': 9,\n    'sept': 9,\n    'sept.': 9,\n    'october': 10,\n    'oct': 10,\n    'oct.': 10,\n    'november': 11,\n    'nov': 11,\n    'nov.': 11,\n    'december': 12,\n    'dec': 12,\n    'dec.': 12\n};\n\nexports.MONTH_PATTERN = '(?:' \n    + Object.keys(exports.MONTH_OFFSET).join('|').replace(/\\./g, '\\\\.')\n    + ')';\n\nexports.INTEGER_WORDS = {\n    'one' : 1,\n    'two' : 2,\n    'three' : 3,\n    'four' : 4,\n    'five' : 5,\n    'six' : 6,\n    'seven' : 7,\n    'eight' : 8,\n    'nine' : 9,\n    'ten' : 10,\n    'eleven' : 11,\n    'twelve' : 12\n};\nexports.INTEGER_WORDS_PATTERN = '(?:' \n    + Object.keys(exports.INTEGER_WORDS).join('|') \n    +')';\n\nexports.ORDINAL_WORDS = {\n    'first' : 1,\n    'second': 2,\n    'third': 3,\n    'fourth': 4,\n    'fifth': 5,\n    'sixth': 6,\n    'seventh': 7,\n    'eighth': 8,\n    'ninth': 9,\n    'tenth': 10,\n    'eleventh': 11,\n    'twelfth': 12,\n    'thirteenth': 13,\n    'fourteenth': 14,\n    'fifteenth': 15,\n    'sixteenth': 16,\n    'seventeenth': 17,\n    'eighteenth': 18,\n    'nineteenth': 19,\n    'twentieth': 20,\n    'twenty first': 21,\n    'twenty second': 22,\n    'twenty third': 23,\n    'twenty fourth': 24,\n    'twenty fifth': 25,\n    'twenty sixth': 26,\n    'twenty seventh': 27,\n    'twenty eighth': 28,\n    'twenty ninth': 29,\n    'thirtieth': 30,\n    'thirty first': 31\n};\nexports.ORDINAL_WORDS_PATTERN = '(?:' \n    + Object.keys(exports.ORDINAL_WORDS).join('|').replace(/ /g, '[ -]') \n    + ')';\n\nvar TIME_UNIT = \n    '(' + exports.INTEGER_WORDS_PATTERN + '|[0-9]+|[0-9]+\\.[0-9]+|an?(?:\\\\s*few)?|half(?:\\\\s*an?)?)\\\\s*' +\n    '(sec(?:onds?)?|min(?:ute)?s?|h(?:r|rs|our|ours)?|weeks?|days?|months?|years?)\\\\s*';\n\nvar TIME_UNIT_STRICT = \n    '(?:[0-9]+|an?)\\\\s*' +\n    '(?:seconds?|minutes?|hours?|days?)\\\\s*';\n\nvar PATTERN_TIME_UNIT = new RegExp(TIME_UNIT, 'i');\n\nexports.TIME_UNIT_PATTERN = '(?:' + TIME_UNIT + ')+';\nexports.TIME_UNIT_STRICT_PATTERN = '(?:' + TIME_UNIT_STRICT + ')+';\n\nexports.extractDateTimeUnitFragments = function (timeunitText) {\n    var fragments = {};\n    var remainingText = timeunitText;\n    var match = PATTERN_TIME_UNIT.exec(remainingText);\n    while (match) {\n        collectDateTimeFragment(match, fragments);\n        remainingText = remainingText.substring(match[0].length);\n        match = PATTERN_TIME_UNIT.exec(remainingText);\n    }\n    return fragments;\n};\n\nfunction collectDateTimeFragment(match, fragments) {\n    var num = match[1].toLowerCase() ;\n    if (exports.INTEGER_WORDS[num] !== undefined) {\n        num = exports.INTEGER_WORDS[num];\n    } else if(num === 'a' || num === 'an'){\n        num = 1;\n    } else if (num.match(/few/)) {\n        num = 3;\n    } else if (num.match(/half/)) {\n        num = 0.5;\n    } else {\n        num = parseFloat(num);\n    }\n\n    if (match[2].match(/^h/i)) {\n        fragments['hour'] = num;\n    } else if (match[2].match(/min/i)) {\n        fragments['minute'] = num;\n    } else if (match[2].match(/sec/i)) {\n        fragments['second'] = num;\n    } else if (match[2].match(/week/i)) {\n        fragments['week'] = num;\n    } else if (match[2].match(/day/i)) {\n        fragments['d'] = num;\n    } else if (match[2].match(/month/i)) {\n        fragments['month'] = num;\n    } else if (match[2].match(/year/i)) {\n        fragments['year'] = num;\n    }\n\n    return fragments;\n}","var NUMBER = {\n  '零': 0,\n  '一': 1,\n  '二': 2,\n  '兩': 2,\n  '两': 2,\n  '三': 3,\n  '四': 4,\n  '五': 5,\n  '六': 6,\n  '七': 7,\n  '八': 8,\n  '九': 9,\n  '十': 10,\n  '冬': 11,\n  '腊': 12,\n  '廿': 20,\n  '卅': 30,\n};\n\nvar WEEKDAY_OFFSET = {\n  '天': 0,\n  '日': 0,\n  '末': 0,\n  '一': 1,\n  '二': 2,\n  '三': 3,\n  '四': 4,\n  '五': 5,\n  '六': 6,\n};\n\nexports.NUMBER = NUMBER;\nexports.WEEKDAY_OFFSET = WEEKDAY_OFFSET;\n\nexports.zhStringToNumber = function (text) {\n  var number = 0;\n  for (var i = 0; i < text.length; i++) {\n    var char = text[i];\n    if (char === '十') {\n      number = number === 0 ? NUMBER[char] : (number * NUMBER[char]);\n    } else {\n      number += NUMBER[char];\n    }\n  }\n\n  return number;\n};\n\nexports.zhStringToYear = function (text) {\n  var string = '';\n  for (var i = 0; i < text.length; i++) {\n    var char = text[i];\n    string = string + NUMBER[char];\n  }\n  return parseInt(string);\n};","/*\n    \n*/\nvar ParsedComponents = require('../../result').ParsedComponents;\nvar Refiner = require('../refiner').Refiner;\n\nvar PATTERN = new RegExp(\"^\\\\s*(T|at|after|before|on|of|,|-)?\\\\s*$\");\n\nvar isDateOnly = exports.isDateOnly = function(result) {\n    return !result.start.isCertain('hour');\n}\n    \nvar isTimeOnly = exports.isTimeOnly = function(result) {\n    return !result.start.isCertain('month') && !result.start.isCertain('weekday');\n}\n\nvar isAbleToMerge = exports.isAbleToMerge = function(text, prevResult, curResult) {\n    var textBetween = text.substring(prevResult.index + prevResult.text.length, curResult.index);\n    return textBetween.match(PATTERN);\n}\n\nvar mergeDateTimeComponent = exports.mergeDateTimeComponent = function(dateComponent, timeComponent) {\n    var dateTimeComponent = dateComponent.clone();\n\n    if (timeComponent.isCertain('hour')) {\n        dateTimeComponent.assign('hour', timeComponent.get('hour'));\n        dateTimeComponent.assign('minute', timeComponent.get('minute'));\n\n        if (timeComponent.isCertain('second')) {\n            dateTimeComponent.assign('second', timeComponent.get('second'));\n\n            if (timeComponent.isCertain('millisecond')) {\n                dateTimeComponent.assign('millisecond', timeComponent.get('millisecond'));\n            } else {\n                dateTimeComponent.imply('millisecond', timeComponent.get('millisecond'));\n            }\n        } else {\n            dateTimeComponent.imply('second', timeComponent.get('second'));\n            dateTimeComponent.imply('millisecond', timeComponent.get('millisecond'));\n        }\n        \n    } else {\n        dateTimeComponent.imply('hour', timeComponent.get('hour'));\n        dateTimeComponent.imply('minute', timeComponent.get('minute'));\n        dateTimeComponent.imply('second', timeComponent.get('second'));\n        dateTimeComponent.imply('millisecond', timeComponent.get('millisecond'));\n    }\n\n    if (timeComponent.isCertain('meridiem')) {\n        dateTimeComponent.assign('meridiem', timeComponent.get('meridiem'));\n    } else if (\n        timeComponent.get('meridiem') !== undefined &&\n        dateTimeComponent.get('meridiem') === undefined\n    ) {\n        dateTimeComponent.imply('meridiem', timeComponent.get('meridiem'));\n    }\n\n    if (dateTimeComponent.get('meridiem') == 1 && dateTimeComponent.get('hour') < 12) {\n        if (timeComponent.isCertain('hour')) {\n            dateTimeComponent.assign('hour', dateTimeComponent.get('hour') + 12);\n        } else {\n            dateTimeComponent.imply('hour', dateTimeComponent.get('hour') + 12);\n        }\n    }\n\n    return dateTimeComponent;\n}\n\n\nfunction mergeResult(text, dateResult, timeResult){\n\n    var beginDate = dateResult.start;\n    var beginTime = timeResult.start;\n    var beginDateTime = mergeDateTimeComponent(beginDate, beginTime);\n    \n    if (dateResult.end != null || timeResult.end != null) {\n        \n        var endDate   = dateResult.end == null ? dateResult.start : dateResult.end;            \n        var endTime   = timeResult.end == null ? timeResult.start : timeResult.end;\n        var endDateTime = mergeDateTimeComponent(endDate, endTime);\n        \n        if (dateResult.end == null && endDateTime.date().getTime() < beginDateTime.date().getTime()) {\n            // Ex. 9pm - 1am\n            if (endDateTime.isCertain('day')) {\n                endDateTime.assign('day', endDateTime.get('day') + 1);\n            } else {\n                endDateTime.imply('day', endDateTime.get('day') + 1);\n            }\n        }\n\n        dateResult.end = endDateTime;\n    }\n\n    dateResult.start = beginDateTime;    \n\n    var startIndex = Math.min(dateResult.index, timeResult.index);\n    var endIndex = Math.max(\n            dateResult.index + dateResult.text.length, \n            timeResult.index + timeResult.text.length);\n    \n    dateResult.index = startIndex;\n    dateResult.text  = text.substring(startIndex, endIndex);\n\n    for (var tag in timeResult.tags) {\n        dateResult.tags[tag] = true;\n    }\n    dateResult.tags['ENMergeDateAndTimeRefiner'] = true;\n    return dateResult;\n}\n\nexports.Refiner = function ENMergeDateTimeRefiner() {\n    Refiner.call(this);\n\n\n    this.refine = function(text, results, opt) { \n\n        if (results.length < 2) return results;\n\n        var mergedResult = [];\n        var currResult = null;\n        var prevResult = null;\n\n        for (var i = 1; i < results.length; i++) {\n\n            currResult = results[i];\n            prevResult = results[i-1];\n            \n            if (isDateOnly(prevResult) && isTimeOnly(currResult) \n                    && isAbleToMerge(text, prevResult, currResult)) {\n                \n                prevResult = mergeResult(text, prevResult, currResult);\n                currResult = results[i + 1];\n                i += 1;\n                \n            } else if (isDateOnly(currResult) && isTimeOnly(prevResult)\n                    && isAbleToMerge(text, prevResult, currResult)) {\n                \n                prevResult = mergeResult(text, currResult, prevResult);\n                currResult = results[i + 1];\n                i += 1;\n            }\n            \n            mergedResult.push(prevResult);\n        }\n\n        if (currResult != null) {\n            mergedResult.push(currResult);\n        }\n\n        return mergedResult;\n    }\n}","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar DAYS_OFFSET = { 'sunday': 0, 'sun': 0, 'monday': 1, 'mon': 1,'tuesday': 2, 'tues':2, 'tue':2, 'wednesday': 3, 'wed': 3,\n    'thursday': 4, 'thurs':4, 'thur': 4, 'thu': 4,'friday': 5, 'fri': 5,'saturday': 6, 'sat': 6};\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n    '(?:(?:\\\\,|\\\\(|\\\\（)\\\\s*)?' +\n    '(?:on\\\\s*?)?' +\n    '(?:(this|last|past|next)\\\\s*)?' +\n    '(' + Object.keys(DAYS_OFFSET).join('|') + ')' +\n    '(?:\\\\s*(?:\\\\,|\\\\)|\\\\）))?' +\n    '(?:\\\\s*(this|last|past|next)\\\\s*week)?' +\n    '(?=\\\\W|$)', 'i');\n\nvar PREFIX_GROUP = 2;\nvar WEEKDAY_GROUP = 3;\nvar POSTFIX_GROUP = 4;\n\n\nexports.updateParsedComponent = function updateParsedComponent(result, ref, offset, modifier) {\n\n    var startMoment = dayjs(ref);\n    var startMomentFixed = false;\n    var refOffset = startMoment.day();\n\n    if(modifier == 'last' || modifier == 'past') {\n        startMoment =startMoment.day(offset - 7);\n        startMomentFixed = true;\n    } else if(modifier == 'next') {\n        startMoment = startMoment.day(offset + 7);\n        startMomentFixed = true;\n    } else if(modifier == 'this') {\n        startMoment = startMoment.day(offset);\n    } else {\n        if (Math.abs(offset - 7 - refOffset) < Math.abs(offset - refOffset)) {\n            startMoment = startMoment.day(offset - 7);\n        } else if (Math.abs(offset + 7 - refOffset) < Math.abs(offset - refOffset)) {\n            startMoment = startMoment.day(offset + 7);\n        } else {\n            startMoment = startMoment.day(offset);\n        }\n    }\n\n    result.start.assign('weekday', offset);\n    if (startMomentFixed) {\n        result.start.assign('day', startMoment.date());\n        result.start.assign('month', startMoment.month() + 1);\n        result.start.assign('year', startMoment.year());\n    } else {\n        result.start.imply('day', startMoment.date());\n        result.start.imply('month', startMoment.month() + 1);\n        result.start.imply('year', startMoment.year());\n    }\n\n    return result;\n};\n\n\nexports.Parser = function ENWeekdayParser() {\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; };\n\n    this.extract = function(text, ref, match, opt){\n        var index = match.index + match[1].length;\n        var text = match[0].substr(match[1].length, match[0].length - match[1].length);\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref\n        });\n\n        var dayOfWeek = match[WEEKDAY_GROUP].toLowerCase();\n        var offset = DAYS_OFFSET[dayOfWeek];\n        if(offset === undefined) {\n            return null;\n        }\n\n        var prefix = match[PREFIX_GROUP];\n        var postfix = match[POSTFIX_GROUP];\n        var norm = prefix || postfix;\n        norm = norm || '';\n        norm = norm.toLowerCase();\n\n        exports.updateParsedComponent(result, ref, offset, norm);\n        result.tags['ENWeekdayParser'] = true;\n\n        return result;\n    }\n};\n","exports.WEEKDAY_OFFSET = { \n    'sonntag': 0, \n    'so': 0, \n    'montag': 1, \n    'mo': 1,\n    'dienstag': 2, \n    'di':2, \n    'mittwoch': 3, \n    'mi': 3, \n    'donnerstag': 4, \n    'do': 4, \n    'freitag': 5, \n    'fr': 5,\n    'samstag': 6, \n    'sa': 6\n};\n    \nexports.MONTH_OFFSET = { \n    'januar': 1,\n    'jan': 1,\n    'jan.': 1,\n    'februar': 2,\n    'feb': 2,\n    'feb.': 2,\n    'märz': 3,\n    'maerz': 3,\n    'mär': 3,\n    'mär.': 3,\n    'mrz': 3,\n    'mrz.': 3,\n    'april': 4,\n    'apr': 4,\n    'apr.': 4,\n    'mai': 5,\n    'juni': 6,\n    'jun': 6,\n    'jun.': 6,\n    'juli': 7,\n    'jul': 7,\n    'jul.': 7,\n    'august': 8,\n    'aug': 8,\n    'aug.': 8,\n    'september': 9,\n    'sep': 9,\n    'sep.': 9,\n    'sept': 9,\n    'sept.': 9,\n    'oktober': 10,\n    'okt': 10,\n    'okt.': 10,\n    'november': 11,\n    'nov': 11,\n    'nov.': 11,\n    'dezember': 12,\n    'dez': 12,\n    'dez.': 12\n};\n\nexports.INTEGER_WORDS_PATTERN = '(?:eins|zwei|drei|vier|fünf|fuenf|sechs|sieben|acht|neun|zehn|elf|zwölf|zwoelf)';\nexports.INTEGER_WORDS = {\n    'eins' : 1,\n    'zwei' : 2,\n    'drei' : 3,\n    'vier' : 4,\n    'fünf' : 5,\n    'fuenf': 5,\n    'sechs' : 6,\n    'sieben' : 7,\n    'acht' : 8,\n    'neun' : 9,\n    'zehn' : 10,\n    'elf' : 11,\n    'zwölf' : 12,\n    'zwoelf' : 12\n};\n","/*\n  \n*/\nvar Refiner = require('../refiner').Refiner;\n\nexports.Refiner = function ENMergeDateRangeRefiner() {\n    Refiner.call(this);\n\n    this.pattern = function () { return /^\\s*(to|\\-)\\s*$/i };\n\n    this.refine = function(text, results, opt) {\n\n        if (results.length < 2) return results;\n        \n        var mergedResult = [];\n        var currResult = null;\n        var prevResult = null;\n        \n        for (var i=1; i<results.length; i++){\n            \n            currResult = results[i];\n            prevResult = results[i-1];\n            \n            if (!prevResult.end && !currResult.end \n                && this.isAbleToMerge(text, prevResult, currResult)) {\n              \n                prevResult = this.mergeResult(text, prevResult, currResult);\n                currResult = null;\n                i += 1;\n            }\n            \n            mergedResult.push(prevResult);\n        }\n        \n        if (currResult != null) {\n            mergedResult.push(currResult);\n        }\n\n\n        return mergedResult;\n    };\n\n    this.isAbleToMerge = function(text, result1, result2) {\n        var begin = result1.index + result1.text.length;\n        var end   = result2.index;\n        var textBetween = text.substring(begin,end);\n\n        return textBetween.match(this.pattern());\n    };\n\n    this.mergeResult = function(text, fromResult, toResult) {\n\n        if (!fromResult.isOnlyWeekday() && !toResult.isOnlyWeekday()) {\n            \n            var timeKeys = {'hour': true, 'minute': true, 'second': true};\n\n            for (var key in toResult.start.knownValues) {\n                if (!fromResult.start.isCertain(key)) {\n                    fromResult.start.assign(key, toResult.start.get(key));\n                }\n            }\n\n            for (var key in fromResult.start.knownValues) {\n                if (!toResult.start.isCertain(key)) {\n                    toResult.start.assign(key, fromResult.start.get(key));\n                }\n            }\n        }\n\n        if (fromResult.start.date().getTime() > toResult.start.date().getTime()) {\n            \n            var fromMoment = fromResult.start.dayjs();\n            var toMoment = toResult.start.dayjs();\n\n            if (fromResult.isOnlyWeekday() && fromMoment.add(-7, 'days').isBefore(toMoment)) {\n                fromMoment = fromMoment.add(-7, 'days');\n                fromResult.start.imply('day', fromMoment.date());\n                fromResult.start.imply('month', fromMoment.month() + 1);\n                fromResult.start.imply('year', fromMoment.year());\n            } else if (toResult.isOnlyWeekday() && toMoment.add(7, 'days').isAfter(fromMoment)) {\n                toMoment = toMoment.add(7, 'days');\n                toResult.start.imply('day', toMoment.date());\n                toResult.start.imply('month', toMoment.month() + 1);\n                toResult.start.imply('year', toMoment.year());\n            } else {\n                var tmp = toResult;\n                toResult = fromResult;\n                fromResult = tmp;\n            }\n        }\n        \n        fromResult.end = toResult.start;\n\n        \n\n        for (var tag in toResult.tags) {\n            fromResult.tags[tag] = true;\n        }\n\n            \n        var startIndex = Math.min(fromResult.index, toResult.index);\n        var endIndex = Math.max(\n            fromResult.index + fromResult.text.length, \n            toResult.index + toResult.text.length);\n            \n        fromResult.index = startIndex;\n        fromResult.text  = text.substring(startIndex, endIndex);\n        fromResult.tags[this.constructor.name] = true;\n        return fromResult;\n    }\n};\n\n","exports.WEEKDAY_OFFSET = { \r\n    'dimanche': 0, \r\n    'dim': 0, \r\n    'lundi': 1, \r\n    'lun': 1,\r\n    'mardi': 2, \r\n    'mar':2, \r\n    'mercredi': 3, \r\n    'mer': 3, \r\n    'jeudi': 4, \r\n    'jeu': 4, \r\n    'vendredi': 5, \r\n    'ven': 5,\r\n    'samedi': 6, \r\n    'sam': 6\r\n};\r\n    \r\nexports.MONTH_OFFSET = { \r\n    'janvier': 1,\r\n    'jan': 1,\r\n    'jan.': 1,\r\n    'février': 2,\r\n    'fév': 2,\r\n    'fév.': 2,\r\n    'fevrier': 2,\r\n    'fev': 2,\r\n    'fev.': 2,\r\n    'mars': 3,\r\n    'mar': 3,\r\n    'mar.': 3,\r\n    'avril': 4,\r\n    'avr': 4,\r\n    'avr.': 4,\r\n    'mai': 5,\r\n    'juin': 6,\r\n    'jun': 6,\r\n    'juillet': 7,\r\n    'jul': 7,\r\n    'jul.': 7,\r\n    'août': 8,\r\n    'aout': 8,\r\n    'septembre': 9,\r\n    'sep': 9,\r\n    'sep.': 9,\r\n    'sept': 9,\r\n    'sept.': 9,\r\n    'octobre': 10,\r\n    'oct': 10,\r\n    'oct.': 10,\r\n    'novembre': 11,\r\n    'nov': 11,\r\n    'nov.': 11,\r\n    'décembre': 12,\r\n    'decembre': 12,\r\n    'dec': 12,\r\n    'dec.': 12\r\n};\r\n\r\nexports.INTEGER_WORDS_PATTERN = '(?:un|deux|trois|quatre|cinq|six|sept|huit|neuf|dix|onze|douze|treize)';\r\nexports.INTEGER_WORDS = {\r\n    'un' : 1,\r\n    'deux' : 2,\r\n    'trois' : 3,\r\n    'quatre' : 4,\r\n    'cinq' : 5,\r\n    'six' : 6,\r\n    'sept' : 7,\r\n    'huit' : 8,\r\n    'neuf' : 9,\r\n    'dix' : 10,\r\n    'onze' : 11,\r\n    'douze' : 12,\r\n    'treize' : 13,\r\n};\r\n","exports.WEEKDAY_OFFSET = {\n    'zondag': 0,\n    'zo': 0,\n    'zo.': 0,\n    'maandag': 1,\n    'ma': 1,\n    'ma.': 1,\n    'dinsdag': 2,\n    'di':2,\n    'di.':2,\n    'woensdag': 3,\n    'wo': 3,\n    'wo.': 3,\n    'donderdag': 4,\n    'do': 4,\n    'do.': 4,\n    'vrijdag': 5,\n    'vr': 5,\n    'vr.': 5,\n    'zaterdag': 6,\n    'za': 6,\n    'za.': 6\n};\n\nexports.WEEKDAY_PATTERN = '(?:'\n    + Object.keys(exports.WEEKDAY_OFFSET).join('|').replace(/\\./g, '\\\\.')\n    + ')';\n\nexports.MONTH_OFFSET = {\n    'januari': 1,\n    'jan': 1,\n    'jan.': 1,\n    'februari': 2,\n    'feb': 2,\n    'feb.': 2,\n    'maart': 3,\n    'mrt': 3,\n    'mrt.': 3,\n    'april': 4,\n    'apr': 4,\n    'apr.': 4,\n    'mei': 5,\n    'juni': 6,\n    'jun': 6,\n    'jun.': 6,\n    'juli': 7,\n    'jul': 7,\n    'jul.': 7,\n    'augustus': 8,\n    'aug': 8,\n    'aug.': 8,\n    'september': 9,\n    'sep': 9,\n    'sep.': 9,\n    'sept': 9,\n    'sept.': 9,\n    'oktober': 10,\n    'okt': 10,\n    'okt.': 10,\n    'november': 11,\n    'nov': 11,\n    'nov.': 11,\n    'december': 12,\n    'dec': 12,\n    'dec.': 12\n};\n\nexports.MONTH_PATTERN = '(?:'\n    + Object.keys(exports.MONTH_OFFSET).join('|').replace(/\\./g, '\\\\.')\n    + ')';\n\nexports.INTEGER_WORDS = {\n    'een' : 1,\n    'één' : 1,\n    'twee' : 2,\n    'drie' : 3,\n    'vier' : 4,\n    'vijf' : 5,\n    'zes' : 6,\n    'zeven' : 7,\n    'acht' : 8,\n    'negen' : 9,\n    'tien' : 10,\n    'elf' : 11,\n    'twaalf' : 12\n};\nexports.INTEGER_WORDS_PATTERN = '(?:'\n    + Object.keys(exports.INTEGER_WORDS).join('|')\n    +')';\n\nexports.ORDINAL_WORDS = {\n    'eerste' : 1,\n    'tweede': 2,\n    'derde': 3,\n    'vierde': 4,\n    'vijfde': 5,\n    'zesde': 6,\n    'zevende': 7,\n    'achste': 8,\n    'negende': 9,\n    'tiende': 10,\n    'elfde': 11,\n    'twaalfde': 12,\n    'dertiende': 13,\n    'veertiende': 14,\n    'vijftiende': 15,\n    'zestiende': 16,\n    'zeventiende': 17,\n    'achttiende': 18,\n    'negentiende': 19,\n    'twintigste': 20,\n    'eenentwintigste': 21,\n    'tweeëntwintigste': 22,\n    'drieëntwintigste': 23,\n    'vierentwintigste': 24,\n    'vijfentwintigste': 25,\n    'zesentwintigste': 26,\n    'zevenentwintigste': 27,\n    'achtentwintigste': 28,\n    'negenentwintigste': 29,\n    'dertigste': 30,\n    'eenendertigste': 31\n};\nexports.ORDINAL_WORDS_PATTERN = '(?:'\n    + Object.keys(exports.ORDINAL_WORDS).join('|').replace(/ /g, '[ -]')\n    + ')';\n\nvar TIME_UNIT =\n    '(' + exports.INTEGER_WORDS_PATTERN + '|[0-9]+|[0-9]+\\.[0-9]+|en(?:\\\\s*few)?|half)\\\\s*' +\n    '(sec(?:onde?)?|min(?:uten)?s?|(?:uur|uren)?|weken?|dagen?|maanden?|jaren?)\\\\s*';\n\nvar TIME_UNIT_STRICT =\n    '(?:[0-9]+?)\\\\s*' +\n    '(?:seconden?|(?:minuut|minuten)|(?:uur|uren)|(?:dag|dagen))\\\\s*';\n\nvar PATTERN_TIME_UNIT = new RegExp(TIME_UNIT, 'i');\n\nexports.TIME_UNIT_PATTERN = '(?:' + TIME_UNIT + ')+';\nexports.TIME_UNIT_STRICT_PATTERN = '(?:' + TIME_UNIT_STRICT + ')+';\n\nexports.extractDateTimeUnitFragments = function (timeunitText) {\n    var fragments = {};\n    var remainingText = timeunitText;\n    var match = PATTERN_TIME_UNIT.exec(remainingText);\n    while (match) {\n        collectDateTimeFragment(match, fragments);\n        remainingText = remainingText.substring(match[0].length);\n        match = PATTERN_TIME_UNIT.exec(remainingText);\n    }\n    return fragments;\n};\n\nfunction collectDateTimeFragment(match, fragments) {\n    var num = match[1].toLowerCase() ;\n    if (exports.INTEGER_WORDS[num] !== undefined) {\n        num = exports.INTEGER_WORDS[num];\n    } else if (num.match(/half/)) {\n        num = 0.5;\n    } else {\n        num = parseFloat(num);\n    }\n\n    if (match[2].match(/^(?:uur|uren)/i)) {\n        fragments['hour'] = num;\n    } else if (match[2].match(/min/i)) {\n        fragments['minute'] = num;\n    } else if (match[2].match(/sec/i)) {\n        fragments['second'] = num;\n    } else if (match[2].match(/week/i)) {\n        fragments['week'] = num;\n    } else if (match[2].match(/dag/i)) {\n        fragments['d'] = num;\n    } else if (match[2].match(/maand/i)) {\n        fragments['month'] = num;\n    } else if (match[2].match(/jaar/i)) {\n        fragments['year'] = num;\n    }\n\n    return fragments;\n}\n","/*\n    ISO 8601\n    http://www.w3.org/TR/NOTE-datetime\n    - YYYY-MM-DD\n    - YYYY-MM-DDThh:mmTZD\n    - YYYY-MM-DDThh:mm:ssTZD\n    - YYYY-MM-DDThh:mm:ss.sTZD \n    - TZD = (Z or +hh:mm or -hh:mm)\n*/\nconst dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = new RegExp('(\\\\W|^)' \n            + '([0-9]{4})\\\\-([0-9]{1,2})\\\\-([0-9]{1,2})'\n            + '(?:T' //..\n                + '([0-9]{1,2}):([0-9]{1,2})' // hh:mm\n                + '(?::([0-9]{1,2})(?:\\\\.(\\\\d{1,4}))?)?' // :ss.s\n                + '(?:Z|([+-]\\\\d{2}):?(\\\\d{2})?)?' // TZD (Z or ±hh:mm or ±hhmm or ±hh)\n            + ')?'  //..\n            + '(?=\\\\W|$)', 'i');\n\nvar YEAR_NUMBER_GROUP = 2;\nvar MONTH_NUMBER_GROUP = 3;\nvar DATE_NUMBER_GROUP  = 4;\nvar HOUR_NUMBER_GROUP  = 5;\nvar MINUTE_NUMBER_GROUP = 6;\nvar SECOND_NUMBER_GROUP = 7;\nvar MILLISECOND_NUMBER_GROUP = 8;\nvar TZD_HOUR_OFFSET_GROUP = 9;\nvar TZD_MINUTE_OFFSET_GROUP = 10;\n\nexports.Parser = function ENISOFormatParser(){\n    Parser.apply(this, arguments);\n    \n    this.pattern = function() { return PATTERN; }\n    \n    this.extract = function(text, ref, match, opt){ \n        \n        var text = match[0].substr(match[1].length);\n        var index = match.index + match[1].length;\n\n        var result = new ParsedResult({\n            text: text,\n            index: index,\n            ref: ref,\n        })\n        \n        result.start.assign('year', parseInt(match[YEAR_NUMBER_GROUP]));\n        result.start.assign('month', parseInt(match[MONTH_NUMBER_GROUP]));\n        result.start.assign('day', parseInt(match[DATE_NUMBER_GROUP]));\n\n        if (dayjs(result.start.get('month')) > 12 || dayjs(result.start.get('month')) < 1 ||\n            dayjs(result.start.get('day')) > 31 || dayjs(result.start.get('day')) < 1) {\n            return null;\n        }\n\n        if (match[HOUR_NUMBER_GROUP] != null) {\n            \n            result.start.assign('hour',\n                    parseInt(match[HOUR_NUMBER_GROUP]));\n            result.start.assign('minute',\n                    parseInt(match[MINUTE_NUMBER_GROUP]));\n\n            if (match[SECOND_NUMBER_GROUP] != null) {\n\n                result.start.assign('second',\n                        parseInt(match[SECOND_NUMBER_GROUP]));\n            }\n\n            if (match[MILLISECOND_NUMBER_GROUP] != null) {\n\n                result.start.assign('millisecond',\n                        parseInt(match[MILLISECOND_NUMBER_GROUP]));\n            }\n\n            if (match[TZD_HOUR_OFFSET_GROUP] == null) {\n\n                result.start.assign('timezoneOffset', 0);\n            } else {\n\n                var minuteOffset = 0;\n                var hourOffset = parseInt(match[TZD_HOUR_OFFSET_GROUP]);\n                if (match[TZD_MINUTE_OFFSET_GROUP] != null)\n                    minuteOffset = parseInt(match[TZD_MINUTE_OFFSET_GROUP]);\n\n                var offset = hourOffset * 60;\n                if (offset < 0) {\n                    offset -= minuteOffset;\n                } else {\n                    offset += minuteOffset;\n                }\n\n                result.start.assign('timezoneOffset', offset);\n            }\n        }\n        \n        result.tags['ENISOFormatParser'] = true;\n        return result;\n    };\n\n}\n\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar util  = require('../../utils/EN');\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n    '(within|in)\\\\s*' +\n    '('+ util.INTEGER_WORDS_PATTERN + '|[0-9]+|an?(?:\\\\s*few)?|half(?:\\\\s*an?)?)\\\\s*' +\n    '(seconds?|min(?:ute)?s?|hours?|days?|weeks?|months?|years?)\\\\s*' +\n    '(?=\\\\W|$)', 'i'\n);\n\nvar STRICT_PATTERN = new RegExp('(\\\\W|^)' +\n    '(within|in)\\\\s*' +\n    '('+ util.INTEGER_WORDS_PATTERN + '|[0-9]+|an?)\\\\s*' +\n    '(seconds?|minutes?|hours?|days?)\\\\s*' +\n    '(?=\\\\W|$)', 'i'\n);\n\nexports.Parser = function ENDeadlineFormatParser(){\n    Parser.apply(this, arguments);\n\n    this.pattern = function() {\n        return this.isStrictMode()? STRICT_PATTERN : PATTERN;\n    };\n\n    this.extract = function(text, ref, match, opt){\n\n        var index = match.index + match[1].length;\n        var text  = match[0];\n        text  = match[0].substr(match[1].length, match[0].length - match[1].length);\n\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref\n        });\n\n        var num = match[3].toLowerCase();\n        if (util.INTEGER_WORDS[num] !== undefined) {\n            num = util.INTEGER_WORDS[num];\n        } else if (num === 'a' || num === 'an'){\n            num = 1;\n        } else if (num.match(/few/i)){\n            num = 3;\n        } else if (num.match(/half/i)) {\n            num = 0.5;\n        } else {\n            num = parseInt(num);\n        }\n\n        var date = dayjs(ref);\n        if (match[4].match(/day|week|month|year/i)) {\n\n            if (match[4].match(/day/i)) {\n                date = date.add(num, 'd');\n            } else if (match[4].match(/week/i)) {\n                date = date.add(num * 7, 'd');\n            } else if (match[4].match(/month/i)) {\n                date = date.add(num, 'month');\n            } else if (match[4].match(/year/i)) {\n                date = date.add(num, 'year');\n            }\n\n            result.start.imply('year', date.year());\n            result.start.imply('month', date.month() + 1);\n            result.start.imply('day', date.date());\n            return result;\n        }\n\n        if (match[4].match(/hour/i)) {\n\n            date = date.add(num, 'hour');\n\n        } else if (match[4].match(/min/i)) {\n\n            date = date.add(num, 'minute');\n\n        } else if (match[4].match(/second/i)) {\n\n            date = date.add(num, 'second');\n        }\n\n        result.start.imply('year', date.year());\n        result.start.imply('month', date.month() + 1);\n        result.start.imply('day', date.date());\n        result.start.imply('hour', date.hour());\n        result.start.imply('minute', date.minute());\n        result.start.imply('second', date.second());\n        result.tags['ENDeadlineFormatParser'] = true;\n        return result;\n    };\n};\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar util  = require('../../utils/EN');\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n    '(this|next|last|past)\\\\s*' +\n    '('+ util.INTEGER_WORDS_PATTERN + '|[0-9]+|few|half(?:\\\\s*an?)?)?\\\\s*' +\n    '(seconds?|min(?:ute)?s?|hours?|days?|weeks?|months?|years?)(?=\\\\s*)' +\n    '(?=\\\\W|$)', 'i'\n);\n\nvar MODIFIER_WORD_GROUP = 2;\nvar MULTIPLIER_WORD_GROUP = 3;\nvar RELATIVE_WORD_GROUP = 4;\n\nexports.Parser = function ENRelativeDateFormatParser(){\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; };\n\n    this.extract = function(text, ref, match, opt){\n\n        var index = match.index + match[1].length;\n        var modifier = match[MODIFIER_WORD_GROUP].toLowerCase().match(/^next/) ? 1 : -1;\n        var text  = match[0];\n        text  = match[0].substr(match[1].length, match[0].length - match[1].length);\n\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref\n        });\n        result.tags['ENRelativeDateFormatParser'] = true;\n\n        var num = match[MULTIPLIER_WORD_GROUP] === undefined ? '' : match[3].toLowerCase();\n        if (util.INTEGER_WORDS[num] !== undefined) {\n            num = util.INTEGER_WORDS[num];\n        } else if (num === ''){\n            num = 1;\n        } else if (num.match(/few/i)){\n            num = 3;\n        } else if (num.match(/half/i)) {\n            num = 0.5;\n        } else {\n            num = parseInt(num);\n        }\n\n        num *= modifier;\n        var date = dayjs(ref);\n\n        if (match[MODIFIER_WORD_GROUP].toLowerCase().match(/^this/)) {\n\n            if (match[MULTIPLIER_WORD_GROUP]) {\n                return null;\n            }\n\n            if (match[RELATIVE_WORD_GROUP].match(/day|week|month|year/i)) {\n                \n                // This week\n                if (match[RELATIVE_WORD_GROUP].match(/week/i)) {\n                    date = date.add(-date.get('d'), 'd');\n                    result.start.imply('day', date.date());\n                    result.start.imply('month', date.month() + 1);\n                    result.start.imply('year', date.year());\n                } \n                \n                // This month\n                else if (match[RELATIVE_WORD_GROUP].match(/month/i)) {\n                    date = date.add(-date.date() + 1, 'd');\n                    result.start.imply('day', date.date());\n                    result.start.assign('year', date.year());\n                    result.start.assign('month', date.month() + 1);\n                } \n\n                // This year\n                else if (match[RELATIVE_WORD_GROUP].match(/year/i)) {\n                    date = date.add(-date.date() + 1, 'd');\n                    date = date.add(-date.month(), 'month');\n\n                    result.start.imply('day', date.date());\n                    result.start.imply('month', date.month() + 1);\n                    result.start.assign('year', date.year());\n                } \n\n                return result;\n            }\n        }\n        \n        if (match[RELATIVE_WORD_GROUP].match(/day|week|month|year/i)) {\n\n            if (match[RELATIVE_WORD_GROUP].match(/day/i)) {\n                date = date.add(num, 'd');\n                result.start.assign('year', date.year());\n                result.start.assign('month', date.month() + 1);\n                result.start.assign('day', date.date());\n            } else if (match[RELATIVE_WORD_GROUP].match(/week/i)) {\n                date = date.add(num * 7, 'd');\n                // We don't know the exact date for next/last week so we imply\n                // them\n                result.start.imply('day', date.date());\n                result.start.imply('month', date.month() + 1);\n                result.start.imply('year', date.year());\n            } else if (match[RELATIVE_WORD_GROUP].match(/month/i)) {\n                date = date.add(num, 'month');\n                // We don't know the exact day for next/last month\n                result.start.imply('day', date.date());\n                result.start.assign('year', date.year());\n                result.start.assign('month', date.month() + 1);\n            } else if (match[RELATIVE_WORD_GROUP].match(/year/i)) {\n                date = date.add(num, 'year');\n                // We don't know the exact day for month on next/last year\n                result.start.imply('day', date.date());\n                result.start.imply('month', date.month() + 1);\n                result.start.assign('year', date.year());\n            }\n\n            return result;\n        }\n\n        if (match[RELATIVE_WORD_GROUP].match(/hour/i)) {\n\n            date = date.add(num, 'hour');\n            result.start.imply('minute', date.minute());\n            result.start.imply('second', date.second());\n\n        } else if (match[RELATIVE_WORD_GROUP].match(/min/i)) {\n\n            date = date.add(num, 'minute');\n            result.start.assign('minute', date.minute());\n            result.start.imply('second', date.second());\n\n        } else if (match[RELATIVE_WORD_GROUP].match(/second/i)) {\n\n            date = date.add(num, 'second');\n            result.start.assign('second', date.second());\n            result.start.assign('minute', date.minute());\n        }\n\n        result.start.assign('hour', date.hour());\n        result.start.assign('year', date.year());\n        result.start.assign('month', date.month() + 1);\n        result.start.assign('day', date.date());\n        return result;\n    };\n};\n","const parser = require('../parser');\nvar ParsedResult = require('../../result').ParsedResult;\nvar util  = require('../../utils/EN');\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n        '(?:on\\\\s*?)?' +\n        '(?:(Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sun|Mon|Tue|Wed|Thu|Fri|Sat)\\\\s*,?\\\\s*)?' +\n        '(([0-9]{1,2})(?:st|nd|rd|th)?|' + util.ORDINAL_WORDS_PATTERN + ')' +\n        '(?:\\\\s*' +\n            '(?:to|\\\\-|\\\\–|until|through|till|\\\\s)\\\\s*' +\n            '(([0-9]{1,2})(?:st|nd|rd|th)?|' + util.ORDINAL_WORDS_PATTERN + ')' +\n        ')?' + \n        '(?:-|\\/|\\\\s*(?:of)?\\\\s*)' +\n        '(' + util.MONTH_PATTERN + ')' +\n        '(?:' +\n            '(?:-|\\/|,?\\\\s*)' +\n            '((?:' + \n                '[1-9][0-9]{0,3}\\\\s*(?:BE|AD|BC)|' +\n                '[1-2][0-9]{3}|' +\n                '[5-9][0-9]' +\n            ')(?![^\\\\s]\\\\d))' +\n        ')?' +\n        '(?=\\\\W|$)', 'i'\n    );\n\nvar WEEKDAY_GROUP = 2;\nvar DATE_GROUP = 3;\nvar DATE_NUM_GROUP = 4;\nvar DATE_TO_GROUP = 5;\nvar DATE_TO_NUM_GROUP = 6;\nvar MONTH_NAME_GROUP = 7;\nvar YEAR_GROUP = 8;\n\nexports.Parser = function ENMonthNameLittleEndianParser(){\n    parser.Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n\n        var result = new ParsedResult({\n            text: match[0].substr(match[1].length, match[0].length - match[1].length),\n            index: match.index + match[1].length,\n            ref: ref\n        });\n\n        var month = match[MONTH_NAME_GROUP];\n        month = util.MONTH_OFFSET[month.toLowerCase()];\n\n        var day = match[DATE_NUM_GROUP] ?\n            parseInt(match[DATE_NUM_GROUP]):\n            util.ORDINAL_WORDS[match[DATE_GROUP].trim().replace('-', ' ').toLowerCase()];\n\n        var year = null;\n        if (match[YEAR_GROUP]) {\n            year = match[YEAR_GROUP];\n            \n            if (/BE/i.test(year)) {\n                // Buddhist Era\n                year = year.replace(/BE/i, '');\n                year = parseInt(year) - 543;\n            } else if (/BC/i.test(year)){\n                // Before Christ\n                year = year.replace(/BC/i, '');\n                year = -parseInt(year);\n            } else if (/AD/i.test(year)){\n                year = year.replace(/AD/i, '');\n                year = parseInt(year);\n            } else {\n                year = parseInt(year);\n                if (year < 100){\n                    if (year > 50) {\n                        year = year + 1900;\n                    } else {\n                        year = year + 2000;\n                    }\n                }\n            }\n        }\n\n        if(year){\n            result.start.assign('day', day);\n            result.start.assign('month', month);\n            result.start.assign('year', year);\n        } else {\n            year = parser.findYearClosestToRef(ref, day, month);\n            result.start.assign('day', day);\n            result.start.assign('month', month);\n            result.start.imply('year', year);\n        }\n\n        // Weekday component\n        if (match[WEEKDAY_GROUP]) {\n            var weekday = match[WEEKDAY_GROUP];\n            weekday = util.WEEKDAY_OFFSET[weekday.toLowerCase()]\n            result.start.assign('weekday', weekday);\n        }\n\n        // Text can be 'range' value. Such as '12 - 13 January 2012'\n        if (match[DATE_TO_GROUP]) {\n            var endDate = match[DATE_TO_NUM_GROUP] ?\n                parseInt(match[DATE_TO_NUM_GROUP]):\n                util.ORDINAL_WORDS[match[DATE_TO_GROUP].trim().replace('-', ' ').toLowerCase()];\n\n            result.end = result.start.clone();\n            result.end.assign('day', endDate);\n        }\n\n        result.tags['ENMonthNameLittleEndianParser'] = true;\n        return result;\n    };\n};\n","/*\n\n    The parser for parsing US's date format that begin with month's name.\n\n    EX.\n        - January 13\n        - January 13, 2012\n        - January 13 - 15, 2012\n        - Tuesday, January 13, 2012\n\n    Watch out for:\n        - January 12:00\n        - January 12.44\n        - January 1222344\n*/\nvar parser = require('../parser');\nvar ParsedResult = require('../../result').ParsedResult;\nvar util  = require('../../utils/EN');\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n    '(?:' +\n        '(?:on\\\\s*?)?' +\n        '(Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sun\\\\.?|Mon\\\\.?|Tue\\\\.?|Wed\\\\.?|Thu\\\\.?|Fri\\\\.?|Sat\\\\.?)' +\n    '\\\\s*,?\\\\s*)?' +\n    '(' + util.MONTH_PATTERN + ')' +\n    '(?:-|\\/|\\\\s*,?\\\\s*)' +\n    '(([0-9]{1,2})(?:st|nd|rd|th)?|' + util.ORDINAL_WORDS_PATTERN +')(?!\\\\s*(?:am|pm))\\\\s*' + '' + \n    '(?:' +\n        '(?:to|\\\\-)\\\\s*' +\n        '(([0-9]{1,2})(?:st|nd|rd|th)?| ' + util.ORDINAL_WORDS_PATTERN + ')\\\\s*' +\n    ')?' +\n    '(?:' +\n        '(?:-|\\/|\\\\s*,?\\\\s*)' +\n        '(?:([0-9]{4})\\\\s*(BE|AD|BC)?|([0-9]{1,4})\\\\s*(AD|BC))\\\\s*' +\n    ')?' +\n    '(?=\\\\W|$)(?!\\\\:\\\\d)', 'i');\n\nvar WEEKDAY_GROUP = 2;\nvar MONTH_NAME_GROUP = 3;\nvar DATE_GROUP = 4;\nvar DATE_NUM_GROUP = 5;\nvar DATE_TO_GROUP = 6;\nvar DATE_TO_NUM_GROUP = 7;\nvar YEAR_GROUP = 8;\nvar YEAR_BE_GROUP = 9;\nvar YEAR_GROUP2 = 10;\nvar YEAR_BE_GROUP2 = 11;\n\nexports.Parser = function ENMonthNameMiddleEndianParser(){\n    parser.Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n\n        var result = new ParsedResult({\n            text: match[0].substr(match[1].length, match[0].length - match[1].length),\n            index: match.index + match[1].length,\n            ref: ref,\n        });\n\n\n        var month = match[MONTH_NAME_GROUP];\n        month = util.MONTH_OFFSET[month.toLowerCase()];\n        var day = match[DATE_NUM_GROUP] ?\n            parseInt(match[DATE_NUM_GROUP]) :\n            util.ORDINAL_WORDS[match[DATE_GROUP].trim().replace('-', ' ').toLowerCase()];\n\n        var year = null;\n        if (match[YEAR_GROUP] || match[YEAR_GROUP2]) {\n            year = match[YEAR_GROUP] || match[YEAR_GROUP2];\n            year = parseInt(year);\n\n            var yearBE = match[YEAR_BE_GROUP] || match[YEAR_BE_GROUP2];\n            if (yearBE) {\n                if (/BE/i.test(yearBE)) {\n                    // Buddhist Era\n                    year = year - 543;\n                } else if (/BC/i.test(yearBE)) {\n                    // Before Christ\n                    year = -year;\n                }\n            } else if (year < 100){\n\n                year = year + 2000;\n            }\n        }\n\n        if(year){\n            result.start.assign('day', day);\n            result.start.assign('month', month);\n            result.start.assign('year', year);\n        } else {\n            year = parser.findYearClosestToRef(ref, day, month)\n            result.start.assign('day', day);\n            result.start.assign('month', month);\n            result.start.imply('year', year);\n        }\n\n        // Weekday component\n        if (match[WEEKDAY_GROUP]) {\n            var weekday = match[WEEKDAY_GROUP];\n            weekday = util.WEEKDAY_OFFSET[weekday.toLowerCase()]\n            result.start.assign('weekday', weekday);\n        }\n\n        // Text can be 'range' value. Such as 'January 12 - 13, 2012'\n        if (match[DATE_TO_GROUP]) {\n            var endDate = match[DATE_TO_NUM_GROUP] ?\n                endDate = parseInt(match[DATE_TO_NUM_GROUP]) :\n                util.ORDINAL_WORDS[match[DATE_TO_GROUP].replace('-', ' ').trim().toLowerCase()];\n\n            result.end = result.start.clone();\n            result.end.assign('day', endDate);\n        }\n\n        result.tags['ENMonthNameMiddleEndianParser'] = true;\n        return result;\n    }\n};","/*\n    \n    The parser for parsing month name and year.\n    \n    EX. \n        - January\n        - January 2012\n        - January, 2012\n*/\nvar parser = require('../parser');\nvar ParsedResult = require('../../result').ParsedResult;\nvar util  = require('../../utils/EN');\n\nvar PATTERN = new RegExp('(^|\\\\D\\\\s+|[^\\\\w\\\\s])' +\n    '('+ util.MONTH_PATTERN +')' + \n    '\\\\s*' +\n    '(?:' +\n        '[,-]?\\\\s*([0-9]{4})(\\\\s*BE|AD|BC)?' +\n    ')?' +\n    '(?=[^\\\\s\\\\w]|\\\\s+[^0-9]|\\\\s+$|$)', 'i');\n\nvar MONTH_NAME_GROUP = 2;\nvar YEAR_GROUP = 3;\nvar YEAR_BE_GROUP = 4;\n\nexports.Parser = function ENMonthNameParser(){\n    parser.Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n    \n    this.extract = function(text, ref, match, opt){\n        const result = new ParsedResult({\n            text: match[0].substr(match[1].length, match[0].length - match[1].length),\n            index: match.index + match[1].length,\n            ref: ref,\n        });\n\n        const day = 1;\n        const monthName = match[MONTH_NAME_GROUP];\n        const month = util.MONTH_OFFSET[monthName.toLowerCase()];\n\n        var year = null;\n        if (match[YEAR_GROUP]) {\n            year = match[YEAR_GROUP];\n            year = parseInt(year);\n\n            if(match[YEAR_BE_GROUP]){\n                if (match[YEAR_BE_GROUP].match(/BE/)) {\n                    // Buddhist Era\n                    year = year - 543;\n                } else if (match[YEAR_BE_GROUP].match(/BC/)) {\n                    // Before Christ\n                    year = -year;\n                }\n\n            } else if (year < 100){ \n\n                year = year + 2000;\n            }\n        }\n\n        if(year){\n            result.start.imply('day', day);\n            result.start.assign('month', month);\n            result.start.assign('year', year);\n        } else {\n            year = parser.findYearClosestToRef(ref, day, month)\n            result.start.imply('day', day);\n            result.start.assign('month', month);\n            result.start.imply('year', year);\n        }\n\n        if (result.text.match(/^\\w{3}$/)) {\n            return false;\n        }\n\n        result.tags['ENMonthNameParser'] = true;\n        return result;\n    }\n}\n","/*\n    Date format with slash \"/\" (also \"-\" and \".\") between numbers\n    - Tuesday 11/3/2015 \n    - 11/3/2015\n    - 11/3\n\n    By default the paser us \"middle-endien\" format (US English),\n    then fallback to little-endian if failed.\n    - 11/3/2015 = November 3rd, 2015\n    - 23/4/2015 = April 23th, 2015\n\n    If \"littleEndian\" config is set, the parser will try the little-endian first. \n    - 11/3/2015 = March 11th, 2015\n*/\nconst dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n    '(?:' +\n        '(?:on\\\\s*?)?' +\n        '((?:sun|mon|tues?|wed(?:nes)?|thu(?:rs?)?|fri|sat(?:ur)?)(?:day)?)' +\n        '\\\\s*\\\\,?\\\\s*' +\n    ')?' +\n    '([0-3]{0,1}[0-9]{1})[\\\\/\\\\.\\\\-]([0-3]{0,1}[0-9]{1})' +\n    '(?:' +\n        '[\\\\/\\\\.\\\\-]' +\n        '([0-9]{4}\\s*\\,?\\s*|[0-9]{2}\\s*\\,?\\s*)' +\n    ')?' +\n    '(\\\\W|$)', 'i');\n\nvar DAYS_OFFSET = { 'sunday': 0, 'sun': 0, 'monday': 1, 'mon': 1,'tuesday': 2, 'wednesday': 3, 'wed': 3,\n    'thursday': 4, 'thur': 4,'friday': 5, 'fri': 5,'saturday': 6, 'sat': 6,}\n\n\nvar OPENNING_GROUP = 1;\nvar ENDING_GROUP = 6;\n\nvar WEEKDAY_GROUP = 2;\n\n\nvar FIRST_NUMBERS_GROUP = 3;\nvar SECOND_NUMBERS_GROUP = 4;\n\nvar YEAR_GROUP = 5;\n\nexports.Parser = function ENSlashDateFormatParser(config) {\n    Parser.apply(this, arguments);\n    config = config || {};\n    var littleEndian  = config.littleEndian;\n    var MONTH_GROUP = littleEndian ? SECOND_NUMBERS_GROUP : FIRST_NUMBERS_GROUP;\n    var DAY_GROUP = littleEndian ? FIRST_NUMBERS_GROUP : SECOND_NUMBERS_GROUP;\n\n    this.pattern = function () { return PATTERN; };\n    this.extract = function(text, ref, match, opt){\n\n        if(match[OPENNING_GROUP] == '/' || match[ENDING_GROUP] == '/') {\n            // Long skip, if there is some overlapping like:\n            // XX[/YY/ZZ]\n            // [XX/YY/]ZZ\n            match.index += match[0].length\n            return;\n        }\n\n        var index = match.index + match[OPENNING_GROUP].length;\n        var text = match[0].substr(match[OPENNING_GROUP].length, match[0].length - match[ENDING_GROUP].length);\n\n\n        var result = new ParsedResult({\n            text: text,\n            index: index,\n            ref: ref,\n        });\n\n        if(text.match(/^\\d\\.\\d$/)) return;\n        if(text.match(/^\\d\\.\\d{1,2}\\.\\d{1,2}$/)) return;\n\n        // MM/dd -> OK\n        // MM.dd -> NG\n        if(!match[YEAR_GROUP] && match[0].indexOf('/') < 0) return;\n\n        var date = null;\n        var year = match[YEAR_GROUP] || dayjs(ref).year() + '';\n        var month = match[MONTH_GROUP];\n        var day   = match[DAY_GROUP];\n\n        month = parseInt(month);\n        day  = parseInt(day);\n        year = parseInt(year);\n\n        if(month < 1 || month > 12) {\n            if(month > 12) {\n                // dd/mm/yyyy date format if day looks like a month, and month\n                // looks like a day.\n                if (day >= 1 && day <= 12 && month >= 13 && month <= 31) {\n                    // unambiguous\n                    var tday = month;\n                    month = day;\n                    day = tday;\n                }\n                else {\n                    // both month and day are <= 12\n                    return null;\n                }\n            }\n        }\n        if(day < 1 || day > 31) return null;\n\n        if(year < 100){\n            if (year > 50) {\n                year = year + 1900;\n            } else {\n                year = year + 2000;\n            }\n        }\n\n        result.start.assign('day', day);\n        result.start.assign('month', month);\n        if (match[YEAR_GROUP]) {\n            result.start.assign('year', year);\n        } else {\n            result.start.imply('year', year);\n        }\n\n        //Day of week\n        if(match[WEEKDAY_GROUP]) {\n            result.start.assign('weekday', DAYS_OFFSET[match[WEEKDAY_GROUP].toLowerCase()]);\n        }\n\n        result.tags['ENSlashDateFormatParser'] = true;\n        return result;\n    };\n};\n","/*\n    Date format with slash \"/\" between numbers like ENSlashDateFormatParser,\n    but this parser expect year before month and date. \n    - YYYY/MM/DD\n    - YYYY-MM-DD\n    - YYYY.MM.DD\n*/\nconst dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar util  = require('../../utils/EN');\n\nvar PATTERN = new RegExp('(\\\\W|^)' \n            + '([0-9]{4})[\\\\-\\\\.\\\\/]'\n            + '((?:' + util.MONTH_PATTERN + '|[0-9]{1,2}))[\\\\-\\\\.\\\\/]'\n            + '([0-9]{1,2})'\n            + '(?=\\\\W|$)', 'i');\n\nvar YEAR_NUMBER_GROUP = 2;\nvar MONTH_NUMBER_GROUP = 3;\nvar DATE_NUMBER_GROUP  = 4;\n\nexports.Parser = function ENSlashDateFormatStartWithYearParser(){\n    Parser.apply(this, arguments);\n    \n    this.pattern = function() { return PATTERN; }\n    \n    this.extract = function(text, ref, match, opt){\n\n        var text = match[0].substr(match[1].length);\n        var index = match.index + match[1].length;\n\n        var result = new ParsedResult({\n            text: text,\n            index: index,\n            ref: ref,\n        })\n        \n        var month = match[MONTH_NUMBER_GROUP].toLowerCase();\n        month = util.MONTH_OFFSET[month] | month;\n\n        result.start.assign('year', parseInt(match[YEAR_NUMBER_GROUP]));\n        result.start.assign('month', parseInt(month));\n        result.start.assign('day', parseInt(match[DATE_NUMBER_GROUP]));\n\n        if (\n            dayjs(result.start.get('month')) > 12 || dayjs(result.start.get('month')) < 1 || \n            dayjs(result.start.get('day')) > 31 || dayjs(result.start.get('day')) < 1) {\n            return null;\n        }\n        \n        result.tags['ENDateFormatParser'] = true;\n        return result;\n    };\n}\n","/*\n    Month/Year date format with slash \"/\" (also \"-\" and \".\") between numbers \n    - 11/05\n    - 06/2005\n*/\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = new RegExp('(^|[^\\\\d/]\\\\s+|[^\\\\w\\\\s])' +\n    '([0-9]|0[1-9]|1[012])/([0-9]{4})' + \n    '(?=[^\\\\d/]|$)', 'i');\n\nvar OPENNING_GROUP = 1;\n\nvar MONTH_GROUP = 2;\nvar YEAR_GROUP = 3;\n\nexports.Parser = function ENSlashMonthFormatParser(argument) {\n    Parser.apply(this, arguments);\n\n    this.pattern = function () { return PATTERN; };\n    this.extract = function(text, ref, match, opt){\n        \n        var index = match.index + match[OPENNING_GROUP].length;\n        var text = match[0].substr(match[OPENNING_GROUP].length, match[0].length).trim();\n\n        var result = new ParsedResult({\n            text: text,\n            index: index,\n            ref: ref,\n        });\n\n        var year = match[YEAR_GROUP] ;\n        var month = match[MONTH_GROUP];\n        var day   = 1;\n        \n        month = parseInt(month);\n        year = parseInt(year);\n\n        result.start.imply('day', day);\n        result.start.assign('month', month);\n        result.start.assign('year', year);\n\n        result.tags['ENSlashMonthFormatParser'] = true;\n        return result;\n    };\n};\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar util  = require('../../utils/EN');\n\nvar PATTERN = new RegExp('' +\n    '(\\\\W|^)' +\n    '(?:within\\\\s*)?' +\n    '(' + util.TIME_UNIT_PATTERN + ')' +\n    '(?:ago|before|earlier)(?=(?:\\\\W|$))', 'i');\n\nvar STRICT_PATTERN = new RegExp('' +\n    '(\\\\W|^)' +\n    '(?:within\\\\s*)?' +\n    '(' + util.TIME_UNIT_STRICT_PATTERN + ')' +\n    'ago(?=(?:\\\\W|$))', 'i');\n\nexports.Parser = function ENTimeAgoFormatParser(){\n    Parser.apply(this, arguments);\n\n    this.pattern = function() {\n        return this.isStrictMode()? STRICT_PATTERN : PATTERN;\n    };\n\n    this.extract = function(text, ref, match, opt){\n\n        if (match.index > 0 && text[match.index-1].match(/\\w/)) return null;\n\n        var text = match[0];\n        text  = match[0].substr(match[1].length, match[0].length - match[1].length);\n        var index = match.index + match[1].length;\n\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref\n        });\n\n        var fragments = util.extractDateTimeUnitFragments(match[2]);\n        var date = dayjs(ref);\n\n        for (var key in fragments) {\n            date = date.add(-fragments[key], key);\n        }\n\n        if (fragments['hour'] > 0 || fragments['minute'] > 0 || fragments['second'] > 0) {\n            result.start.assign('hour', date.hour());\n            result.start.assign('minute', date.minute());\n            result.start.assign('second', date.second());\n            result.tags['ENTimeAgoFormatParser'] = true;\n        } \n        \n        if (fragments['d'] > 0 || fragments['month'] > 0 || fragments['year'] > 0) {\n            result.start.assign('day', date.date());\n            result.start.assign('month', date.month() + 1);\n            result.start.assign('year', date.year());\n        } else {\n            if (fragments['week'] > 0) {\n                result.start.imply('weekday', date.day());\n            }\n\n            result.start.imply('day', date.date());\n            result.start.imply('month', date.month() + 1);\n            result.start.imply('year', date.year());\n        }\n\n        return result;\n    };\n}\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar ParsedComponents = require('../../result').ParsedComponents;\n\nvar FIRST_REG_PATTERN  = new RegExp(\"(^|\\\\s|T)\" +\n    \"(?:(?:at|from)\\\\s*)??\" + \n    \"(\\\\d{1,4}|noon|midnight)\" + \n    \"(?:\" + \n        \"(?:\\\\.|\\\\:|\\\\：)(\\\\d{1,2})\" + \n        \"(?:\" + \n            \"(?:\\\\:|\\\\：)(\\\\d{2})(?:\\\\.(\\\\d{1,6}))?\" + \n        \")?\" + \n    \")?\" + \n    \"(?:\\\\s*(A\\\\.M\\\\.|P\\\\.M\\\\.|AM?|PM?|O\\\\W*CLOCK))?\" + \n    \"(?=\\\\W|$)\", 'i');\n\n\nvar SECOND_REG_PATTERN = new RegExp(\"^\\\\s*\" + \n    \"(\\\\-|\\\\–|\\\\~|\\\\〜|to|\\\\?)\\\\s*\" + \n    \"(\\\\d{1,4})\" +\n    \"(?:\" + \n        \"(?:\\\\.|\\\\:|\\\\：)(\\\\d{1,2})\" + \n        \"(?:\" + \n            \"(?:\\\\.|\\\\:|\\\\：)(\\\\d{1,2})(?:\\\\.(\\\\d{1,6}))?\" + \n        \")?\" + \n    \")?\" + \n    \"(?:\\\\s*(A\\\\.M\\\\.|P\\\\.M\\\\.|AM?|PM?|O\\\\W*CLOCK))?\" + \n    \"(?=\\\\W|$)\", 'i');\n\nvar HOUR_GROUP    = 2;\nvar MINUTE_GROUP  = 3;\nvar SECOND_GROUP  = 4;\nvar MILLI_SECOND_GROUP  = 5;\nvar AM_PM_HOUR_GROUP = 6;\n\n\nexports.Parser = function ENTimeExpressionParser(){\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return FIRST_REG_PATTERN; }\n    \n    this.extract = function(text, ref, match, opt){ \n        \n        // This pattern can be overlapped Ex. [12] AM, 1[2] AM\n        if (match.index > 0 && text[match.index-1].match(/\\w/)) return null;\n        var refMoment = dayjs(ref);\n        var result = new ParsedResult();\n        result.ref = ref;\n        result.index = match.index + match[1].length;\n        result.text  = match[0].substring(match[1].length);\n        result.tags['ENTimeExpressionParser'] = true;\n\n        result.start.imply('day',   refMoment.date());\n        result.start.imply('month', refMoment.month()+1);\n        result.start.imply('year',  refMoment.year());\n        \n        var hour = 0;\n        var minute = 0;\n        var meridiem = -1;\n\n        // ----- Millisecond\n        if(match[MILLI_SECOND_GROUP] != null){ \n            var millisecond = parseInt(match[MILLI_SECOND_GROUP].substring(0, 3));\n            if(millisecond >= 1000) return null;\n            \n            result.start.assign('millisecond', millisecond);\n        }\n\n        // ----- Second\n        if(match[SECOND_GROUP] != null){ \n            var second = parseInt(match[SECOND_GROUP]);\n            if(second >= 60) return null;\n\n            result.start.assign('second', second);\n        }\n        \n        // ----- Hours\n        if (match[HOUR_GROUP].toLowerCase() == \"noon\"){\n            meridiem = 1; \n            hour = 12;\n        } else if (match[HOUR_GROUP].toLowerCase() == \"midnight\") {\n            meridiem = 0; \n            hour = 0;\n        } else {\n            hour = parseInt(match[HOUR_GROUP]);\n        }\n        \n        // ----- Minutes\n        if(match[MINUTE_GROUP] != null){ \n            minute = parseInt(match[MINUTE_GROUP]);\n        } else if(hour > 100) { \n            minute = hour%100;\n            hour   = parseInt(hour/100);\n        } \n        \n        if(minute >= 60) {\n            return null;\n        }\n\n        if(hour > 24) {\n            return null;\n        }\n        if (hour >= 12) { \n            meridiem = 1;\n        }\n\n        // ----- AM & PM  \n        if(match[AM_PM_HOUR_GROUP] != null) {\n            if(hour > 12) return null;\n            var ampm = match[AM_PM_HOUR_GROUP][0].toLowerCase();\n            if(ampm == \"a\"){\n                meridiem = 0; \n                if(hour == 12) hour = 0;\n            }\n            \n            if(ampm == \"p\"){\n                meridiem = 1; \n                if(hour != 12) hour += 12;\n            }\n        } \n\n        result.start.assign('hour', hour);\n        result.start.assign('minute', minute);\n\n        if (meridiem >= 0) {\n            result.start.assign('meridiem', meridiem);\n        } else {\n            if (hour < 12) {\n                result.start.imply('meridiem', 0);\n            } else {\n                result.start.imply('meridiem', 1);\n            }\n        }\n\n        // ==============================================================\n        //                  Extracting the 'to' chunk\n        // ==============================================================\n        match = SECOND_REG_PATTERN.exec(text.substring(result.index + result.text.length));\n        if (!match) {\n            return result;\n        }\n\n\n\n        // Pattern \"YY.YY -XXXX\" is more like timezone offset\n        if (match[0].match(/^\\s*(\\+|\\-)\\s*\\d{3,4}$/)) {\n            return result;\n        }\n\n        if(result.end == null){\n            result.end = new ParsedComponents(null, result.start.date());\n        }\n\n        var hour = 0;\n        var minute = 0;\n        var meridiem = -1;\n\n        // ----- Millisecond\n        if(match[MILLI_SECOND_GROUP] != null){ \n            var millisecond = parseInt(match[MILLI_SECOND_GROUP].substring(0, 3));\n            if(millisecond >= 1000) return null;\n            \n            result.end.assign('millisecond', millisecond);\n        }\n        \n        // ----- Second\n        if(match[SECOND_GROUP] != null){ \n            var second = parseInt(match[SECOND_GROUP]);\n            if(second >= 60) return null;\n\n            result.end.assign('second', second);\n        }\n\n        hour = parseInt(match[2]);\n        \n        // ----- Minute\n        if (match[MINUTE_GROUP]!= null) {\n            \n            minute = parseInt(match[MINUTE_GROUP]);\n            if(minute >= 60) return result;\n            \n        } else if (hour > 100) {\n\n            minute = hour%100;\n            hour   = parseInt(hour/100);\n        }\n\n        if(minute >= 60) {\n            return null;\n        }\n\n        if(hour > 24) {\n            return null;\n        }\n        if (hour >= 12) { \n            meridiem = 1;\n        }\n        \n        // ----- AM & PM \n        if (match[AM_PM_HOUR_GROUP] != null){\n\n            if (hour > 12) return null;\n\n            var ampm = match[AM_PM_HOUR_GROUP][0].toLowerCase();\n            if(ampm == \"a\"){\n                meridiem = 0; \n                if(hour == 12) {\n                    hour = 0;\n                    if (!result.end.isCertain('day')) {\n                        result.end.imply('day', result.end.get('day') + 1);\n                    }\n                }\n            }\n            \n            if(ampm == \"p\"){\n                meridiem = 1; \n                if(hour != 12) hour += 12;\n            }\n            \n            if (!result.start.isCertain('meridiem')) {\n                if (meridiem == 0) {\n                    \n                    result.start.imply('meridiem', 0);\n                    \n                    if (result.start.get('hour') == 12) {\n                        result.start.assign('hour', 0);\n                    }\n\n                } else {\n\n                    result.start.imply('meridiem', 1);\n                    \n                    if (result.start.get('hour') != 12) {\n                        result.start.assign('hour', result.start.get('hour') + 12); \n                    }\n                }\n            }\n        }\n\n        result.text = result.text + match[0];\n        result.end.assign('hour', hour);\n        result.end.assign('minute', minute);\n        if (meridiem >= 0) {\n            result.end.assign('meridiem', meridiem);\n        } else {\n            var startAtPM = result.start.isCertain('meridiem') && result.start.get('meridiem') == 1;\n            if (startAtPM && result.start.get('hour') > hour) {\n                // 10pm - 1 (am)\n                result.end.imply('meridiem', 0);\n\n            } else if (hour > 12) {\n                result.end.imply('meridiem', 1);\n            }\n        }\n\n        if (result.end.date().getTime() < result.start.date().getTime()) {\n            result.end.imply('day', result.end.get('day') + 1)\n        }\n        \n        return result;\n    }\n}\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar util  = require('../../utils/EN');\n\nvar PATTERN = new RegExp('' +\n    /*match[1]*/ '(\\\\W|^)' +\n    /*match[2]*/ '(in )?' +\n    /*match[3]*/ '(' + util.TIME_UNIT_PATTERN + ')' +\n    /*match[4]*/ '(later|after|from now|henceforth|forward|out)?' +\n    /*match[5]*/ '(?=(?:\\\\W|$))',\n'i');\n\nvar STRICT_PATTERN = new RegExp('' +\n    /*match[1]*/ '(\\\\W|^)' +\n    /*match[2]*/ '(in )?' +\n    /*match[3]*/ '(' + util.TIME_UNIT_STRICT_PATTERN + ')' +\n    /*match[4]*/ '(later|from now)?' +\n    /*match[5]*/ '(?=(?:\\\\W|$))',\n'i');\n\nexports.Parser = function ENTimeLaterFormatParser(){\n    Parser.apply(this, arguments);\n\n    this.pattern = function() {\n        return this.isStrictMode()? STRICT_PATTERN : PATTERN;\n    };\n\n    this.extract = function(text, ref, match, opt){\n        if (match.index > 0 && text[match.index-1].match(/\\w/)) return null;\n\n        var prefix = match[2];\n        var suffix = match[4];\n        if (!prefix && !suffix) return null;\n\n        var preamble = match[1];\n        var text  = match[0].substr(preamble.length, match[0].length - preamble.length);\n        var index = match.index + preamble.length;\n\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref\n        });\n\n        var fragments = util.extractDateTimeUnitFragments(match[3]);\n        var date = dayjs(ref);\n        for (var key in fragments) {\n            date = date.add(fragments[key], key);\n        }\n\n        if (fragments['hour'] > 0 || fragments['minute'] > 0 || fragments['second'] > 0) {\n            result.start.assign('hour', date.hour());\n            result.start.assign('minute', date.minute());\n            result.start.assign('second', date.second());\n            result.tags['ENTimeAgoFormatParser'] = true;\n        } \n        \n        if (fragments['d'] > 0 || fragments['month'] > 0 || fragments['year'] > 0) {\n            result.start.assign('day', date.date());\n            result.start.assign('month', date.month() + 1);\n            result.start.assign('year', date.year());\n        } else {\n            if (fragments['week'] > 0) {\n                result.start.imply('weekday', date.day());\n            }\n\n            result.start.imply('day', date.date());\n            result.start.imply('month', date.month() + 1);\n            result.start.imply('year', date.year());\n        }\n\n        return result;\n    };\n}\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = /(\\W|^)(now|today|tonight|last\\s*night|(?:tomorrow|tmr|yesterday)\\s*|tomorrow|tmr|yesterday)(?=\\W|$)/i;\n\nexports.Parser = function ENCasualDateParser(){\n\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n\n        var text = match[0].substr(match[1].length);\n        var index = match.index + match[1].length;\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref,\n        });\n\n        var refMoment = dayjs(ref);\n        var startMoment = refMoment;\n        var lowerText = text.toLowerCase();\n\n        if(lowerText == 'tonight'){\n            // Normally means this coming midnight\n            result.start.imply('hour', 22);\n            result.start.imply('meridiem', 1);\n\n        } else if (/^tomorrow|^tmr/.test(lowerText)) {\n\n            // Check not \"Tomorrow\" on late night\n            if(refMoment.hour() > 1) {\n                startMoment = startMoment.add(1, 'day');\n            }\n\n        } else if (/^yesterday/.test(lowerText)) {\n\n            startMoment = startMoment.add(-1, 'day');\n\n        } else if(lowerText.match(/last\\s*night/)) {\n\n            result.start.imply('hour', 0);\n            if (refMoment.hour() > 6) {\n                startMoment = startMoment.add(-1, 'day');\n            }\n\n        } else if (lowerText.match(\"now\")) {\n\n          result.start.assign('hour', refMoment.hour());\n          result.start.assign('minute', refMoment.minute());\n          result.start.assign('second', refMoment.second());\n          result.start.assign('millisecond', refMoment.millisecond());\n\n        }\n\n        result.start.assign('day', startMoment.date())\n        result.start.assign('month', startMoment.month() + 1)\n        result.start.assign('year', startMoment.year())\n        result.tags['ENCasualDateParser'] = true;\n        return result;\n    }\n}\n","var Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = /(\\W|^)((this)?\\s*(morning|afternoon|evening|noon|night))/i;\n\nvar TIME_MATCH = 4;\n\nexports.Parser = function ENCasualTimeParser(){\n\n    Parser.apply(this, arguments);\n\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n\n        var text = match[0].substr(match[1].length);\n        var index = match.index + match[1].length;\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref,\n        });\n\n        if(!match[TIME_MATCH]) TIME_MATCH = 3;\n        \n        switch (match[TIME_MATCH].toLowerCase()) {\n\n            case 'afternoon':\n                result.start.imply('meridiem', 1);\n                result.start.imply('hour', 15);\n                break;\n\n            case 'evening':\n            case 'night':\n                result.start.imply('meridiem', 1);\n                result.start.imply('hour', 20);\n                break;\n\n            case 'morning':\n                result.start.imply('meridiem', 0);\n                result.start.imply('hour', 6);\n                break;\n\n            case 'noon':\n                result.start.imply('meridiem', 0);\n                result.start.imply('hour', 12);\n                break;\n        }\n        \n        result.tags['ENCasualTimeParser'] = true;\n        return result;\n    };\n};\n","const dayjs = require('dayjs');\nconst parser = require('../parser');\nconst ParsedResult = require('../../result').ParsedResult;\n\nconst util  = require('../../utils/JP'); \n\nconst PATTERN = /(?:(同|今|本|((昭和|平成|令和)?([0-9０-９]{1,4}|元)))年\\s*)?([0-9０-９]{1,2})月\\s*([0-9０-９]{1,2})日/i;\nconst SPECIAL_YEAR_GROUP  = 1;\nconst TYPICAL_YEAR_GROUP  = 2;\nconst ERA_GROUP         = 3;\nconst YEAR_NUMBER_GROUP = 4;\nconst MONTH_GROUP       = 5;\nconst DAY_GROUP         = 6;\n\nexports.Parser = function JPStandardParser(){\n    parser.Parser.apply(this, arguments);\n    \n    this.pattern = function() { return PATTERN; }\n    \n    this.extract = function(text, ref, match, opt){ \n        var result = new ParsedResult({\n            text: match[0],\n            index: match.index,\n            ref: ref,\n        });\n        \n        var month = match[MONTH_GROUP];\n        month = util.toHankaku(month);\n        month = parseInt(month);\n\n        var day = match[DAY_GROUP];\n        day = util.toHankaku(day);\n        day = parseInt(day);\n\n        result.start.assign('day', day);\n        result.start.assign('month', month);\n            \n        if (match[TYPICAL_YEAR_GROUP]) {\n\n            var year = match[YEAR_NUMBER_GROUP];\n            if (year == '元') {\n                year = 1;\n            } else {\n                year = util.toHankaku(year);\n                year = parseInt(year);\n            }\n\n            if (match[ERA_GROUP] == '令和') {\n                year += 2018;\n            } else if (match[ERA_GROUP] == '平成') {\n                year += 1988;\n            } else if (match[ERA_GROUP] == '昭和') {\n                year += 1925;\n            }\n\n            result.start.assign('year', year);\n\n        } else if (match[SPECIAL_YEAR_GROUP] && match[SPECIAL_YEAR_GROUP].match('同|今|本')) {\n            const moment = dayjs(ref)\n            result.start.assign('year', moment.year());\n        } else {\n            const year = parser.findYearClosestToRef(ref, day, month);\n            result.start.imply('year', year);\n        }\n        \n        result.tags['JPStandardParser'] = true;\n        return result;\n    };\n\n}\n\n","\n\n/**\n * to-hankaku.js\n * convert to ascii code strings.\n *\n * @version 1.0.1\n * @author think49\n * @url https://gist.github.com/964592\n * @license http://www.opensource.org/licenses/mit-license.php (The MIT License)\n */\n \nexports.toHankaku = (function (String, fromCharCode) {\n \n    function toHankaku (string) {\n        return String(string).replace(/\\u2019/g, '\\u0027').replace(/\\u201D/g, '\\u0022').replace(/\\u3000/g, '\\u0020').replace(/\\uFFE5/g, '\\u00A5').replace(/[\\uFF01\\uFF03-\\uFF06\\uFF08\\uFF09\\uFF0C-\\uFF19\\uFF1C-\\uFF1F\\uFF21-\\uFF3B\\uFF3D\\uFF3F\\uFF41-\\uFF5B\\uFF5D\\uFF5E]/g, alphaNum);\n    }\n \n    function alphaNum (token) {\n        return fromCharCode(token.charCodeAt(0) - 65248);\n    }\n \n    return toHankaku;\n})(String, String.fromCharCode);\n\n/**\n * to-zenkaku.js\n * convert to multi byte strings.\n *\n * @version 1.0.2\n * @author think49\n * @url https://gist.github.com/964592\n * @license http://www.opensource.org/licenses/mit-license.php (The MIT License)\n */\nexports.toZenkaku = (function (String, fromCharCode) {\n \n    function toZenkaku (string) {\n        return String(string).replace(/\\u0020/g, '\\u3000').replace(/\\u0022/g, '\\u201D').replace(/\\u0027/g, '\\u2019').replace(/\\u00A5/g, '\\uFFE5').replace(/[!#-&(),-9\\u003C-?A-[\\u005D_a-{}~]/g, alphaNum);\n    }\n \n    function alphaNum (token) {\n        return fromCharCode(token.charCodeAt(0) + 65248);\n    }\n \n    return toZenkaku;\n})(String, String.fromCharCode);","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = /今日|当日|昨日|明日|今夜|今夕|今晩|今朝/i;\n\nexports.Parser = function JPCasualDateParser(){\n    \n    Parser.apply(this, arguments);\n        \n    this.pattern = function() { return PATTERN; }\n    \n    this.extract = function(text, ref, match, opt){ \n        \n        var index = match.index;\n        var text = match[0];\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref,\n        });\n\n        var refMoment = dayjs(ref);\n        var startMoment = refMoment;\n\n        if(text == '今夜' || text == '今夕' || text == '今晩'){\n            // Normally means this coming midnight \n            result.start.imply('hour', 22);\n            result.start.imply('meridiem', 1);\n\n        } else if(text == '明日'){\n\n            // Check not \"Tomorrow\" on late night\n            if(refMoment.hour() > 4) {\n                startMoment = startMoment.add(1, 'day');\n            }\n\n        } else if(text == '昨日') {\n\n            startMoment = startMoment.add(-1, 'day');\n\n        } else if (text.match(\"今朝\")) {\n\n            result.start.imply('hour', 6);\n            result.start.imply('meridiem', 0);\n        }\n\n        result.start.assign('day', startMoment.date())\n        result.start.assign('month', startMoment.month() + 1)\n        result.start.assign('year', startMoment.year())\n        result.tags['JPCasualDateParser'] = true;\n        return result;\n    }\n}\n\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\n/*\n  Valid patterns:\n  - esta manhã -> today in the morning\n  - esta tarde -> today in the afternoon/evening\n  - esta noite -> tonight\n  - ontem de -> yesterday in the morning\n  - ontem a tarde -> yesterday in the afternoon/evening\n  - ontem a noite -> yesterday at night\n  - amanhã de manhã -> tomorrow in the morning\n  - amanhã a tarde -> tomorrow in the afternoon/evening\n  - amanhã a noite -> tomorrow at night\n  - hoje -> today\n  - ontem -> yesterday\n  - amanhã -> tomorrow\n */\nvar PATTERN = /(\\W|^)(agora|esta\\s*(manhã|tarde|noite)|(ontem|amanhã)\\s*(de|à)\\s*(manhã|tarde|noite)|hoje|amanhã|ontem|noite)(?=\\W|$)/i;\n\nexports.Parser = function PTCasualDateParser(){\n\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n\n        var text = match[0].substr(match[1].length);\n        var index = match.index + match[1].length;\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref,\n        });\n\n        var refMoment = dayjs(ref);\n        var startMoment = refMoment;\n        var lowerText = text.toLowerCase().replace(/\\s+/g, ' ');\n\n        if(lowerText == 'amanhã'){\n\n            // Check not \"Tomorrow\" on late night\n            if(refMoment.hour() > 1) {\n                startMoment = startMoment.add(1, 'day');\n            }\n\n        } else if(lowerText == 'ontem') {\n\n            startMoment = startMoment.add(-1, 'day');\n        }\n        else if(lowerText == 'noite') {\n\n            result.start.imply('hour', 0);\n            if (refMoment.hour() > 6) {\n                startMoment = startMoment.add(-1, 'day');\n            }\n\n        } else if (lowerText.match(\"esta\")) {\n\n            var secondMatch = match[3].toLowerCase();\n            if (secondMatch == \"tarde\") {\n\n                result.start.imply('hour', 18);\n\n            } else if (secondMatch == \"manhã\") {\n\n                result.start.imply('hour', 6);\n\n            } else if (secondMatch == \"noite\") {\n\n              // Normally means this coming midnight\n              result.start.imply('hour', 22);\n              result.start.imply('meridiem', 1);\n\n            }\n        } else if (lowerText.match(/de|à/)) {\n\n            var firstMatch = match[4].toLowerCase();\n            if (firstMatch === 'ontem') {\n\n                startMoment = startMoment.add(-1, 'day');\n\n            } else if (firstMatch === 'amanhã') {\n\n                startMoment = startMoment.add(1, 'day');\n\n            }\n\n            var secondMatch = match[6].toLowerCase();\n            if (secondMatch == \"tarde\") {\n\n                result.start.imply('hour', 18);\n\n            } else if (secondMatch == \"manhã\") {\n\n                result.start.imply('hour', 9);\n\n            } else if (secondMatch == \"noite\") {\n\n              // Normally means this coming midnight\n              result.start.imply('hour', 22);\n              result.start.imply('meridiem', 1);\n\n            }\n\n        } else if (lowerText.match(\"agora\")) {\n\n          result.start.imply('hour', refMoment.hour());\n          result.start.imply('minute', refMoment.minute());\n          result.start.imply('second', refMoment.second());\n          result.start.imply('millisecond', refMoment.millisecond());\n\n        }\n\n        result.start.assign('day', startMoment.date())\n        result.start.assign('month', startMoment.month() + 1)\n        result.start.assign('year', startMoment.year())\n        result.tags['PTCasualDateParser'] = true;\n        return result;\n    }\n}\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = /(\\W|^)(dentro\\s*de|em|em*até)\\s*([0-9]+|mei[oa]|uma?)\\s*(minutos?|horas?|dias?)\\s*(?=(?:\\W|$))/i;\n\nexports.Parser = function PTDeadlineFormatParser(){\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n\n        var index = match.index + match[1].length;\n        var text  = match[0];\n        text  = match[0].substr(match[1].length, match[0].length - match[1].length);\n\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref,\n        });\n\n        var num = parseInt(match[3]);\n        if (isNaN(num)) {\n          if (match[3].match(/(meio|meia)/)) {\n            num = 0.5;\n          } else {\n            num = 1;\n          }\n        }\n\n        var date = dayjs(ref);\n        if (match[4].match(/dia/)) {\n            date = date.add(num, 'd');\n\n            result.start.assign('year', date.year());\n            result.start.assign('month', date.month() + 1);\n            result.start.assign('day', date.date());\n            return result;\n        }\n\n\n        if (match[4].match(/hora/)) {\n\n            date = date.add(num, 'hour');\n\n        } else if (match[4].match(/minuto/)) {\n\n            date = date.add(num, 'minute');\n        }\n\n        result.start.imply('year', date.year());\n        result.start.imply('month', date.month() + 1);\n        result.start.imply('day', date.date());\n        result.start.assign('hour', date.hour());\n        result.start.assign('minute', date.minute());\n        result.tags['PTDeadlineFormatParser'] = true;\n        return result;\n    };\n}\n","var parser = require('../parser');\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar util  = require('../../utils/PT');\n\nvar DAYS_OFFSET = util.WEEKDAY_OFFSET;\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n        '(?:(domingo|segunda|segunda-feira|terça|terça-feira|quarta|quarta-feira|quinta|quinta-feira|sexta|sexta-feira|sábado|sabado|dom|seg|ter|qua|qui|sex|sab)\\\\s*,?\\\\s*)?' +\n        '([0-9]{1,2})(?:º|ª|°)?' +\n        '(?:\\\\s*(?:desde|de|\\\\-|\\\\–|ao?|\\\\s)\\\\s*([0-9]{1,2})(?:º|ª|°)?)?\\\\s*(?:de)?\\\\s*' +\n        '(Jan(?:eiro|\\\\.)?|Fev(?:ereiro|\\\\.)?|Mar(?:ço|\\\\.)?|Abr(?:il|\\\\.)?|Mai(?:o|\\\\.)?|Jun(?:ho|\\\\.)?|Jul(?:ho|\\\\.)?|Ago(?:sto|\\\\.)?|Set(?:embro|\\\\.)?|Out(?:ubro|\\\\.)?|Nov(?:embro|\\\\.)?|Dez(?:embro|\\\\.)?)' +\n        '(?:\\\\s*(?:de?)?(\\\\s*[0-9]{1,4}(?![^\\\\s]\\\\d))(\\\\s*[ad]\\\\.?\\\\s*c\\\\.?|a\\\\.?\\\\s*d\\\\.?)?)?' +\n        '(?=\\\\W|$)', 'i'\n    );\n\nvar WEEKDAY_GROUP = 2;\nvar DATE_GROUP = 3;\nvar DATE_TO_GROUP = 4;\nvar MONTH_NAME_GROUP = 5;\nvar YEAR_GROUP = 6;\nvar YEAR_BE_GROUP = 7;\n\nexports.Parser = function PTMonthNameLittleEndianParser(){\n    parser.Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n\n        var result = new ParsedResult({\n            text: match[0].substr(match[1].length, match[0].length - match[1].length),\n            index: match.index + match[1].length,\n            ref: ref,\n        });\n\n        var month = match[MONTH_NAME_GROUP];\n        month = util.MONTH_OFFSET[month.toLowerCase()];\n\n        var day = match[DATE_GROUP];\n        day = parseInt(day);\n\n        var year = null;\n        if (match[YEAR_GROUP]) {\n            year = match[YEAR_GROUP];\n            year = parseInt(year);\n\n            if(match[YEAR_BE_GROUP]){\n                if (/a\\.?\\s*c\\.?/i.test(match[YEAR_BE_GROUP])) {\n                    // antes de Cristo\n                    year = -year;\n                }\n            } else if (year < 100){\n\n                year = year + 2000;\n            }\n        }\n\n        if(year){\n            result.start.assign('day', day);\n            result.start.assign('month', month);\n            result.start.assign('year', year);\n        } else {\n            year = parser.findYearClosestToRef(ref, day, month);\n            result.start.assign('day', day);\n            result.start.assign('month', month);\n            result.start.imply('year', year);\n        }\n\n        // Weekday component\n        if (match[WEEKDAY_GROUP]) {\n            var weekday = match[WEEKDAY_GROUP];\n            weekday = util.WEEKDAY_OFFSET[weekday.toLowerCase()]\n            result.start.assign('weekday', weekday);\n        }\n\n        // Text can be 'range' value. Such as '12 - 13 January 2012'\n        if (match[DATE_TO_GROUP]) {\n            result.end = result.start.clone();\n            result.end.assign('day', parseInt(match[DATE_TO_GROUP]));\n        }\n\n        result.tags['PTMonthNameLittleEndianParser'] = true;\n        return result;\n    };\n}\n","exports.WEEKDAY_OFFSET = {\n    'domingo': 0,\n    'dom': 0,\n    'segunda': 1,\n    'segunda-feira': 1,\n    'seg': 1,\n    'terça': 2,\n    'terca': 2,\n    'terça-feira': 2,\n    'terca-feira': 2,\n    'ter':2,\n    'quarta': 3,\n    'quarta-feira': 3,\n    'qua': 3,\n    'quinta': 4,\n    'quinta-feira': 4,\n    'qui': 4,\n    'sexta': 5,\n    'sexta-feira': 5,\n    'sex': 5,\n    'sábado': 6,\n    'sabado': 6,\n    'sab': 6,}\n  \n  exports.MONTH_OFFSET = {\n    'janeiro': 1,\n    'jan': 1,\n    'jan.': 1,\n    'fevereiro': 2,\n    'fev': 2,\n    'fev.': 2,\n    'março': 3,\n    'mar': 3,\n    'mar.': 3,\n    'abril': 4,\n    'abr': 4,\n    'abr.': 4,\n    'maio': 5,\n    'mai': 5,\n    'mai.': 5,\n    'junho': 6,\n    'jun': 6,\n    'jun.': 6,\n    'julho': 7,\n    'jul': 7,\n    'jul.': 7,\n    'agosto': 8,\n    'ago': 8,\n    'ago.': 8,\n    'setembro': 9,\n    'set': 9,\n    'set.': 9,\n    'outubro': 10,\n    'out': 10,\n    'out.': 10,\n    'novembro': 11,\n    'nov': 11,\n    'nov.': 11,\n    'dezembro': 12,\n    'dez': 12,\n    'dez.': 12,\n  }","/*\n    Date format with slash \"/\" (also \"-\" and \".\") between numbers\n    - Martes 3/11/2015\n    - 3/11/2015\n    - 3/11\n*/\nconst dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n    '(?:' +\n        '((?:domingo|dom|segunda|segunda-feira|seg|terça|terça-feira|ter|quarta|quarta-feira|qua|quinta|quinta-feira|qui|sexta|sexta-feira|sex|s[áa]bado|sab))' +\n        '\\\\s*\\\\,?\\\\s*' +\n    ')?' +\n    '([0-1]{0,1}[0-9]{1})[\\\\/\\\\.\\\\-]([0-3]{0,1}[0-9]{1})' +\n    '(?:' +\n        '[\\\\/\\\\.\\\\-]' +\n        '([0-9]{4}\\s*\\,?\\s*|[0-9]{2}\\s*\\,?\\s*)' +\n    ')?' +\n    '(\\\\W|$)', 'i');\n\nvar DAYS_OFFSET = { 'domingo': 0, 'dom': 0, 'segunda': 1, 'segunda-feira': 1, 'seg': 1, 'terça': 2, 'terça-feira': 2, 'ter': 2, 'quarta': 3, 'quarta-feira': 3, 'qua': 3,\n    'quinta': 4, 'quinta-feira': 4, 'qui': 4, 'sexta': 5, 'sexta-feira': 5, 'sex': 5, 'sábado': 6, 'sabado': 6, 'sab': 6,}\n\n\nvar OPENNING_GROUP = 1;\nvar ENDING_GROUP = 6;\n\n// in Spanish we use day/month/year\nvar WEEKDAY_GROUP = 2;\nvar MONTH_GROUP = 4;\nvar DAY_GROUP = 3;\nvar YEAR_GROUP = 5;\n\nexports.Parser = function PTSlashDateFormatParser(argument) {\n    Parser.apply(this, arguments);\n\n    this.pattern = function () { return PATTERN; };\n    this.extract = function(text, ref, match, opt){\n\n        if(match[OPENNING_GROUP] == '/' || match[ENDING_GROUP] == '/') {\n            // Long skip, if there is some overlapping like:\n            // XX[/YY/ZZ]\n            // [XX/YY/]ZZ\n            match.index += match[0].length\n            return;\n        }\n\n        var index = match.index + match[OPENNING_GROUP].length;\n        var text = match[0].substr(match[OPENNING_GROUP].length, match[0].length - match[ENDING_GROUP].length);\n\n\n        var result = new ParsedResult({\n            text: text,\n            index: index,\n            ref: ref,\n        });\n\n        if(text.match(/^\\d\\.\\d$/)) return;\n        if(text.match(/^\\d\\.\\d{1,2}\\.\\d{1,2}$/)) return;\n\n        // MM/dd -> OK\n        // MM.dd -> NG\n        if(!match[YEAR_GROUP] && match[0].indexOf('/') < 0) return;\n\n        var date = null;\n        var year = match[YEAR_GROUP] || dayjs(ref).year() + '';\n        var month = match[MONTH_GROUP];\n        var day   = match[DAY_GROUP];\n\n        month = parseInt(month);\n        day  = parseInt(day);\n        year = parseInt(year);\n\n        if(month < 1 || month > 12) {\n            if(month > 12) {\n                // dd/mm/yyyy date format if day looks like a month, and month\n                // looks like a day.\n                if (day >= 1 && day <= 12 && month >= 13 && month <= 31) {\n                    // unambiguous\n                    var tday = month;\n                    month = day;\n                    day = tday;\n                }\n                else {\n                    // both month and day are <= 12\n                    return null;\n                }\n            }\n        }\n        if(day < 1 || day > 31) return null;\n\n        if(year < 100){\n            if(year > 50){\n                year = year + 1900;\n            }else{\n                year = year + 2000;\n            }\n        }\n\n        result.start.assign('day', day);\n        result.start.assign('month', month);\n        result.start.assign('year', year);\n\n        //Day of week\n        if(match[WEEKDAY_GROUP]) {\n            result.start.assign('weekday', DAYS_OFFSET[match[WEEKDAY_GROUP].toLowerCase()]);\n        }\n\n        result.tags['PTSlashDateFormatParser'] = true;\n        return result;\n    };\n};","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = /(\\W|^)há\\s*([0-9]+|mei[oa]|uma?)\\s*(minutos?|horas?|semanas?|dias?|mes(es)?|anos?)(?=(?:\\W|$))/i;\n\nexports.Parser = function PTTimeAgoFormatParser(){\n    Parser.apply(this, arguments);\n\n    this.pattern = function() {\n        return PATTERN;\n    }\n\n    this.extract = function(text, ref, match, opt){\n\n        if (match.index > 0 && text[match.index-1].match(/\\w/)) return null;\n\n        var text = match[0];\n        text  = match[0].substr(match[1].length, match[0].length - match[1].length);\n        let index = match.index + match[1].length;\n\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref,\n        });\n\n        var num = parseInt(match[2]);\n        if (isNaN(num)) {\n          if (match[2].match(/mei/)) {\n            num = 0.5;\n          } else {\n            num = 1;\n          }\n        }\n\n        var date = dayjs(ref);\n\n        if (match[3].match(/hora/) || match[3].match(/minuto/)) {\n            if (match[3].match(/hora/)) {\n\n                date = date.add(-num, 'hour');\n\n            } else if (match[3].match(/minuto/)) {\n\n                date = date.add(-num, 'minute');\n            }\n\n            result.start.imply('day', date.date());\n            result.start.imply('month', date.month() + 1);\n            result.start.imply('year', date.year());\n            result.start.assign('hour', date.hour());\n            result.start.assign('minute', date.minute());\n            result.tags['PTTimeAgoFormatParser'] = true;\n            return result;\n        }\n\n        if (match[3].match(/semana/)) {\n            date = date.add(-num, 'week');\n\n            result.start.imply('day', date.date());\n            result.start.imply('month', date.month() + 1);\n            result.start.imply('year', date.year());\n            result.start.imply('weekday', date.day());\n            return result;\n        }\n\n        if (match[3].match(/dia/)) {\n            date = date.add(-num, 'd');\n        }\n\n        if (match[3].match(/mes/)) {\n            date = date.add(-num, 'month');\n        }\n\n        if (match[3].match(/ano/)) {\n\n            date = date.add(-num, 'year');\n        }\n\n        result.start.assign('day', date.date());\n        result.start.assign('month', date.month() + 1);\n        result.start.assign('year', date.year());\n        return result;\n\n    };\n}\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar ParsedComponents = require('../../result').ParsedComponents;\n\nvar FIRST_REG_PATTERN  = new RegExp(\"(^|\\\\s|T)\" +\n    \"(?:(?:ao?|às?|das|da|de|do)\\\\s*)?\" +\n    \"(\\\\d{1,4}|meio-dia|meia-noite|meio dia|meia noite)\" +\n    \"(?:\" +\n        \"(?:\\\\.|\\\\:|\\\\：)(\\\\d{1,2})\" +\n        \"(?:\" +\n            \"(?:\\\\:|\\\\：)(\\\\d{2})\" +\n        \")?\" +\n    \")?\" +\n    \"(?:\\\\s*(A\\\\.M\\\\.|P\\\\.M\\\\.|AM?|PM?))?\" +\n    \"(?=\\\\W|$)\", 'i');\n\n\nvar SECOND_REG_PATTERN = new RegExp(\"^\\\\s*\" +\n    \"(\\\\-|\\\\–|\\\\~|\\\\〜|a(?:o)?|\\\\?)\\\\s*\" +\n    \"(\\\\d{1,4})\" +\n    \"(?:\" +\n        \"(?:\\\\.|\\\\:|\\\\：)(\\\\d{1,2})\" +\n        \"(?:\" +\n            \"(?:\\\\.|\\\\:|\\\\：)(\\\\d{1,2})\" +\n        \")?\" +\n    \")?\" +\n    \"(?:\\\\s*(A\\\\.M\\\\.|P\\\\.M\\\\.|AM?|PM?))?\" +\n    \"(?=\\\\W|$)\", 'i');\n\nvar HOUR_GROUP    = 2;\nvar MINUTE_GROUP  = 3;\nvar SECOND_GROUP  = 4;\nvar AM_PM_HOUR_GROUP = 5;\n\nexports.Parser = function PTTimeExpressionParser(){\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return FIRST_REG_PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n\n        // This pattern can be overlaped Ex. [12] AM, 1[2] AM\n        if (match.index > 0 && text[match.index-1].match(/\\w/)) return null;\n        var refMoment = dayjs(ref);\n        var result = new ParsedResult();\n        result.ref = ref;\n        result.index = match.index + match[1].length;\n        result.text  = match[0].substring(match[1].length);\n        result.tags['PTTimeExpressionParser'] = true;\n\n        result.start.imply('day',   refMoment.date());\n        result.start.imply('month', refMoment.month()+1);\n        result.start.imply('year',  refMoment.year());\n\n        var hour = 0;\n        var minute = 0;\n        var meridiem = -1;\n\n        // ----- Second\n        if(match[SECOND_GROUP] != null){\n            var second = parseInt(match[SECOND_GROUP]);\n            if(second >= 60) return null;\n\n            result.start.assign('second', second);\n        }\n\n        // ----- Hours\n        if (match[HOUR_GROUP].toLowerCase().match(/meio\\-di/)){\n            meridiem = 1;\n            hour = 12;\n        } else if (match[HOUR_GROUP].toLowerCase() == \"meia-noite\") {\n            meridiem = 0;\n            hour = 0;\n        } else {\n            hour = parseInt(match[HOUR_GROUP]);\n        }\n\n        // ----- Minutes\n        if(match[MINUTE_GROUP] != null){\n            minute = parseInt(match[MINUTE_GROUP]);\n        } else if(hour > 100) {\n            minute = hour%100;\n            hour   = parseInt(hour/100);\n        }\n\n        if(minute >= 60) {\n            return null;\n        }\n\n        if(hour > 24) {\n            return null;\n        }\n        if (hour >= 12) {\n            meridiem = 1;\n        }\n\n        // ----- AM & PM\n        if(match[AM_PM_HOUR_GROUP] != null) {\n            if(hour > 12) return null;\n            var ampm = match[AM_PM_HOUR_GROUP][0].toLowerCase();\n            if(ampm == \"a\"){\n                meridiem = 0;\n                if(hour == 12) hour = 0;\n            }\n\n            if(ampm == \"p\"){\n                meridiem = 1;\n                if(hour != 12) hour += 12;\n            }\n        }\n        result.start.assign('hour', hour);\n        result.start.assign('minute', minute);\n        if (meridiem >= 0) {\n            result.start.assign('meridiem', meridiem);\n        }\n\n        // ==============================================================\n        //                  Extracting the 'to' chunk\n        // ==============================================================\n        match = SECOND_REG_PATTERN.exec(text.substring(result.index + result.text.length));\n        if (!match) {\n            // Not accept number only result\n            if (result.text.match(/^\\d+$/)) {\n                return null;\n            }\n            return result;\n        }\n\n\n\n        // Pattern \"YY.YY -XXXX\" is more like timezone offset\n        if (match[0].match(/^\\s*(\\+|\\-)\\s*\\d{3,4}$/)) {\n            return result;\n        }\n\n        if(result.end == null){\n            result.end = new ParsedComponents(null, result.start.date());\n        }\n\n        var hour = 0;\n        var minute = 0;\n        var meridiem = -1;\n\n        // ----- Second\n        if(match[SECOND_GROUP] != null){\n            var second = parseInt(match[SECOND_GROUP]);\n            if(second >= 60) return null;\n\n            result.end.assign('second', second);\n        }\n\n        hour = parseInt(match[2]);\n\n        // ----- Minute\n        if (match[MINUTE_GROUP]!= null) {\n\n            minute = parseInt(match[MINUTE_GROUP]);\n            if(minute >= 60) return result;\n\n        } else if (hour > 100) {\n\n            minute = hour%100;\n            hour   = parseInt(hour/100);\n        }\n\n        if(minute >= 60) {\n            return null;\n        }\n\n        if(hour > 24) {\n            return null;\n        }\n        if (hour >= 12) {\n            meridiem = 1;\n        }\n\n        // ----- AM & PM\n        if (match[AM_PM_HOUR_GROUP] != null){\n\n            if (hour > 12) return null;\n\n            if(match[AM_PM_HOUR_GROUP][0].toLowerCase() == \"a\"){\n                meridiem = 0;\n                if(hour == 12) {\n                    hour = 0;\n                    if (!result.end.isCertain('day')) {\n                        result.end.imply('day', result.end.get('day') + 1);\n                    }\n                }\n            }\n\n            if(match[AM_PM_HOUR_GROUP][0].toLowerCase() == \"p\"){\n                meridiem = 1;\n                if(hour != 12) hour += 12;\n            }\n\n            if (!result.start.isCertain('meridiem')) {\n                if (meridiem == 0) {\n\n                    result.start.imply('meridiem', 0);\n\n                    if (result.start.get('hour') == 12) {\n                        result.start.assign('hour', 0);\n                    }\n\n                } else {\n\n                    result.start.imply('meridiem', 1);\n\n                    if (result.start.get('hour') != 12) {\n                        result.start.assign('hour', result.start.get('hour') + 12);\n                    }\n                }\n            }\n\n        } else if(hour >= 12) {\n            meridiem = 1;\n        }\n\n        result.text = result.text + match[0];\n        result.end.assign('hour', hour);\n        result.end.assign('minute', minute);\n        if (meridiem >= 0) {\n            result.end.assign('meridiem', meridiem);\n        }\n\n        if (result.end.date().getTime() < result.start.date().getTime()) {\n            result.end.imply('day', result.end.get('day') + 1)\n        }\n\n        return result;\n    }\n}\n","var Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar updateParsedComponent = require('../en/ENWeekdayParser').updateParsedComponent;\n\nvar DAYS_OFFSET = { 'domingo': 0, 'dom': 0, 'segunda': 1, 'segunda-feira': 1, 'seg': 1, 'terça': 2, 'terça-feira': 2, 'ter': 2, 'quarta': 3, 'quarta-feira': 3, 'qua': 3,\n    'quinta': 4, 'quinta-feira': 4, 'qui': 4, 'sexta': 5, 'sexta-feira': 5, 'sex': 5, 'sábado': 6, 'sabado': 6, 'sab': 6,}\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n    '(?:(?:\\\\,|\\\\(|\\\\（)\\\\s*)?' +\n    '(?:(este|esta|passado|pr[oó]ximo)\\\\s*)?' +\n    '(' + Object.keys(DAYS_OFFSET).join('|') + ')' +\n    '(?:\\\\s*(?:\\\\,|\\\\)|\\\\）))?' +\n    '(?:\\\\s*(este|esta|passado|pr[óo]ximo)\\\\s*semana)?' +\n    '(?=\\\\W|$)', 'i');\n\nvar PREFIX_GROUP = 2;\nvar WEEKDAY_GROUP = 3;\nvar POSTFIX_GROUP = 4;\n\nexports.Parser = function PTWeekdayParser() {\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n        var index = match.index + match[1].length;\n        var text = match[0].substr(match[1].length, match[0].length - match[1].length);\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref\n        });\n\n        var dayOfWeek = match[WEEKDAY_GROUP].toLowerCase();\n        var offset = DAYS_OFFSET[dayOfWeek];\n        if(offset === undefined) return null;\n\n        var modifier = null;\n        var prefix = match[PREFIX_GROUP];\n        var postfix = match[POSTFIX_GROUP];\n        if (prefix || postfix) {\n            var norm = prefix || postfix;\n            norm = norm.toLowerCase();\n\n            if(norm == 'passado') {\n                modifier = 'this';\n            }\n            else if(norm == 'próximo' || norm == 'proximo') {\n                modifier = 'next';\n            }\n            else if(norm== 'este') {\n                modifier =  'this';\n            }\n        }\n\n        updateParsedComponent(result, ref, offset, modifier);\n        result.tags['PTWeekdayParser'] = true;\n        return result;\n    }\n}\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\n/*\n  Valid patterns:\n  - esta mañana -> today in the morning\n  - esta tarde -> today in the afternoon/evening\n  - esta noche -> tonight\n  - ayer por la mañana -> yesterday in the morning\n  - ayer por la tarde -> yesterday in the afternoon/evening\n  - ayer por la noche -> yesterday at night\n  - mañana por la mañana -> tomorrow in the morning\n  - mañana por la tarde -> tomorrow in the afternoon/evening\n  - mañana por la noche -> tomorrow at night\n  - anoche -> tomorrow at night\n  - hoy -> today\n  - ayer -> yesterday\n  - mañana -> tomorrow\n */\nvar PATTERN = /(\\W|^)(ahora|esta\\s*(mañana|tarde|noche)|(ayer|mañana)\\s*por\\s*la\\s*(mañana|tarde|noche)|hoy|mañana|ayer|anoche)(?=\\W|$)/i;\n\nexports.Parser = function ESCasualDateParser(){\n\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n\n        var text = match[0].substr(match[1].length);\n        var index = match.index + match[1].length;\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref,\n        });\n\n        var refMoment = dayjs(ref);\n        var startMoment = refMoment;\n        var lowerText = text.toLowerCase().replace(/\\s+/g, ' ');\n\n        if(lowerText == 'mañana'){\n\n            // Check not \"Tomorrow\" on late night\n            if(refMoment.hour() > 1) {\n                startMoment = startMoment.add(1, 'day');\n            }\n\n        } else if(lowerText == 'ayer') {\n\n            startMoment = startMoment.add(-1, 'day');\n        }\n        else if(lowerText == 'anoche') {\n\n            result.start.imply('hour', 0);\n            if (refMoment.hour() > 6) {\n                startMoment = startMoment.add(-1, 'day');\n            }\n\n        } else if (lowerText.match(\"esta\")) {\n\n            var secondMatch = match[3].toLowerCase();\n            if (secondMatch == \"tarde\") {\n\n                result.start.imply('hour', 18);\n\n            } else if (secondMatch == \"mañana\") {\n\n                result.start.imply('hour', 6);\n\n            } else if (secondMatch == \"noche\") {\n\n              // Normally means this coming midnight\n              result.start.imply('hour', 22);\n              result.start.imply('meridiem', 1);\n\n            }\n        } else if (lowerText.match(/por\\s*la/)) {\n\n            var firstMatch = match[4].toLowerCase();\n            if (firstMatch === 'ayer') {\n\n                startMoment = startMoment.add(-1, 'day');\n\n            } else if (firstMatch === 'mañana') {\n\n                startMoment = startMoment.add(1, 'day');\n\n            }\n\n            var secondMatch = match[5].toLowerCase();\n            if (secondMatch == \"tarde\") {\n\n                result.start.imply('hour', 18);\n\n            } else if (secondMatch == \"mañana\") {\n\n                result.start.imply('hour', 9);\n\n            } else if (secondMatch == \"noche\") {\n\n              // Normally means this coming midnight\n              result.start.imply('hour', 22);\n              result.start.imply('meridiem', 1);\n\n            }\n\n        } else if (lowerText.match(\"ahora\")) {\n\n          result.start.imply('hour', refMoment.hour());\n          result.start.imply('minute', refMoment.minute());\n          result.start.imply('second', refMoment.second());\n          result.start.imply('millisecond', refMoment.millisecond());\n\n        }\n\n        result.start.assign('day', startMoment.date())\n        result.start.assign('month', startMoment.month() + 1)\n        result.start.assign('year', startMoment.year())\n        result.tags['ESCasualDateParser'] = true;\n        return result;\n    }\n}\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = /(\\W|^)(dentro\\s*de|en)\\s*([0-9]+|medi[oa]|una?)\\s*(minutos?|horas?|d[ií]as?)\\s*(?=(?:\\W|$))/i;\n\nexports.Parser = function ESDeadlineFormatParser(){\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n\n        var index = match.index + match[1].length;\n        var text  = match[0];\n        text  = match[0].substr(match[1].length, match[0].length - match[1].length);\n\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref,\n        });\n\n        var num = parseInt(match[3]);\n        if (isNaN(num)) {\n          if (match[3].match(/medi/)) {\n            num = 0.5;\n          } else {\n            num = 1;\n          }\n        }\n\n        var date = dayjs(ref);\n        if (match[4].match(/d[ií]a/)) {\n            date = date.add(num, 'd');\n            result.start.assign('year', date.year());\n            result.start.assign('month', date.month() + 1);\n            result.start.assign('day', date.date());\n            return result;\n        }\n\n\n        if (match[4].match(/hora/)) {\n\n            date = date.add(num, 'hour');\n\n        } else if (match[4].match(/minuto/)) {\n\n            date = date.add(num, 'minute');\n        }\n\n        result.start.imply('year', date.year());\n        result.start.imply('month', date.month() + 1);\n        result.start.imply('day', date.date());\n        result.start.assign('hour', date.hour());\n        result.start.assign('minute', date.minute());\n        result.tags['ESDeadlineFormatParser'] = true;\n        return result;\n    };\n}\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = /(\\W|^)hace\\s*([0-9]+|medi[oa]|una?)\\s*(minutos?|horas?|semanas?|d[ií]as?|mes(es)?|años?)(?=(?:\\W|$))/i;\n\nexports.Parser = function ESTimeAgoFormatParser(){\n    Parser.apply(this, arguments);\n\n    this.pattern = function() {\n        return PATTERN;\n    }\n\n    this.extract = function(text, ref, match, opt){\n\n        if (match.index > 0 && text[match.index-1].match(/\\w/)) return null;\n\n        var text = match[0];\n        text  = match[0].substr(match[1].length, match[0].length - match[1].length);\n        let index = match.index + match[1].length;\n\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref,\n        });\n\n        var num = parseInt(match[2]);\n        if (isNaN(num)) {\n          if (match[2].match(/medi/)) {\n            num = 0.5;\n          } else {\n            num = 1;\n          }\n        }\n\n        var date = dayjs(ref);\n\n        if (match[3].match(/hora/) || match[3].match(/minuto/)) {\n            if (match[3].match(/hora/)) {\n\n                date = date.add(-num, 'hour');\n\n            } else if (match[3].match(/minuto/)) {\n\n                date = date.add(-num, 'minute');\n            }\n\n            result.start.imply('day', date.date());\n            result.start.imply('month', date.month() + 1);\n            result.start.imply('year', date.year());\n            result.start.assign('hour', date.hour());\n            result.start.assign('minute', date.minute());\n            result.tags['ESTimeAgoFormatParser'] = true;\n            return result;\n        }\n\n        if (match[3].match(/semana/)) {\n            date = date.add(-num, 'week');\n\n            result.start.imply('day', date.date());\n            result.start.imply('month', date.month() + 1);\n            result.start.imply('year', date.year());\n            result.start.imply('weekday', date.day());\n            return result;\n        }\n\n        if (match[3].match(/d[ií]a/)) {\n            date = date.add(-num, 'd');\n        }\n\n        if (match[3].match(/mes/)) {\n            date = date.add(-num, 'month');\n        }\n\n        if (match[3].match(/año/)) {\n\n            date = date.add(-num, 'year');\n        }\n\n        result.start.assign('day', date.date());\n        result.start.assign('month', date.month() + 1);\n        result.start.assign('year', date.year());\n        return result;\n\n    };\n}\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar ParsedComponents = require('../../result').ParsedComponents;\n\nvar FIRST_REG_PATTERN  = new RegExp(\"(^|\\\\s|T)\" +\n    \"(?:(?:a las?|al?|desde|de)\\\\s*)?\" +\n    \"(\\\\d{1,4}|mediod[ií]a|medianoche)\" +\n    \"(?:\" +\n        \"(?:\\\\.|\\\\:|\\\\：)(\\\\d{1,2})\" +\n        \"(?:\" +\n            \"(?:\\\\:|\\\\：)(\\\\d{2})\" +\n        \")?\" +\n    \")?\" +\n    \"(?:\\\\s*(A\\\\.M\\\\.|P\\\\.M\\\\.|AM?|PM?))?\" +\n    \"(?=\\\\W|$)\", 'i');\n\n\nvar SECOND_REG_PATTERN = new RegExp(\"^\\\\s*\" +\n    \"(\\\\-|\\\\–|\\\\~|\\\\〜|a(?:\\s*las)?|\\\\?)\\\\s*\" +\n    \"(\\\\d{1,4})\" +\n    \"(?:\" +\n        \"(?:\\\\.|\\\\:|\\\\：)(\\\\d{1,2})\" +\n        \"(?:\" +\n            \"(?:\\\\.|\\\\:|\\\\：)(\\\\d{1,2})\" +\n        \")?\" +\n    \")?\" +\n    \"(?:\\\\s*(A\\\\.M\\\\.|P\\\\.M\\\\.|AM?|PM?))?\" +\n    \"(?=\\\\W|$)\", 'i');\n\nvar HOUR_GROUP    = 2;\nvar MINUTE_GROUP  = 3;\nvar SECOND_GROUP  = 4;\nvar AM_PM_HOUR_GROUP = 5;\n\nexports.Parser = function ESTimeExpressionParser(){\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return FIRST_REG_PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n\n        // This pattern can be overlaped Ex. [12] AM, 1[2] AM\n        if (match.index > 0 && text[match.index-1].match(/\\w/)) return null;\n        var refMoment = dayjs(ref);\n        var result = new ParsedResult();\n        result.ref = ref;\n        result.index = match.index + match[1].length;\n        result.text  = match[0].substring(match[1].length);\n        result.tags['ESTimeExpressionParser'] = true;\n\n        result.start.imply('day',   refMoment.date());\n        result.start.imply('month', refMoment.month()+1);\n        result.start.imply('year',  refMoment.year());\n\n        var hour = 0;\n        var minute = 0;\n        var meridiem = -1;\n\n        // ----- Second\n        if(match[SECOND_GROUP] != null){\n            var second = parseInt(match[SECOND_GROUP]);\n            if(second >= 60) return null;\n\n            result.start.assign('second', second);\n        }\n\n        // ----- Hours\n        if (match[HOUR_GROUP].toLowerCase().match(/mediod/)){\n            meridiem = 1;\n            hour = 12;\n        } else if (match[HOUR_GROUP].toLowerCase() == \"medianoche\") {\n            meridiem = 0;\n            hour = 0;\n        } else {\n            hour = parseInt(match[HOUR_GROUP]);\n        }\n\n        // ----- Minutes\n        if(match[MINUTE_GROUP] != null){\n            minute = parseInt(match[MINUTE_GROUP]);\n        } else if(hour > 100) {\n            minute = hour%100;\n            hour   = parseInt(hour/100);\n        }\n\n        if(minute >= 60) {\n            return null;\n        }\n\n        if(hour > 24) {\n            return null;\n        }\n        if (hour >= 12) {\n            meridiem = 1;\n        }\n\n        // ----- AM & PM\n        if(match[AM_PM_HOUR_GROUP] != null) {\n            if(hour > 12) return null;\n            var ampm = match[AM_PM_HOUR_GROUP][0].toLowerCase();\n            if(ampm == \"a\"){\n                meridiem = 0;\n                if(hour == 12) hour = 0;\n            }\n\n            if(ampm == \"p\"){\n                meridiem = 1;\n                if(hour != 12) hour += 12;\n            }\n        }\n        result.start.assign('hour', hour);\n        result.start.assign('minute', minute);\n        if (meridiem >= 0) {\n            result.start.assign('meridiem', meridiem);\n        }\n\n        // ==============================================================\n        //                  Extracting the 'to' chunk\n        // ==============================================================\n        match = SECOND_REG_PATTERN.exec(text.substring(result.index + result.text.length));\n        if (!match) {\n            // Not accept number only result\n            if (result.text.match(/^\\d+$/)) {\n                return null;\n            }\n            return result;\n        }\n\n\n\n        // Pattern \"YY.YY -XXXX\" is more like timezone offset\n        if (match[0].match(/^\\s*(\\+|\\-)\\s*\\d{3,4}$/)) {\n            return result;\n        }\n\n        if(result.end == null){\n            result.end = new ParsedComponents(null, result.start.date());\n        }\n\n        var hour = 0;\n        var minute = 0;\n        var meridiem = -1;\n\n        // ----- Second\n        if(match[SECOND_GROUP] != null){\n            var second = parseInt(match[SECOND_GROUP]);\n            if(second >= 60) return null;\n\n            result.end.assign('second', second);\n        }\n\n        hour = parseInt(match[2]);\n\n        // ----- Minute\n        if (match[MINUTE_GROUP]!= null) {\n\n            minute = parseInt(match[MINUTE_GROUP]);\n            if(minute >= 60) return result;\n\n        } else if (hour > 100) {\n\n            minute = hour%100;\n            hour   = parseInt(hour/100);\n        }\n\n        if(minute >= 60) {\n            return null;\n        }\n\n        if(hour > 24) {\n            return null;\n        }\n        if (hour >= 12) {\n            meridiem = 1;\n        }\n\n        // ----- AM & PM\n        if (match[AM_PM_HOUR_GROUP] != null){\n\n            if (hour > 12) return null;\n\n            if(match[AM_PM_HOUR_GROUP][0].toLowerCase() == \"a\"){\n                meridiem = 0;\n                if(hour == 12) {\n                    hour = 0;\n                    if (!result.end.isCertain('day')) {\n                        result.end.imply('day', result.end.get('day') + 1);\n                    }\n                }\n            }\n\n            if(match[AM_PM_HOUR_GROUP][0].toLowerCase() == \"p\"){\n                meridiem = 1;\n                if(hour != 12) hour += 12;\n            }\n\n            if (!result.start.isCertain('meridiem')) {\n                if (meridiem == 0) {\n\n                    result.start.imply('meridiem', 0);\n\n                    if (result.start.get('hour') == 12) {\n                        result.start.assign('hour', 0);\n                    }\n\n                } else {\n\n                    result.start.imply('meridiem', 1);\n\n                    if (result.start.get('hour') != 12) {\n                        result.start.assign('hour', result.start.get('hour') + 12);\n                    }\n                }\n            }\n\n        } else if(hour >= 12) {\n            meridiem = 1;\n        }\n\n        result.text = result.text + match[0];\n        result.end.assign('hour', hour);\n        result.end.assign('minute', minute);\n        if (meridiem >= 0) {\n            result.end.assign('meridiem', meridiem);\n        }\n\n        if (result.end.date().getTime() < result.start.date().getTime()) {\n            result.end.imply('day', result.end.get('day') + 1)\n        }\n\n        return result;\n    }\n}\n","var Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar updateParsedComponent = require('../en/ENWeekdayParser').updateParsedComponent;\n\nvar DAYS_OFFSET = { 'domingo': 0, 'dom': 0, 'lunes': 1, 'lun': 1, 'martes': 2, 'mar':2, 'miercoles': 3, 'miércoles': 3, 'mie': 3,\n    'jueves': 4, 'jue': 4, 'viernes': 5, 'vier': 5, 'sabado': 6, 'sábado': 6, 'sab': 6,}\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n    '(?:(?:\\\\,|\\\\(|\\\\（)\\\\s*)?' +\n    '(?:(este|pasado|pr[oó]ximo)\\\\s*)?' +\n    '(' + Object.keys(DAYS_OFFSET).join('|') + ')' +\n    '(?:\\\\s*(?:\\\\,|\\\\)|\\\\）))?' +\n    '(?:\\\\s*(este|pasado|pr[óo]ximo)\\\\s*week)?' +\n    '(?=\\\\W|$)', 'i');\n\nvar PREFIX_GROUP = 2;\nvar WEEKDAY_GROUP = 3;\nvar POSTFIX_GROUP = 4;\n\nexports.Parser = function ESWeekdayParser() {\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n        var index = match.index + match[1].length;\n        var text = match[0].substr(match[1].length, match[0].length - match[1].length);\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref\n        });\n\n        var dayOfWeek = match[WEEKDAY_GROUP].toLowerCase();\n        var offset = DAYS_OFFSET[dayOfWeek];\n        if(offset === undefined) return null;\n\n        var modifier = null;\n        var prefix = match[PREFIX_GROUP];\n        var postfix = match[POSTFIX_GROUP];\n        if (prefix || postfix) {\n            var norm = prefix || postfix;\n            norm = norm.toLowerCase();\n\n            if(norm == 'pasado') {\n                modifier = 'this';\n            }\n            else if(norm == 'próximo' || norm == 'proximo') {\n                modifier = 'next';\n            }\n            else if(norm== 'este') {\n                modifier =  'this';\n            }\n        }\n\n        updateParsedComponent(result, ref, offset, modifier);\n        result.tags['ESWeekdayParser'] = true;\n        return result;\n    }\n}\n","var parser = require('../parser');\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar util  = require('../../utils/ES');\n\nvar DAYS_OFFSET = util.WEEKDAY_OFFSET;\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n        '(?:(Domingo|Lunes|Martes|Miércoles|Miercoles|Jueves|Viernes|Sábado|Sabado|Dom|Lun|Mar|Mie|Jue|Vie|Sab)\\\\s*,?\\\\s*)?' +\n        '([0-9]{1,2})(?:º|ª|°)?' +\n        '(?:\\\\s*(?:desde|de|\\\\-|\\\\–|al?|hasta|\\\\s)\\\\s*([0-9]{1,2})(?:º|ª|°)?)?\\\\s*(?:de)?\\\\s*' +\n        '(Ene(?:ro|\\\\.)?|Feb(?:rero|\\\\.)?|Mar(?:zo|\\\\.)?|Abr(?:il|\\\\.)?|May(?:o|\\\\.)?|Jun(?:io|\\\\.)?|Jul(?:io|\\\\.)?|Ago(?:sto|\\\\.)?|Sep(?:tiembre|\\\\.)?|Set(?:iembre|\\\\.)?|Oct(?:ubre|\\\\.)?|Nov(?:iembre|\\\\.)?|Dic(?:iembre|\\\\.)?)' +\n        '(?:\\\\s*(?:del?)?(\\\\s*[0-9]{1,4}(?![^\\\\s]\\\\d))(\\\\s*[ad]\\\\.?\\\\s*c\\\\.?|a\\\\.?\\\\s*d\\\\.?)?)?' +\n        '(?=\\\\W|$)', 'i'\n    );\n\nvar WEEKDAY_GROUP = 2;\nvar DATE_GROUP = 3;\nvar DATE_TO_GROUP = 4;\nvar MONTH_NAME_GROUP = 5;\nvar YEAR_GROUP = 6;\nvar YEAR_BE_GROUP = 7;\n\nexports.Parser = function ESMonthNameLittleEndianParser(){\n    parser.Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n\n        var result = new ParsedResult({\n            text: match[0].substr(match[1].length, match[0].length - match[1].length),\n            index: match.index + match[1].length,\n            ref: ref,\n        });\n\n        var month = match[MONTH_NAME_GROUP];\n        month = util.MONTH_OFFSET[month.toLowerCase()];\n\n        var day = match[DATE_GROUP];\n        day = parseInt(day);\n\n        var year = null;\n        if (match[YEAR_GROUP]) {\n            year = match[YEAR_GROUP];\n            year = parseInt(year);\n\n            if(match[YEAR_BE_GROUP]){\n                if (/a\\.?\\s*c\\.?/i.test(match[YEAR_BE_GROUP])) {\n                    // antes de Cristo\n                    year = -year;\n                }\n            } else if (year < 100){\n\n                year = year + 2000;\n            }\n        }\n\n        if(year){\n            result.start.assign('day', day);\n            result.start.assign('month', month);\n            result.start.assign('year', year);\n        } else {\n            year = parser.findYearClosestToRef(ref, day, month);\n            result.start.assign('day', day);\n            result.start.assign('month', month);\n            result.start.imply('year', year);\n        }\n\n        // Weekday component\n        if (match[WEEKDAY_GROUP]) {\n            var weekday = match[WEEKDAY_GROUP];\n            weekday = util.WEEKDAY_OFFSET[weekday.toLowerCase()]\n            result.start.assign('weekday', weekday);\n        }\n\n        // Text can be 'range' value. Such as '12 - 13 January 2012'\n        if (match[DATE_TO_GROUP]) {\n            result.end = result.start.clone();\n            result.end.assign('day', parseInt(match[DATE_TO_GROUP]));\n        }\n\n        result.tags['ESMonthNameLittleEndianParser'] = true;\n        return result;\n    };\n}\n","exports.WEEKDAY_OFFSET = {\n    'domingo': 0,\n    'dom': 0,\n    'lunes': 1,\n    'lun': 1,\n    'martes': 2,\n    'mar':2,\n    'miércoles': 3,\n    'miercoles': 3,\n    'mie': 3,\n    'jueves': 4,\n    'jue': 4,\n    'viernes': 5,\n    'vie': 5,\n    'sábado': 6,\n    'sabado': 6,\n    'sab': 6,}\n\nexports.MONTH_OFFSET = {\n    'enero': 1,\n    'ene': 1,\n    'ene.': 1,\n    'febrero': 2,\n    'feb': 2,\n    'feb.': 2,\n    'marzo': 3,\n    'mar': 3,\n    'mar.': 3,\n    'abril': 4,\n    'abr': 4,\n    'abr.': 4,\n    'mayo': 5,\n    'may': 5,\n    'may.': 5,\n    'junio': 6,\n    'jun': 6,\n    'jun.': 6,\n    'julio': 7,\n    'jul': 7,\n    'jul.': 7,\n    'agosto': 8,\n    'ago': 8,\n    'ago.': 8,\n    'septiembre': 9,\n    'sep': 9,\n    'sept': 9,\n    'sep.': 9,\n    'sept.': 9,\n    'octubre': 10,\n    'oct': 10,\n    'oct.': 10,\n    'noviembre': 11,\n    'nov': 11,\n    'nov.': 11,\n    'diciembre': 12,\n    'dic': 12,\n    'dic.': 12,\n}\n","/*\n    Date format with slash \"/\" (also \"-\" and \".\") between numbers\n    - Martes 3/11/2015\n    - 3/11/2015\n    - 3/11\n*/\nconst dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n    '(?:' +\n        '((?:domingo|dom|lunes|lun|martes|mar|mi[ée]rcoles|mie|jueves|jue|viernes|vie|s[áa]bado|sab))' +\n        '\\\\s*\\\\,?\\\\s*' +\n    ')?' +\n    '([0-1]{0,1}[0-9]{1})[\\\\/\\\\.\\\\-]([0-3]{0,1}[0-9]{1})' +\n    '(?:' +\n        '[\\\\/\\\\.\\\\-]' +\n        '([0-9]{4}\\s*\\,?\\s*|[0-9]{2}\\s*\\,?\\s*)' +\n    ')?' +\n    '(\\\\W|$)', 'i');\n\nvar DAYS_OFFSET = { 'domingo': 0, 'dom': 0, 'lunes': 1, 'lun': 1, 'martes': 2, 'mar': 2, 'miercoles': 3, 'miércoles': 3, 'mie': 3,\n    'jueves': 4, 'jue': 4, 'viernes': 5, 'vier': 5, 'sábado': 6, 'sabado': 6, 'sab': 6,}\n\n\nvar OPENNING_GROUP = 1;\nvar ENDING_GROUP = 6;\n\n// in Spanish we use day/month/year\nvar WEEKDAY_GROUP = 2;\nvar MONTH_GROUP = 4;\nvar DAY_GROUP = 3;\nvar YEAR_GROUP = 5;\n\nexports.Parser = function ESSlashDateFormatParser(argument) {\n    Parser.apply(this, arguments);\n\n    this.pattern = function () { return PATTERN; };\n    this.extract = function(text, ref, match, opt){\n\n        if(match[OPENNING_GROUP] == '/' || match[ENDING_GROUP] == '/') {\n            // Long skip, if there is some overlapping like:\n            // XX[/YY/ZZ]\n            // [XX/YY/]ZZ\n            match.index += match[0].length\n            return;\n        }\n\n        var index = match.index + match[OPENNING_GROUP].length;\n        var text = match[0].substr(match[OPENNING_GROUP].length, match[0].length - match[ENDING_GROUP].length);\n\n\n        var result = new ParsedResult({\n            text: text,\n            index: index,\n            ref: ref,\n        });\n\n        if(text.match(/^\\d\\.\\d$/)) return;\n        if(text.match(/^\\d\\.\\d{1,2}\\.\\d{1,2}$/)) return;\n\n        // MM/dd -> OK\n        // MM.dd -> NG\n        if(!match[YEAR_GROUP] && match[0].indexOf('/') < 0) return;\n\n        var date = null;\n        var year = match[YEAR_GROUP] || dayjs(ref).year() + '';\n        var month = match[MONTH_GROUP];\n        var day   = match[DAY_GROUP];\n\n        month = parseInt(month);\n        day  = parseInt(day);\n        year = parseInt(year);\n\n        if(month < 1 || month > 12) {\n            if(month > 12) {\n                // dd/mm/yyyy date format if day looks like a month, and month\n                // looks like a day.\n                if (day >= 1 && day <= 12 && month >= 13 && month <= 31) {\n                    // unambiguous\n                    var tday = month;\n                    month = day;\n                    day = tday;\n                }\n                else {\n                    // both month and day are <= 12\n                    return null;\n                }\n            }\n        }\n        if(day < 1 || day > 31) return null;\n\n        if(year < 100){\n            if(year > 50){\n                year = year + 1900;\n            }else{\n                year = year + 2000;\n            }\n        }\n\n        result.start.assign('day', day);\n        result.start.assign('month', month);\n        result.start.assign('year', year);\n\n        //Day of week\n        if(match[WEEKDAY_GROUP]) {\n            result.start.assign('weekday', DAYS_OFFSET[match[WEEKDAY_GROUP].toLowerCase()]);\n        }\n\n        result.tags['ESSlashDateFormatParser'] = true;\n        return result;\n    };\n};","const dayjs = require('dayjs');\r\nvar Parser = require('../parser').Parser;\r\nvar ParsedResult = require('../../result').ParsedResult;\r\n\r\nvar PATTERN = /(\\W|^)(maintenant|aujourd'hui|ajd|cette\\s*nuit|la\\s*veille|(demain|hier)(\\s*(matin|soir|aprem|après-midi))?|ce\\s*(matin|soir)|cet\\s*(après-midi|aprem))(?=\\W|$)/i;\r\n\r\nexports.Parser = function FRCasualDateParser(){\r\n\r\n    Parser.apply(this, arguments);\r\n\r\n    this.pattern = function() { return PATTERN; }\r\n\r\n    this.extract = function(text, ref, match, opt){\r\n\r\n        var text = match[0].substr(match[1].length);\r\n        var index = match.index + match[1].length;\r\n        var result = new ParsedResult({\r\n            index: index,\r\n            text: text,\r\n            ref: ref,\r\n        });\r\n\r\n        var refMoment = dayjs(ref);\r\n        var startMoment = refMoment;\r\n        var lowerText = text.toLowerCase();\r\n\r\n        if(lowerText.match(/demain/)){\r\n            // Check not \"Tomorrow\" on late night\r\n            if(refMoment.hour() > 1) {\r\n                startMoment = startMoment.add(1, 'day');\r\n            }\r\n        } \r\n\r\n        if(lowerText.match(/hier/)) {\r\n            startMoment = startMoment.add(-1, 'day');\r\n        }\r\n\r\n        if(lowerText.match(/cette\\s*nuit/)){\r\n            // Normally means this coming midnight\r\n            result.start.imply('hour', 22);\r\n            result.start.imply('meridiem', 1);\r\n\r\n        } else if(lowerText.match(/la\\s*veille/)) {\r\n\r\n            result.start.imply('hour', 0);\r\n            if (refMoment.hour() > 6) {\r\n                startMoment = startMoment.add(-1, 'day');\r\n            }\r\n\r\n        } else if (lowerText.match(/(après-midi|aprem)/)) {\r\n\r\n            result.start.imply('hour', 14);\r\n\r\n        } else if (lowerText.match(/(soir)/)) {\r\n\r\n            result.start.imply('hour', 18);\r\n\r\n        } else if (lowerText.match(/matin/)) {\r\n\r\n            result.start.imply('hour', 8);\r\n\r\n        }  else if (lowerText.match(\"maintenant\")) {\r\n\r\n          result.start.imply('hour', refMoment.hour());\r\n          result.start.imply('minute', refMoment.minute());\r\n          result.start.imply('second', refMoment.second());\r\n          result.start.imply('millisecond', refMoment.millisecond());\r\n\r\n        }\r\n\r\n        result.start.assign('day', startMoment.date())\r\n        result.start.assign('month', startMoment.month() + 1)\r\n        result.start.assign('year', startMoment.year())\r\n        result.tags['FRCasualDateParser'] = true;\r\n        return result;\r\n    }\r\n}\r\n","const dayjs = require('dayjs');\r\nvar Parser = require('../parser').Parser;\r\nvar ParsedResult = require('../../result').ParsedResult;\r\nvar util  = require('../../utils/FR');\r\n\r\nvar PATTERN = new RegExp('(\\\\W|^)' +\r\n    '(dans|en)\\\\s*' +\r\n    '('+ util.INTEGER_WORDS_PATTERN + '|[0-9]+|une?|(?:\\\\s*quelques)?|demi(?:\\\\s*|-?)?)\\\\s*' +\r\n    '(secondes?|min(?:ute)?s?|heures?|jours?|semaines?|mois|années?)\\\\s*' +\r\n    '(?=\\\\W|$)', 'i'\r\n);\r\n\r\nvar STRICT_PATTERN = new RegExp('(\\\\W|^)' +\r\n    '(dans|en)\\\\s*' +\r\n    '('+ util.INTEGER_WORDS_PATTERN + '|[0-9]+|un?)\\\\s*' +\r\n    '(secondes?|minutes?|heures?|jours?)\\\\s*' +\r\n    '(?=\\\\W|$)', 'i'\r\n);\r\n\r\nexports.Parser = function FRDeadlineFormatParser(){\r\n    Parser.apply(this, arguments);\r\n\r\n    this.pattern = function() {\r\n        return this.isStrictMode()? STRICT_PATTERN : PATTERN;\r\n    };\r\n\r\n    this.extract = function(text, ref, match, opt){\r\n\r\n        var index = match.index + match[1].length;\r\n        var text  = match[0];\r\n        text  = match[0].substr(match[1].length, match[0].length - match[1].length);\r\n\r\n        var result = new ParsedResult({\r\n            index: index,\r\n            text: text,\r\n            ref: ref\r\n        });\r\n\r\n        var num = match[3];\r\n        if (util.INTEGER_WORDS[num] !== undefined) {\r\n            num = util.INTEGER_WORDS[num];\r\n        } else if (num === 'un' || num === 'une'){\r\n            num = 1;\r\n        } else if (num.match(/quelques?/i)){\r\n            num = 3;\r\n        } else if (num.match(/demi-?/i)) {\r\n            num = 0.5;\r\n        } else {\r\n            num = parseInt(num);\r\n        }\r\n\r\n        var date = dayjs(ref);\r\n        if (match[4].match(/jour|semaine|mois|année/i)) {\r\n\r\n            if (match[4].match(/jour/)) {\r\n                date = date.add(num, 'd');\r\n            } else if (match[4].match(/semaine/i)) {\r\n                date = date.add(num * 7, 'd');\r\n            } else if (match[4].match(/mois/i)) {\r\n                date = date.add(num, 'month');\r\n            } else if (match[4].match(/année/i)) {\r\n                date = date.add(num, 'year');\r\n            }\r\n\r\n            result.start.assign('year', date.year());\r\n            result.start.assign('month', date.month() + 1);\r\n            result.start.assign('day', date.date());\r\n            return result;\r\n        }\r\n\r\n        if (match[4].match(/heure/i)) {\r\n\r\n            date = date.add(num, 'hour');\r\n\r\n        } else if (match[4].match(/min/i)) {\r\n\r\n            date = date.add(num, 'minutes');\r\n\r\n        } else if (match[4].match(/secondes/i)) {\r\n\r\n            date = date.add(num, 'second');\r\n        }\r\n\r\n        result.start.imply('year', date.year());\r\n        result.start.imply('month', date.month() + 1);\r\n        result.start.imply('day', date.date());\r\n        result.start.assign('hour', date.hour());\r\n        result.start.assign('minute', date.minute());\r\n        result.start.assign('second', date.second());\r\n        result.tags['FRDeadlineFormatParser'] = true;\r\n        return result;\r\n    };\r\n};\r\n","const parser = require('../parser');\r\nvar ParsedResult = require('../../result').ParsedResult;\r\n\r\nvar util  = require('../../utils/FR');\r\n\r\nvar DAYS_OFFSET = util.WEEKDAY_OFFSET;\r\n\r\nvar PATTERN = new RegExp('(\\\\W|^)' +\r\n        '(?:(Dimanche|Lundi|Mardi|mercredi|Jeudi|Vendredi|Samedi|Dim|Lun|Mar|Mer|Jeu|Ven|Sam)\\\\s*,?\\\\s*)?' +\r\n        '([0-9]{1,2}|1er)' +\r\n        '(?:\\\\s*(?:au|\\\\-|\\\\–|jusqu\\'au?|\\\\s)\\\\s*([0-9]{1,2})(?:er)?)?\\\\s*(?:de)?\\\\s*' +\r\n        '(Jan(?:vier|\\\\.)?|F[ée]v(?:rier|\\\\.)?|Mars|Avr(?:il|\\\\.)?|Mai|Juin|Juil(?:let|\\\\.)?|Ao[uû]t|Sept(?:embre|\\\\.)?|Oct(?:obre|\\\\.)?|Nov(?:embre|\\\\.)?|d[ée]c(?:embre|\\\\.)?)' +\r\n        '(?:\\\\s*(\\\\s*[0-9]{1,4}(?![^\\\\s]\\\\d))(?:\\\\s*(AC|[ap]\\\\.?\\\\s*c(?:h(?:r)?)?\\\\.?\\\\s*n\\\\.?))?)?' +\r\n        '(?=\\\\W|$)', 'i'\r\n    );\r\n\r\nvar WEEKDAY_GROUP = 2;\r\nvar DATE_GROUP = 3;\r\nvar DATE_TO_GROUP = 4;\r\nvar MONTH_NAME_GROUP = 5;\r\nvar YEAR_GROUP = 6;\r\nvar YEAR_BE_GROUP = 7;\r\n\r\nexports.Parser = function FRMonthNameLittleEndianParser(){\r\n    parser.Parser.apply(this, arguments);\r\n\r\n    this.pattern = function() { return PATTERN; }\r\n\r\n    this.extract = function(text, ref, match, opt){\r\n\r\n        var result = new ParsedResult({\r\n            text: match[0].substr(match[1].length, match[0].length - match[1].length),\r\n            index: match.index + match[1].length,\r\n            ref: ref,\r\n        });\r\n\r\n        var month = match[MONTH_NAME_GROUP];\r\n        month = util.MONTH_OFFSET[month.toLowerCase()];\r\n\r\n        var day = match[DATE_GROUP];\r\n        day = parseInt(day);\r\n\r\n        var year = null;\r\n        if (match[YEAR_GROUP]) {\r\n            year = match[YEAR_GROUP];\r\n            year = parseInt(year);\r\n\r\n            if(match[YEAR_BE_GROUP]){\r\n                if (/a/i.test(match[YEAR_BE_GROUP])) {\r\n                    // Ante Christe natum\r\n                    year = -year;\r\n                }\r\n            } else if (year < 100){\r\n\r\n                year = year + 2000;\r\n            }\r\n        }\r\n\r\n        if(year){\r\n            result.start.assign('day', day);\r\n            result.start.assign('month', month);\r\n            result.start.assign('year', year);\r\n        } else {\r\n            year = parser.findYearClosestToRef(ref, day, month)\r\n            result.start.assign('day', day);\r\n            result.start.assign('month', month);\r\n            result.start.imply('year', year);\r\n        }\r\n\r\n        // Weekday component\r\n        if (match[WEEKDAY_GROUP]) {\r\n            var weekday = match[WEEKDAY_GROUP];\r\n            weekday = util.WEEKDAY_OFFSET[weekday.toLowerCase()]\r\n            result.start.assign('weekday', weekday);\r\n        }\r\n\r\n        // Text can be 'range' value. Such as '12 - 13 janvier 2012'\r\n        if (match[DATE_TO_GROUP]) {\r\n            result.end = result.start.clone();\r\n            result.end.assign('day', parseInt(match[DATE_TO_GROUP]));\r\n        }\r\n\r\n        result.tags['FRMonthNameLittleEndianParser'] = true;\r\n        return result;\r\n    };\r\n}\r\n","/*\r\n    Date format with slash \"/\" (also \"-\" and \".\") between numbers\r\n    - Martes 3/11/2015\r\n    - 3/11/2015\r\n    - 3/11\r\n*/\r\nvar parser = require('../parser');\r\nvar ParsedResult = require('../../result').ParsedResult;\r\n\r\nvar PATTERN = new RegExp('(\\\\W|^)' +\r\n    '(?:' +\r\n        '((?:dimanche|dim|lundi|lun|mardi|mar|mercredi|mer|jeudi|jeu|vendredi|ven|samedi|sam|le))' +\r\n        '\\\\s*\\\\,?\\\\s*' +\r\n    ')?' +\r\n    '([0-3]{0,1}[0-9]{1})[\\\\/\\\\.\\\\-]([0-3]{0,1}[0-9]{1})' +\r\n    '(?:' +\r\n        '[\\\\/\\\\.\\\\-]' +\r\n        '([0-9]{4}\\s*\\,?\\s*|[0-9]{2}\\s*\\,?\\s*)' +\r\n    ')?' +\r\n    '(\\\\W|$)', 'i');\r\n\r\nvar DAYS_OFFSET = { 'dimanche': 0, 'dim': 0, 'lundi': 1, 'lun': 1,'mardi': 2, 'mar':2, 'mercredi': 3, 'mer': 3,\r\n    'jeudi': 4, 'jeu':4, 'vendredi': 5, 'ven': 5,'samedi': 6, 'sam': 6};\r\n\r\n\r\nvar OPENNING_GROUP = 1;\r\nvar ENDING_GROUP = 6;\r\n\r\n// In French we use day/month/year\r\nvar WEEKDAY_GROUP = 2;\r\nvar DAY_GROUP = 3;\r\nvar MONTH_GROUP = 4;\r\nvar YEAR_GROUP = 5;\r\n\r\nexports.Parser = function FRSlashDateFormatParser(argument) {\r\n    parser.Parser.apply(this, arguments);\r\n\r\n    this.pattern = function () { return PATTERN; };\r\n    this.extract = function(text, ref, match, opt){\r\n\r\n        if(match[OPENNING_GROUP] == '/' || match[ENDING_GROUP] == '/') {\r\n            // Long skip, if there is some overlapping like:\r\n            // XX[/YY/ZZ]\r\n            // [XX/YY/]ZZ\r\n            match.index += match[0].length\r\n            return;\r\n        }\r\n\r\n        var index = match.index + match[OPENNING_GROUP].length;\r\n        var text = match[0].substr(match[OPENNING_GROUP].length, match[0].length - match[ENDING_GROUP].length);\r\n\r\n\r\n        var result = new ParsedResult({\r\n            text: text,\r\n            index: index,\r\n            ref: ref,\r\n        });\r\n\r\n        if(text.match(/^\\d\\.\\d$/)) return;\r\n        if(text.match(/^\\d\\.\\d{1,2}\\.\\d{1,2}$/)) return;\r\n\r\n        // MM/dd -> OK\r\n        // MM.dd -> NG\r\n        if(!match[YEAR_GROUP] && match[0].indexOf('/') < 0) return;\r\n\r\n        var date = null;\r\n        var month = match[MONTH_GROUP];\r\n        var day   = match[DAY_GROUP];\r\n\r\n        day  = parseInt(day);\r\n        month = parseInt(month);\r\n\r\n        var year = null;\r\n        if (match[YEAR_GROUP]) {\r\n            year = match[YEAR_GROUP];\r\n            year = parseInt(year);\r\n\r\n            if (year < 100){\r\n                year = year + 2000;\r\n            }\r\n        }\r\n\r\n        if(month < 1 || month > 12) {\r\n            if(month > 12) {\r\n                // dd/mm/yyyy date format if day looks like a month, and month looks like a day.\r\n                if (day >= 1 && day <= 12 && month >= 13 && month <= 31) {\r\n                    // unambiguous\r\n                    var tday = month;\r\n                    month = day;\r\n                    day = tday;\r\n                }\r\n                else {\r\n                    // both month and day are <= 12\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n\r\n        if(day < 1 || day > 31) return null;\r\n\r\n        if(year){\r\n            result.start.assign('day', day);\r\n            result.start.assign('month', month);\r\n            result.start.assign('year', year);\r\n        } else {\r\n            year = parser.findYearClosestToRef(ref, day, month)\r\n            result.start.assign('day', day);\r\n            result.start.assign('month', month);\r\n            result.start.imply('year', year);\r\n        }\r\n\r\n        // Day of week\r\n        if(match[WEEKDAY_GROUP]) {\r\n            result.start.assign('weekday', DAYS_OFFSET[match[WEEKDAY_GROUP].toLowerCase()]);\r\n        }\r\n\r\n        result.tags['FRSlashDateFormatParser'] = true;\r\n        return result;\r\n    };\r\n};","const dayjs = require('dayjs');\r\nvar Parser = require('../parser').Parser;\r\nvar ParsedResult = require('../../result').ParsedResult;\r\n\r\nvar PATTERN = /(\\W|^)il y a\\s*([0-9]+|une?)\\s*(minutes?|heures?|semaines?|jours?|mois|années?|ans?)(?=(?:\\W|$))/i;\r\n\r\nexports.Parser = function FRTimeAgoFormatParser(){\r\n    Parser.apply(this, arguments);\r\n\r\n    this.pattern = function() {\r\n        return PATTERN;\r\n    }\r\n\r\n    this.extract = function(text, ref, match, opt){\r\n\r\n        if (match.index > 0 && text[match.index-1].match(/\\w/)) return null;\r\n\r\n        var text = match[0];\r\n        text  = match[0].substr(match[1].length, match[0].length - match[1].length);\r\n        let index = match.index + match[1].length;\r\n\r\n        var result = new ParsedResult({\r\n            index: index,\r\n            text: text,\r\n            ref: ref,\r\n        });\r\n        result.tags['FRTimeAgoFormatParser'] = true;\r\n        \r\n        var num = parseInt(match[2]);\r\n        if (isNaN(num)) {\r\n          if (match[2].match(/demi/)) {\r\n            num = 0.5;\r\n          } else {\r\n            num = 1;\r\n          }\r\n        }\r\n\r\n        var date = dayjs(ref);\r\n\r\n        if (match[3].match(/heure/) || match[3].match(/minute/)) {\r\n            if (match[3].match(/heure/)) {\r\n\r\n                date = date.add(-num, 'hour');\r\n\r\n            } else if (match[3].match(/minute/)) {\r\n\r\n                date = date.add(-num, 'minute');\r\n            }\r\n\r\n            result.start.imply('day', date.date());\r\n            result.start.imply('month', date.month() + 1);\r\n            result.start.imply('year', date.year());\r\n            result.start.assign('hour', date.hour());\r\n            result.start.assign('minute', date.minute());\r\n\r\n            return result;\r\n        }\r\n\r\n        if (match[3].match(/semaine/)) {\r\n            date = date.add(-num, 'week');\r\n\r\n            result.start.imply('day', date.date());\r\n            result.start.imply('month', date.month() + 1);\r\n            result.start.imply('year', date.year());\r\n            result.start.imply('weekday', date.day());\r\n            return result;\r\n        }\r\n\r\n        if (match[3].match(/jour/)) {\r\n            date = date.add(-num, 'd');\r\n        }\r\n\r\n        if (match[3].match(/mois/)) {\r\n            date = date.add(-num, 'month');\r\n        }\r\n\r\n        if (match[3].match(/années?|ans?/)) {\r\n            date = date.add(-num, 'year');\r\n        }\r\n\r\n        result.start.assign('day', date.date());\r\n        result.start.assign('month', date.month() + 1);\r\n        result.start.assign('year', date.year());\r\n        return result;\r\n\r\n    };\r\n}\r\n","const dayjs = require('dayjs');\r\nvar Parser = require('../parser').Parser;\r\nvar ParsedResult = require('../../result').ParsedResult;\r\nvar ParsedComponents = require('../../result').ParsedComponents;\r\n\r\nvar FIRST_REG_PATTERN  = new RegExp(\"(^|\\\\s|T)\" +\r\n    \"(?:(?:[àa])\\\\s*)?\" +\r\n    \"(\\\\d{1,2}(?:h)?|midi|minuit)\" +\r\n    \"(?:\" +\r\n        \"(?:\\\\.|\\\\:|\\\\：|h)(\\\\d{1,2})(?:m)?\" +\r\n        \"(?:\" +\r\n            \"(?:\\\\:|\\\\：|m)(\\\\d{0,2})(?:s)?\" +\r\n        \")?\" +\r\n    \")?\" +\r\n    \"(?:\\\\s*(A\\\\.M\\\\.|P\\\\.M\\\\.|AM?|PM?))?\" +\r\n    \"(?=\\\\W|$)\", 'i');\r\n\r\n\r\nvar SECOND_REG_PATTERN = new RegExp(\"^\\\\s*\" +\r\n    \"(\\\\-|\\\\–|\\\\~|\\\\〜|[àa]|\\\\?)\\\\s*\" +\r\n    \"(\\\\d{1,2}(?:h)?)\" +\r\n    \"(?:\" +\r\n        \"(?:\\\\.|\\\\:|\\\\：|h)(\\\\d{1,2})(?:m)?\" +\r\n        \"(?:\" +\r\n            \"(?:\\\\.|\\\\:|\\\\：|m)(\\\\d{1,2})(?:s)?\" +\r\n        \")?\" +\r\n    \")?\" +\r\n    \"(?:\\\\s*(A\\\\.M\\\\.|P\\\\.M\\\\.|AM?|PM?))?\" +\r\n    \"(?=\\\\W|$)\", 'i');\r\n\r\nvar HOUR_GROUP    = 2;\r\nvar MINUTE_GROUP  = 3;\r\nvar SECOND_GROUP  = 4;\r\nvar AM_PM_HOUR_GROUP = 5;\r\n\r\nexports.Parser = function FRTimeExpressionParser(){\r\n    Parser.apply(this, arguments);\r\n\r\n    this.pattern = function() { return FIRST_REG_PATTERN; }\r\n\r\n    this.extract = function(text, ref, match, opt){\r\n\r\n        // This pattern can be overlaped Ex. [12] AM, 1[2] AM\r\n        if (match.index > 0 && text[match.index-1].match(/\\w/)) return null;\r\n        var refMoment = dayjs(ref);\r\n        var result = new ParsedResult();\r\n        result.ref = ref;\r\n        result.index = match.index + match[1].length;\r\n        result.text  = match[0].substring(match[1].length);\r\n        result.tags['FRTimeExpressionParser'] = true;\r\n\r\n        result.start.imply('day',   refMoment.date());\r\n        result.start.imply('month', refMoment.month()+1);\r\n        result.start.imply('year',  refMoment.year());\r\n\r\n        var hour = 0;\r\n        var minute = 0;\r\n        var meridiem = -1;\r\n\r\n        // ----- Second\r\n        if(match[SECOND_GROUP] != null){\r\n            var second = parseInt(match[SECOND_GROUP]);\r\n            if(second >= 60) return null;\r\n\r\n            result.start.assign('second', second);\r\n        }\r\n\r\n        // ----- Hours\r\n        if (match[HOUR_GROUP].toLowerCase() == \"midi\"){\r\n            meridiem = 1;\r\n            hour = 12;\r\n        } else if (match[HOUR_GROUP].toLowerCase() == \"minuit\") {\r\n            meridiem = 0;\r\n            hour = 0;\r\n        } else {\r\n            hour = parseInt(match[HOUR_GROUP]);\r\n        }\r\n\r\n        // ----- Minutes\r\n        if(match[MINUTE_GROUP] != null){\r\n            minute = parseInt(match[MINUTE_GROUP]);\r\n        } else if(hour > 100) {\r\n            minute = hour%100;\r\n            hour   = parseInt(hour/100);\r\n        }\r\n\r\n        if(minute >= 60) {\r\n            return null;\r\n        }\r\n\r\n        if(hour > 24) {\r\n            return null;\r\n        }\r\n        if (hour >= 12) {\r\n            meridiem = 1;\r\n        }\r\n\r\n        // ----- AM & PM\r\n        if(match[AM_PM_HOUR_GROUP] != null) {\r\n            if(hour > 12) return null;\r\n            var ampm = match[AM_PM_HOUR_GROUP][0].toLowerCase();\r\n            if(ampm == \"a\"){\r\n                meridiem = 0;\r\n                if(hour == 12) hour = 0;\r\n            }\r\n\r\n            if(ampm == \"p\"){\r\n                meridiem = 1;\r\n                if(hour != 12) hour += 12;\r\n            }\r\n        }\r\n        result.start.assign('hour', hour);\r\n        result.start.assign('minute', minute);\r\n        if (meridiem >= 0) {\r\n            result.start.assign('meridiem', meridiem);\r\n        }\r\n\r\n        // ==============================================================\r\n        //                  Extracting the 'to' chunk\r\n        // ==============================================================\r\n        match = SECOND_REG_PATTERN.exec(text.substring(result.index + result.text.length));\r\n        if (!match) {\r\n            // Not accept number only result\r\n            if (result.text.match(/^\\d+$/)) {\r\n                return null;\r\n            }\r\n            return result;\r\n        }\r\n\r\n\r\n\r\n        // Pattern \"YY.YY -XXXX\" is more like timezone offset\r\n        if (match[0].match(/^\\s*(\\+|\\-)\\s*\\d{3,4}$/)) {\r\n            return result;\r\n        }\r\n\r\n        if(result.end == null){\r\n            result.end = new ParsedComponents(null, result.start.date());\r\n        }\r\n\r\n        var hour = 0;\r\n        var minute = 0;\r\n        var meridiem = -1;\r\n\r\n        // ----- Second\r\n        if(match[SECOND_GROUP] != null){\r\n            var second = parseInt(match[SECOND_GROUP]);\r\n            if(second >= 60) return null;\r\n\r\n            result.end.assign('second', second);\r\n        }\r\n\r\n        hour = parseInt(match[2]);\r\n\r\n        // ----- Minute\r\n        if (match[MINUTE_GROUP]!= null) {\r\n\r\n            minute = parseInt(match[MINUTE_GROUP]);\r\n            if(minute >= 60) return result;\r\n\r\n        } else if (hour > 100) {\r\n\r\n            minute = hour%100;\r\n            hour   = parseInt(hour/100);\r\n        }\r\n\r\n        if(minute >= 60) {\r\n            return null;\r\n        }\r\n\r\n        if(hour > 24) {\r\n            return null;\r\n        }\r\n        if (hour >= 12) {\r\n            meridiem = 1;\r\n        }\r\n\r\n        // ----- AM & PM\r\n        if (match[AM_PM_HOUR_GROUP] != null){\r\n\r\n            if (hour > 12) return null;\r\n\r\n            var ampm = match[AM_PM_HOUR_GROUP][0].toLowerCase();\r\n            if(ampm == \"a\"){\r\n                meridiem = 0;\r\n                if(hour == 12) {\r\n                    hour = 0;\r\n                    if (!result.end.isCertain('day')) {\r\n                        result.end.imply('day', result.end.get('day') + 1);\r\n                    }\r\n                }\r\n            }\r\n\r\n            if(ampm == \"p\"){\r\n                meridiem = 1;\r\n                if(hour != 12) hour += 12;\r\n            }\r\n\r\n            if (!result.start.isCertain('meridiem')) {\r\n                if (meridiem == 0) {\r\n\r\n                    result.start.imply('meridiem', 0);\r\n\r\n                    if (result.start.get('hour') == 12) {\r\n                        result.start.assign('hour', 0);\r\n                    }\r\n\r\n                } else {\r\n\r\n                    result.start.imply('meridiem', 1);\r\n\r\n                    if (result.start.get('hour') != 12) {\r\n                        result.start.assign('hour', result.start.get('hour') + 12);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        result.text = result.text + match[0];\r\n        result.end.assign('hour', hour);\r\n        result.end.assign('minute', minute);\r\n        if (meridiem >= 0) {\r\n            result.end.assign('meridiem', meridiem);\r\n        } else {\r\n            var startAtPM = result.start.isCertain('meridiem') && result.start.get('meridiem') == 1;\r\n            if (startAtPM && result.start.get('hour') > hour) {\r\n                // 10pm - 1 (am)\r\n                result.end.imply('meridiem', 0);\r\n\r\n            } else if (hour > 12) {\r\n                result.end.imply('meridiem', 1);\r\n            }\r\n        }\r\n\r\n        if (result.end.date().getTime() < result.start.date().getTime()) {\r\n            result.end.imply('day', result.end.get('day') + 1)\r\n        }\r\n\r\n        return result;\r\n    }\r\n}\r\n","var Parser = require('../parser').Parser;\r\nvar ParsedResult = require('../../result').ParsedResult;\r\nvar updateParsedComponent = require('../en/ENWeekdayParser').updateParsedComponent;\r\n\r\nvar DAYS_OFFSET = { 'dimanche': 0, 'dim': 0, 'lundi': 1, 'lun': 1,'mardi': 2, 'mar':2, 'mercredi': 3, 'mer': 3,\r\n    'jeudi': 4, 'jeu':4, 'vendredi': 5, 'ven': 5,'samedi': 6, 'sam': 6};\r\n\r\nvar PATTERN = new RegExp('(\\\\s|^)' +\r\n    '(?:(?:\\\\,|\\\\(|\\\\（)\\\\s*)?' +\r\n    '(?:(ce)\\\\s*)?' +\r\n    '(' + Object.keys(DAYS_OFFSET).join('|') + ')' +\r\n    '(?:\\\\s*(?:\\\\,|\\\\)|\\\\）))?' +\r\n    '(?:\\\\s*(dernier|prochain)\\\\s*)?' +\r\n    '(?=\\\\W|$)', 'i');\r\n\r\nvar PREFIX_GROUP = 2;\r\nvar WEEKDAY_GROUP = 3;\r\nvar POSTFIX_GROUP = 4;\r\n\r\nexports.Parser = function FRWeekdayParser() {\r\n    Parser.apply(this, arguments);\r\n\r\n    this.pattern = function() { return PATTERN; };\r\n\r\n    this.extract = function(text, ref, match, opt){\r\n        var index = match.index + match[1].length;\r\n        var text = match[0].substr(match[1].length, match[0].length - match[1].length);\r\n        var result = new ParsedResult({\r\n            index: index,\r\n            text: text,\r\n            ref: ref\r\n        });\r\n\r\n        var dayOfWeek = match[WEEKDAY_GROUP].toLowerCase();\r\n        var offset = DAYS_OFFSET[dayOfWeek];\r\n        if(offset === undefined) return null;\r\n\r\n        var modifier = null;\r\n        var prefix = match[PREFIX_GROUP];\r\n        var postfix = match[POSTFIX_GROUP];\r\n        if (prefix || postfix) {\r\n            var norm = prefix || postfix;\r\n            norm = norm.toLowerCase();\r\n\r\n            if(norm == 'dernier') {\r\n                modifier = 'last';\r\n            } else if(norm == 'prochain') {\r\n                modifier = 'next';\r\n            } else if(norm== 'ce') {\r\n                modifier = 'this';\r\n            }\r\n        }\r\n\r\n        updateParsedComponent(result, ref, offset, modifier);\r\n        result.tags['FRWeekdayParser'] = true;\r\n        return result;\r\n    }\r\n};\r\n\r\n","const quarterOfYear = require('dayjs/plugin/quarterOfYear');\nconst dayjs = require('dayjs');\ndayjs.extend(quarterOfYear);\n\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar util  = require('../../utils/FR');\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n    '(?:les?|la|l\\'|du|des?)\\\\s*' +\n    '('+ util.INTEGER_WORDS_PATTERN + '|\\\\d+)?\\\\s*' +\n    '(prochaine?s?|derni[eè]re?s?|pass[ée]e?s?|pr[ée]c[ée]dents?|suivante?s?)?\\\\s*' +\n    '(secondes?|min(?:ute)?s?|heures?|jours?|semaines?|mois|trimestres?|années?)\\\\s*' +\n    '(prochaine?s?|derni[eè]re?s?|pass[ée]e?s?|pr[ée]c[ée]dents?|suivante?s?)?' +\n    '(?=\\\\W|$)', 'i'\n);\n\nvar MULTIPLIER_GROUP = 2;\nvar MODIFIER_1_GROUP = 3;\nvar RELATIVE_WORD_GROUP = 4;\nvar MODIFIER_2_GROUP = 5;\n\nexports.Parser = function FRRelativeDateFormatParser(){\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; };\n\n    this.extract = function(text, ref, match, opt){\n        var index = match.index + match[1].length;\n        var text  = match[0];\n        text  = match[0].substr(match[1].length, match[0].length - match[1].length);\n\n        // Multiplier\n        var multiplier = match[MULTIPLIER_GROUP] === undefined ? '1' : match[MULTIPLIER_GROUP];\n        if (util.INTEGER_WORDS[multiplier] !== undefined) {\n            multiplier = util.INTEGER_WORDS[multiplier];\n        } else {\n            multiplier = parseInt(multiplier);\n        }\n\n        // Modifier\n        var modifier = match[MODIFIER_1_GROUP] === undefined ?\n                    (match[MODIFIER_2_GROUP] === undefined ? '' : match[MODIFIER_2_GROUP].toLowerCase())\n                     : match[MODIFIER_1_GROUP].toLowerCase();\n        if(!modifier) {\n            // At least one modifier is mandatory to match this parser\n            return;\n        }\n\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref\n        });\n        result.tags['FRRelativeDateFormatParser'] = true;\n\n        var modifierFactor;\n        switch(true) {\n            case /prochaine?s?/.test(modifier):\n            case /suivants?/.test(modifier):\n                modifierFactor = 1;\n                break;\n            case /derni[eè]re?s?/.test(modifier):\n            case /pass[ée]e?s?/.test(modifier):\n            case /pr[ée]c[ée]dents?/.test(modifier):\n                modifierFactor = -1;\n                break;\n        }\n\n        var total = multiplier * modifierFactor;\n\n        var dateFrom = dayjs(ref);\n        var dateTo = dayjs(ref);\n\n        var relative = match[RELATIVE_WORD_GROUP];\n        var startOf;\n        switch(true) {\n            case /secondes?/.test(relative):\n                dateFrom = dateFrom.add(total, 's');\n                dateTo = dateTo.add(modifierFactor, 's');\n                startOf = 'second';\n                break;\n            case /min(?:ute)?s?/.test(relative):\n                dateFrom = dateFrom.add(total, 'm');\n                dateTo = dateTo.add(modifierFactor, 'm');\n                startOf = 'minute';\n                break;\n            case /heures?/.test(relative):\n                dateFrom = dateFrom.add(total, 'h');\n                dateTo = dateTo.add(modifierFactor, 'h');\n                startOf = 'hour';\n                break;\n            case /jours?/.test(relative):\n                dateFrom = dateFrom.add(total, 'd');\n                dateTo = dateTo.add(modifierFactor, 'd');\n                startOf = 'day';\n                break;\n            case /semaines?/.test(relative):\n                dateFrom = dateFrom.add(total, 'w');\n                dateTo = dateTo.add(modifierFactor, 'w');\n                startOf = 'week';\n                break;\n            case /mois?/.test(relative):\n                dateFrom = dateFrom.add(total, 'M');\n                dateTo = dateTo.add(modifierFactor, 'M');\n                startOf = 'month';\n                break;\n            case /trimestres?/.test(relative):\n                dateFrom = dateFrom.add(total, 'Q');\n                dateTo = dateTo.add(modifierFactor, 'Q');\n                startOf = 'quarter';\n                break;\n            case /années?/.test(relative):\n                dateFrom = dateFrom.add(total, 'y');\n                dateTo = dateTo.add(modifierFactor, 'y');\n                startOf = 'year';\n                break;\n        }\n\n        // if we go forward, switch the start and end dates\n        if(modifierFactor > 0) {\n            var dateTmp = dateFrom;\n            dateFrom = dateTo;\n            dateTo = dateTmp;\n        }\n\n        // Get start and end of dates\n        dateFrom = dateFrom.startOf(startOf);\n        dateTo = dateTo.endOf(startOf);\n        if (startOf == 'week') { // Weekday in FR start on Sat?\n            dateFrom = dateFrom.add(1, 'd')\n            dateTo = dateTo.add(1, 'd')\n        }\n        \n\n        // Assign results\n        result.start.assign('year', dateFrom.year());\n        result.start.assign('month', dateFrom.month() + 1);\n        result.start.assign('day', dateFrom.date());\n        result.start.assign('minute', dateFrom.minute());\n        result.start.assign('second', dateFrom.second());\n        result.start.assign('hour', dateFrom.hour());\n        result.start.assign('millisecond', dateFrom.millisecond());\n\n        result.end = result.start.clone();\n        result.end.assign('year', dateTo.year());\n        result.end.assign('month', dateTo.month() + 1);\n        result.end.assign('day', dateTo.date());\n        result.end.assign('minute', dateTo.minute());\n        result.end.assign('second', dateTo.second());\n        result.end.assign('hour', dateTo.hour());\n        result.end.assign('millisecond', dateTo.millisecond());\n        return result;\n    };\n};\n","!function(t,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define(n):t.dayjs_plugin_quarterOfYear=n()}(this,function(){\"use strict\";var t=\"month\",n=\"quarter\";return function(r,i){var e=i.prototype;e.quarter=function(t){return this.$utils().u(t)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(t-1))};var u=e.add;e.add=function(r,i){return r=Number(r),this.$utils().p(i)===n?this.add(3*r,t):u.bind(this)(r,i)};var s=e.startOf;e.startOf=function(r,i){var e=this.$utils(),u=!!e.u(i)||i;if(e.p(r)===n){var a=this.quarter()-1;return u?this.month(3*a).startOf(t).startOf(\"day\"):this.month(3*a+2).endOf(t).endOf(\"day\")}return s.bind(this)(r,i)}}});\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar util = require('../../utils/ZH.js');\n\nvar PATTERN = new RegExp(\n    '(\\\\d{2,4}|[' + Object.keys(util.NUMBER).join('') + ']{2,4})?' +\n    '(?:\\\\s*)' +\n    '(?:年)?' +\n    '(?:[\\\\s|,|，]*)' +\n    '(\\\\d{1,2}|[' + Object.keys(util.NUMBER).join('') + ']{1,2})' +\n    '(?:\\\\s*)' +\n    '(?:月)?' +\n    '(?:\\\\s*)' +\n    '(\\\\d{1,2}|[' + Object.keys(util.NUMBER).join('') + ']{1,2})?' +\n    '(?:\\\\s*)' +\n    '(?:日|號)?'\n);\n\nvar YEAR_GROUP = 1;\nvar MONTH_GROUP = 2;\nvar DAY_GROUP = 3;\n\nexports.Parser = function ZHHantDateParser() {\n\n    Parser.apply(this, arguments);\n\n    this.pattern = function() {\n        return PATTERN;\n    };\n\n    this.extract = function(text, ref, match, opt) {\n        var startMoment = dayjs(ref);\n        var result = new ParsedResult({\n            text: match[0],\n            index: match.index,\n            ref: ref,\n        });\n\n        //Month\n        var month = parseInt(match[MONTH_GROUP]);\n        if (isNaN(month)) month = util.zhStringToNumber(match[MONTH_GROUP]);\n        result.start.assign('month', month);\n\n        //Day\n        if (match[DAY_GROUP]) {\n            var day = parseInt(match[DAY_GROUP]);\n            if (isNaN(day)) day = util.zhStringToNumber(match[DAY_GROUP]);\n            result.start.assign('day', day);\n        } else {\n            result.start.imply('day', startMoment.date());\n        }\n\n        //Year\n        if (match[YEAR_GROUP]) {\n            var year = parseInt(match[YEAR_GROUP]);\n            if (isNaN(year)) year = util.zhStringToYear(match[YEAR_GROUP]);\n            result.start.assign('year', year);\n        } else {\n            result.start.imply('year', startMoment.year());\n        }\n\n        result.tags.ZHHantDateParser = true;\n        return result;\n    };\n};\n","var Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar updateParsedComponent = require('../en/ENWeekdayParser').updateParsedComponent;\n\nvar util = require('../../utils/ZH.js');\n\nvar PATTERN = new RegExp(\n    '(上|今|下|這|呢)?' +\n    '(?:個)?' +\n    '(?:星期|禮拜)' +\n    '(' + Object.keys(util.WEEKDAY_OFFSET).join('|') + ')'\n);\n\nvar PREFIX_GROUP = 1;\nvar WEEKDAY_GROUP = 2;\n\nexports.Parser = function ZHHantWeekdayParser() {\n\n    Parser.apply(this, arguments);\n\n    this.pattern = function() {\n        return PATTERN;\n    };\n\n    this.extract = function(text, ref, match, opt) {\n        var index = match.index;\n        text = match[0];\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref\n        });\n\n        var dayOfWeek = match[WEEKDAY_GROUP];\n        var offset = util.WEEKDAY_OFFSET[dayOfWeek];\n        if(offset === undefined) return null;\n\n        var modifier = null;\n        var prefix = match[PREFIX_GROUP];\n\n        if(prefix == '上') {\n            modifier = 'last';\n        } else if(prefix == '下') {\n            modifier = 'next';\n        } else if(prefix == '今' || prefix == '這' || prefix == '呢') {\n            modifier = 'this';\n        }\n\n        updateParsedComponent(result, ref, offset, modifier);\n        result.tags['ZHHantWeekdayParser'] = true;\n        return result;\n    };\n};\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar ParsedComponents = require('../../result').ParsedComponents;\n\nvar util = require('../../utils/ZH.js');\n\nvar patternString1 = '(?:由|從|自)?' +\n    '(?:' +\n    '(今|明|前|大前|後|大後|聽|昨|尋|琴)(早|朝|晚)|' +\n    '(上(?:午|晝)|朝(?:早)|早(?:上)|下(?:午|晝)|晏(?:晝)|晚(?:上)|夜(?:晚)?|中(?:午)|凌(?:晨))|' +\n    '(今|明|前|大前|後|大後|聽|昨|尋|琴)(?:日|天)' +\n    '(?:[\\\\s,，]*)' +\n    '(?:(上(?:午|晝)|朝(?:早)|早(?:上)|下(?:午|晝)|晏(?:晝)|晚(?:上)|夜(?:晚)?|中(?:午)|凌(?:晨)))?' +\n    ')?' +\n    '(?:[\\\\s,，]*)' +\n    '(?:(\\\\d+|[' + Object.keys(util.NUMBER).join('') + ']+)(?:\\\\s*)(?:點|時|:|：)' +\n    '(?:\\\\s*)' +\n    '(\\\\d+|半|正|整|[' + Object.keys(util.NUMBER).join('') + ']+)?(?:\\\\s*)(?:分|:|：)?' +\n    '(?:\\\\s*)' +\n    '(\\\\d+|[' + Object.keys(util.NUMBER).join('') + ']+)?(?:\\\\s*)(?:秒)?)' +\n    '(?:\\\\s*(A\\.M\\.|P\\.M\\.|AM?|PM?))?';\n\nvar patternString2 = '(?:\\\\s*(?:到|至|\\\\-|\\\\–|\\\\~|\\\\〜)\\\\s*)' +\n    '(?:' +\n    '(今|明|前|大前|後|大後|聽|昨|尋|琴)(早|朝|晚)|' +\n    '(上(?:午|晝)|朝(?:早)|早(?:上)|下(?:午|晝)|晏(?:晝)|晚(?:上)|夜(?:晚)?|中(?:午)|凌(?:晨))|' +\n    '(今|明|前|大前|後|大後|聽|昨|尋|琴)(?:日|天)' +\n    '(?:[\\\\s,，]*)' +\n    '(?:(上(?:午|晝)|朝(?:早)|早(?:上)|下(?:午|晝)|晏(?:晝)|晚(?:上)|夜(?:晚)?|中(?:午)|凌(?:晨)))?' +\n    ')?' +\n    '(?:[\\\\s,，]*)' +\n    '(?:(\\\\d+|[' + Object.keys(util.NUMBER).join('') + ']+)(?:\\\\s*)(?:點|時|:|：)' +\n    '(?:\\\\s*)' +\n    '(\\\\d+|半|正|整|[' + Object.keys(util.NUMBER).join('') + ']+)?(?:\\\\s*)(?:分|:|：)?' +\n    '(?:\\\\s*)' +\n    '(\\\\d+|[' + Object.keys(util.NUMBER).join('') + ']+)?(?:\\\\s*)(?:秒)?)' +\n    '(?:\\\\s*(A\\.M\\.|P\\.M\\.|AM?|PM?))?';\n\nvar FIRST_REG_PATTERN = new RegExp(patternString1, 'i');\nvar SECOND_REG_PATTERN = new RegExp(patternString2, 'i');\n\nvar DAY_GROUP_1 = 1;\nvar ZH_AM_PM_HOUR_GROUP_1 = 2;\nvar ZH_AM_PM_HOUR_GROUP_2 = 3;\nvar DAY_GROUP_3 = 4;\nvar ZH_AM_PM_HOUR_GROUP_3 = 5;\nvar HOUR_GROUP = 6;\nvar MINUTE_GROUP = 7;\nvar SECOND_GROUP = 8;\nvar AM_PM_HOUR_GROUP = 9;\n\nexports.Parser = function ZHHantTimeExpressionParser() {\n\n    Parser.apply(this, arguments);\n\n    this.pattern = function() {\n        return FIRST_REG_PATTERN;\n    };\n\n    this.extract = function(text, ref, match, opt) {\n\n        // This pattern can be overlaped Ex. [12] AM, 1[2] AM\n        if (match.index > 0 && text[match.index - 1].match(/\\w/)) return null;\n        var refMoment = dayjs(ref);\n        var result = new ParsedResult();\n        result.ref = ref;\n        result.index = match.index;\n        result.text = match[0];\n        result.tags.ZHTimeExpressionParser = true;\n\n        var startMoment = refMoment.clone();\n\n        // ----- Day\n        if (match[DAY_GROUP_1]) {\n            var day1 = match[DAY_GROUP_1];\n            if (day1 == '明' || day1 == '聽') {\n              // Check not \"Tomorrow\" on late night\n              if(refMoment.hour() > 1) {\n                startMoment = startMoment.add(1, 'day');\n              }\n            } else if (day1 == '昨' || day1 == '尋' || day1 == '琴') {\n                startMoment = startMoment.add(-1, 'day');\n            } else if (day1 == \"前\"){\n                startMoment = startMoment.add(-2, 'day');\n            } else if (day1 == \"大前\"){\n                startMoment = startMoment.add(-3, 'day');\n            } else if (day1 == \"後\"){\n                startMoment = startMoment.add(2, 'day');\n            } else if (day1 == \"大後\"){\n                startMoment = startMoment.add(3, 'day');\n            }\n            result.start.assign('day', startMoment.date());\n            result.start.assign('month', startMoment.month() + 1);\n            result.start.assign('year', startMoment.year());\n        } else if (match[DAY_GROUP_3]) {\n            var day3 = match[DAY_GROUP_3];\n            if (day3 == '明' || day3 == '聽') {\n                startMoment = startMoment.add(1, 'day');\n            } else if (day3 == '昨' || day3 == '尋' || day3 == '琴') {\n                startMoment = startMoment.add(-1, 'day');\n            } else if (day3 == \"前\"){\n                startMoment = startMoment.add(-2, 'day');\n            } else if (day3 == \"大前\"){\n                startMoment = startMoment.add(-3, 'day');\n            } else if (day3 == \"後\"){\n                startMoment = startMoment.add(2, 'day');\n            } else if (day3 == \"大後\"){\n                startMoment = startMoment.add(3, 'day');\n            }\n            result.start.assign('day', startMoment.date());\n            result.start.assign('month', startMoment.month() + 1);\n            result.start.assign('year', startMoment.year());\n        } else {\n            result.start.imply('day', startMoment.date());\n            result.start.imply('month', startMoment.month() + 1);\n            result.start.imply('year', startMoment.year());\n        }\n\n        var hour = 0;\n        var minute = 0;\n        var meridiem = -1;\n\n        // ----- Second\n        if (match[SECOND_GROUP]) {\n            var second = parseInt(match[SECOND_GROUP]);\n            if (isNaN(second)) {\n                second = util.zhStringToNumber(match[SECOND_GROUP]);\n            }\n            if (second >= 60) return null;\n            result.start.assign('second', second);\n        }\n\n        hour = parseInt(match[HOUR_GROUP]);\n        if (isNaN(hour)) {\n            hour = util.zhStringToNumber(match[HOUR_GROUP]);\n        }\n\n        // ----- Minutes\n        if (match[MINUTE_GROUP]) {\n            if (match[MINUTE_GROUP] == '半') {\n                minute = 30;\n            } else if (match[MINUTE_GROUP] == '正' || match[MINUTE_GROUP] == '整') {\n                minute = 0;\n            } else {\n                minute = parseInt(match[MINUTE_GROUP]);\n                if (isNaN(minute)) {\n                    minute = util.zhStringToNumber(match[MINUTE_GROUP]);\n                }\n            }\n        } else if (hour > 100) {\n            minute = hour % 100;\n            hour = parseInt(hour / 100);\n        }\n\n        if (minute >= 60) {\n            return null;\n        }\n\n        if (hour > 24) {\n            return null;\n        }\n        if (hour >= 12) {\n            meridiem = 1;\n        }\n\n        // ----- AM & PM\n        if (match[AM_PM_HOUR_GROUP]) {\n            if (hour > 12) return null;\n            var ampm = match[AM_PM_HOUR_GROUP][0].toLowerCase();\n            if (ampm == \"a\") {\n                meridiem = 0;\n                if (hour == 12) hour = 0;\n            }\n\n            if (ampm == \"p\") {\n                meridiem = 1;\n                if (hour != 12) hour += 12;\n            }\n        } else if (match[ZH_AM_PM_HOUR_GROUP_1]) {\n            var zhAMPMString1 = match[ZH_AM_PM_HOUR_GROUP_1];\n            var zhAMPM1 = zhAMPMString1[0];\n            if (zhAMPM1 == '朝' || zhAMPM1 == '早') {\n                meridiem = 0;\n                if (hour == 12) hour = 0;\n            } else if (zhAMPM1 == '晚') {\n                meridiem = 1;\n                if (hour != 12) hour += 12;\n            }\n        } else if (match[ZH_AM_PM_HOUR_GROUP_2]) {\n            var zhAMPMString2 = match[ZH_AM_PM_HOUR_GROUP_2];\n            var zhAMPM2 = zhAMPMString2[0];\n            if (zhAMPM2 == '上' || zhAMPM2 == '朝' || zhAMPM2 == '早' || zhAMPM2 == '凌') {\n                meridiem = 0;\n                if (hour == 12) hour = 0;\n            } else if (zhAMPM2 == '下' || zhAMPM2 == '晏' || zhAMPM2 == '晚') {\n                meridiem = 1;\n                if (hour != 12) hour += 12;\n            }\n        } else if (match[ZH_AM_PM_HOUR_GROUP_3]) {\n            var zhAMPMString3 = match[ZH_AM_PM_HOUR_GROUP_3];\n            var zhAMPM3 = zhAMPMString3[0];\n            if (zhAMPM3 == '上' || zhAMPM3 == '朝' || zhAMPM3 == '早' || zhAMPM3 == '凌') {\n                meridiem = 0;\n                if (hour == 12) hour = 0;\n            } else if (zhAMPM3 == '下' || zhAMPM3 == '晏' || zhAMPM3 == '晚') {\n                meridiem = 1;\n                if (hour != 12) hour += 12;\n            }\n        }\n\n        result.start.assign('hour', hour);\n        result.start.assign('minute', minute);\n\n        if (meridiem >= 0) {\n            result.start.assign('meridiem', meridiem);\n        } else {\n            if (hour < 12) {\n                result.start.imply('meridiem', 0);\n            } else {\n                result.start.imply('meridiem', 1);\n            }\n        }\n\n        // ==============================================================\n        //                  Extracting the 'to' chunk\n        // ==============================================================\n\n        match = SECOND_REG_PATTERN.exec(text.substring(result.index + result.text.length));\n        if (!match) {\n            // Not accept number only result\n            if (result.text.match(/^\\d+$/)) {\n                return null;\n            }\n            return result;\n        }\n\n        var endMoment = startMoment.clone();\n        result.end = new ParsedComponents(null, null);\n\n        // ----- Day\n        if (match[DAY_GROUP_1]) {\n            var day1 = match[DAY_GROUP_1];\n            if (day1 == '明' || day1 == '聽') {\n              // Check not \"Tomorrow\" on late night\n              if(refMoment.hour() > 1) {\n                endMoment = endMoment.add(1, 'day');\n              }\n            } else if (day1 == '昨' || day1 == '尋' || day1 == '琴') {\n                endMoment = endMoment.add(-1, 'day');\n            } else if (day1 == \"前\"){\n                endMoment = endMoment.add(-2, 'day');\n            } else if (day1 == \"大前\"){\n                endMoment = endMoment.add(-3, 'day');\n            } else if (day1 == \"後\"){\n                endMoment = endMoment.add(2, 'day');\n            } else if (day1 == \"大後\"){\n                endMoment = endMoment.add(3, 'day');\n            }\n            result.end.assign('day', endMoment.date());\n            result.end.assign('month', endMoment.month() + 1);\n            result.end.assign('year', endMoment.year());\n        } else if (match[DAY_GROUP_3]) {\n            var day3 = match[DAY_GROUP_3];\n            if (day3 == '明' || day3 == '聽') {\n                endMoment = endMoment.add(1, 'day');\n            } else if (day3 == '昨' || day3 == '尋' || day3 == '琴') {\n                endMoment = endMoment.add(-1, 'day');\n            } else if (day3 == \"前\"){\n                endMoment = endMoment.add(-2, 'day');\n            } else if (day3 == \"大前\"){\n                endMoment = endMoment.add(-3, 'day');\n            } else if (day3 == \"後\"){\n                endMoment = endMoment.add(2, 'day');\n            } else if (day3 == \"大後\"){\n                endMoment = endMoment.add(3, 'day');\n            }\n            result.end.assign('day', endMoment.date());\n            result.end.assign('month', endMoment.month() + 1);\n            result.end.assign('year', endMoment.year());\n        } else {\n            result.end.imply('day', endMoment.date());\n            result.end.imply('month', endMoment.month() + 1);\n            result.end.imply('year', endMoment.year());\n        }\n\n        hour = 0;\n        minute = 0;\n        meridiem = -1;\n\n        // ----- Second\n        if (match[SECOND_GROUP]) {\n            var second = parseInt(match[SECOND_GROUP]);\n            if (isNaN(second)) {\n                second = util.zhStringToNumber(match[SECOND_GROUP]);\n            }\n\n            if (second >= 60) return null;\n            result.end.assign('second', second);\n        }\n\n        hour = parseInt(match[HOUR_GROUP]);\n        if (isNaN(hour)) {\n            hour = util.zhStringToNumber(match[HOUR_GROUP]);\n        }\n\n        // ----- Minutes\n        if (match[MINUTE_GROUP]) {\n            if (match[MINUTE_GROUP] == '半') {\n                minute = 30;\n            } else if (match[MINUTE_GROUP] == '正' || match[MINUTE_GROUP] == '整') {\n                minute = 0;\n            } else {\n                minute = parseInt(match[MINUTE_GROUP]);\n                if (isNaN(minute)) {\n                    minute = util.zhStringToNumber(match[MINUTE_GROUP]);\n                }\n            }\n        } else if (hour > 100) {\n            minute = hour % 100;\n            hour = parseInt(hour / 100);\n        }\n\n        if (minute >= 60) {\n            return null;\n        }\n\n        if (hour > 24) {\n            return null;\n        }\n        if (hour >= 12) {\n            meridiem = 1;\n        }\n\n        // ----- AM & PM\n        if (match[AM_PM_HOUR_GROUP]) {\n            if (hour > 12) return null;\n            var ampm = match[AM_PM_HOUR_GROUP][0].toLowerCase();\n            if (ampm == \"a\") {\n                meridiem = 0;\n                if (hour == 12) hour = 0;\n            }\n\n            if (ampm == \"p\") {\n                meridiem = 1;\n                if (hour != 12) hour += 12;\n            }\n\n            if (!result.start.isCertain('meridiem')) {\n                if (meridiem == 0) {\n\n                    result.start.imply('meridiem', 0);\n\n                    if (result.start.get('hour') == 12) {\n                        result.start.assign('hour', 0);\n                    }\n\n                } else {\n\n                    result.start.imply('meridiem', 1);\n\n                    if (result.start.get('hour') != 12) {\n                        result.start.assign('hour', result.start.get('hour') + 12);\n                    }\n                }\n            }\n\n        } else if (match[ZH_AM_PM_HOUR_GROUP_1]) {\n            var zhAMPMString1 = match[ZH_AM_PM_HOUR_GROUP_1];\n            var zhAMPM1 = zhAMPMString1[0];\n            if (zhAMPM1 == '朝' || zhAMPM1 == '早') {\n                meridiem = 0;\n                if (hour == 12) hour = 0;\n            } else if (zhAMPM1 == '晚') {\n                meridiem = 1;\n                if (hour != 12) hour += 12;\n            }\n        } else if (match[ZH_AM_PM_HOUR_GROUP_2]) {\n            var zhAMPMString2 = match[ZH_AM_PM_HOUR_GROUP_2];\n            var zhAMPM2 = zhAMPMString2[0];\n            if (zhAMPM2 == '上' || zhAMPM2 == '朝' || zhAMPM2 == '早' || zhAMPM2 == '凌') {\n                meridiem = 0;\n                if (hour == 12) hour = 0;\n            } else if (zhAMPM2 == '下' || zhAMPM2 == '晏' || zhAMPM2 == '晚') {\n                meridiem = 1;\n                if (hour != 12) hour += 12;\n            }\n        } else if (match[ZH_AM_PM_HOUR_GROUP_3]) {\n            var zhAMPMString3 = match[ZH_AM_PM_HOUR_GROUP_3];\n            var zhAMPM3 = zhAMPMString3[0];\n            if (zhAMPM3 == '上' || zhAMPM3 == '朝' || zhAMPM3 == '早' || zhAMPM3 == '凌') {\n                meridiem = 0;\n                if (hour == 12) hour = 0;\n            } else if (zhAMPM3 == '下' || zhAMPM3 == '晏' || zhAMPM3 == '晚') {\n                meridiem = 1;\n                if (hour != 12) hour += 12;\n            }\n        }\n\n        result.text = result.text + match[0];\n        result.end.assign('hour', hour);\n        result.end.assign('minute', minute);\n        if (meridiem >= 0) {\n            result.end.assign('meridiem', meridiem);\n        } else {\n            var startAtPM = result.start.isCertain('meridiem') && result.start.get('meridiem') == 1;\n            if (startAtPM && result.start.get('hour') > hour) {\n                // 10pm - 1 (am)\n                result.end.imply('meridiem', 0);\n\n            } else if (hour > 12) {\n                result.end.imply('meridiem', 1);\n            }\n        }\n\n        if (result.end.date().getTime() < result.start.date().getTime()) {\n            result.end.imply('day', result.end.get('day') + 1)\n        }\n\n        return result;\n    };\n};\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = new RegExp(\n    '(而家|立(?:刻|即)|即刻)|' +\n    '(今|明|前|大前|後|大後|聽|昨|尋|琴)(早|朝|晚)|' +\n    '(上(?:午|晝)|朝(?:早)|早(?:上)|下(?:午|晝)|晏(?:晝)|晚(?:上)|夜(?:晚)?|中(?:午)|凌(?:晨))|' +\n    '(今|明|前|大前|後|大後|聽|昨|尋|琴)(?:日|天)' +\n    '(?:[\\\\s|,|，]*)' +\n    '(?:(上(?:午|晝)|朝(?:早)|早(?:上)|下(?:午|晝)|晏(?:晝)|晚(?:上)|夜(?:晚)?|中(?:午)|凌(?:晨)))?', 'i');\n\nvar NOW_GROUP = 1;\nvar DAY_GROUP_1 = 2;\nvar TIME_GROUP_1 = 3;\nvar TIME_GROUP_2 = 4;\nvar DAY_GROUP_3 = 5;\nvar TIME_GROUP_3 = 6;\n\nexports.Parser = function ZHHantCasualDateParser() {\n\n    Parser.apply(this, arguments);\n\n    this.pattern = function() {\n        return PATTERN;\n    };\n\n    this.extract = function(text, ref, match, opt) {\n        text = match[0];\n        var index = match.index;\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref,\n        });\n\n        var refMoment = dayjs(ref);\n        var startMoment = refMoment;\n\n        if (match[NOW_GROUP]) {\n            result.start.imply('hour', refMoment.hour());\n            result.start.imply('minute', refMoment.minute());\n            result.start.imply('second', refMoment.second());\n            result.start.imply('millisecond', refMoment.millisecond());\n        } else if (match[DAY_GROUP_1]) {\n            var day1 = match[DAY_GROUP_1];\n            var time1 = match[TIME_GROUP_1];\n\n            if (day1 == '明' || day1 == '聽') {\n              // Check not \"Tomorrow\" on late night\n                if(refMoment.hour() > 1) {\n                    startMoment = startMoment.add(1, 'day');\n                }\n            } else if (day1 == '昨' || day1 == '尋' || day1 == '琴') {\n                startMoment = startMoment.add(-1, 'day');\n            } else if (day1 == \"前\"){\n                startMoment = startMoment.add(-2, 'day');\n            } else if (day1 == \"大前\"){\n                startMoment = startMoment.add(-3, 'day');\n            } else if ( day1 == \"後\"){\n                startMoment = startMoment.add(2, 'day');\n            } else if (day1 == \"大後\"){\n                startMoment = startMoment.add(3, 'day');\n            }\n\n            if (time1 == '早' || time1 == '朝') {\n                result.start.imply('hour', 6);\n            } else if (time1 == '晚') {\n                result.start.imply('hour', 22);\n                result.start.imply('meridiem', 1);\n            }\n\n        } else if (match[TIME_GROUP_2]) {\n            var timeString2 = match[TIME_GROUP_2];\n            var time2 = timeString2[0];\n            if (time2 == '早' || time2 == '朝' || time2 == '上') {\n                result.start.imply('hour', 6);\n            } else if (time2 == '下' || time2 == '晏') {\n                result.start.imply('hour', 15);\n                result.start.imply('meridiem', 1);\n            } else if (time2 == '中') {\n                result.start.imply('hour', 12);\n                result.start.imply('meridiem', 1);\n            } else if (time2 == '夜' || time2 == '晚') {\n                result.start.imply('hour', 22);\n                result.start.imply('meridiem', 1);\n            } else if (time2 == '凌') {\n                result.start.imply('hour', 0);\n            }\n\n        } else if (match[DAY_GROUP_3]) {\n            var day3 = match[DAY_GROUP_3];\n\n            if (day3 == '明' || day3 == '聽') {\n                // Check not \"Tomorrow\" on late night\n                if(refMoment.hour() > 1) {\n                    startMoment = startMoment.add(1, 'day');\n                }\n            } else if (day3 == '昨' || day3 == '尋' || day3 == '琴') {\n                startMoment = startMoment.add(-1, 'day');\n            } else if (day3 == \"前\"){\n                startMoment = startMoment.add(-2, 'day');\n            } else if (day3 == \"大前\"){\n                startMoment = startMoment.add(-3, 'day');\n            } else if (day3 == \"後\"){\n                startMoment = startMoment.add(2, 'day');\n            } else if (day3 == \"大後\"){\n                startMoment = startMoment.add(3, 'day');\n            }\n\n\n            var timeString3 = match[TIME_GROUP_3];\n            if (timeString3) {\n                var time3 = timeString3[0];\n                if (time3 == '早' || time3 == '朝' || time3 == '上') {\n                    result.start.imply('hour', 6);\n                } else if (time3 == '下' || time3 == '晏') {\n                    result.start.imply('hour', 15);\n                    result.start.imply('meridiem', 1);\n                } else if (time3 == '中') {\n                    result.start.imply('hour', 12);\n                    result.start.imply('meridiem', 1);\n                } else if (time3 == '夜' || time3 == '晚') {\n                    result.start.imply('hour', 22);\n                    result.start.imply('meridiem', 1);\n                } else if (time3 == '凌') {\n                    result.start.imply('hour', 0);\n                }\n            }\n        }\n\n        result.start.assign('day', startMoment.date())\n        result.start.assign('month', startMoment.month() + 1)\n        result.start.assign('year', startMoment.year())\n        result.tags.ZHHantCasualDateParser = true;\n        return result;\n    };\n};\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar util = require('../../utils/ZH.js');\n\nvar PATTERN = new RegExp(\n    '(\\\\d+|[' + Object.keys(util.NUMBER).join('') + ']+|半|幾)(?:\\\\s*)' +\n    '(?:個)?' +\n    '(秒(?:鐘)?|分鐘|小時|鐘|日|天|星期|禮拜|月|年)' +\n    '(?:(?:之|過)?後|(?:之)?內)', 'i'\n);\n\nvar NUMBER_GROUP = 1;\nvar UNIT_GROUP = 2;\n\nexports.Parser = function ZHHantCasualDateParser() {\n\n    Parser.apply(this, arguments);\n\n    this.pattern = function() {\n        return PATTERN;\n    };\n\n    this.extract = function(text, ref, match, opt) {\n      var index = match.index;\n      text  = match[0];\n\n      var result = new ParsedResult({\n          index: index,\n          text: text,\n          ref: ref\n      });\n\n      var number = parseInt(match[NUMBER_GROUP]);\n      if (isNaN(number)){\n        number = util.zhStringToNumber(match[NUMBER_GROUP]);\n      }\n\n      if (isNaN(number)){\n        var string = match[NUMBER_GROUP];\n        if (string === '幾'){\n          number = 3;\n        }else if(string === '半'){\n          number = 0.5;\n        }else{\n\n          //just in case\n          return null;\n        }\n      }\n\n      var date = dayjs(ref);\n      var unit = match[UNIT_GROUP];\n      var unitAbbr = unit[0];\n\n      if (unitAbbr.match(/[日天星禮月年]/)){\n          if(unitAbbr == '日' || unitAbbr == '天'){\n            date = date.add(number, 'd');\n          }else if(unitAbbr == '星' || unitAbbr == '禮'){\n            date = date.add(number * 7, 'd');\n          }else if(unitAbbr == '月'){\n            date = date.add(number, 'month');\n          }else if(unitAbbr == '年'){\n            date = date.add(number, 'year');\n          }\n\n        result.start.assign('year', date.year());\n        result.start.assign('month', date.month() + 1);\n        result.start.assign('day', date.date());\n        return result;\n      }\n\n      if(unitAbbr == '秒'){\n        date = date.add(number, 'second');\n      }else if(unitAbbr == '分'){\n        date = date.add(number, 'minute');\n      }else if(unitAbbr == '小' || unitAbbr == '鐘'){\n        date = date.add(number, 'hour');\n      }\n\n      result.start.imply('year', date.year());\n      result.start.imply('month', date.month() + 1);\n      result.start.imply('day', date.date());\n      result.start.assign('hour', date.hour());\n      result.start.assign('minute', date.minute());\n      result.start.assign('second', date.second());\n      result.tags.ZHHantDeadlineFormatParser = true;\n      return result;\n    };\n};\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar util = require('../../utils/ZH.js');\n\nvar PATTERN = new RegExp(\n    '(\\\\d{2,4}|[' + Object.keys(util.NUMBER).join('') + ']{2,4})?' +\n    '(?:\\\\s*)' +\n    '(?:年|-|/)?' +\n    '(?:\\\\s*)' +\n    '(\\\\d{1,2}|[' + Object.keys(util.NUMBER).join('') + ']{1,2})' +\n    '(?:\\\\s*)' +\n    '(?:月|-|/)?' +\n    '(?:\\\\s*)' +\n    '(\\\\d{1,2}|[' + Object.keys(util.NUMBER).join('') + ']{1,2})?' +\n    '(?:\\\\s*)' +\n    '(?:日|号)?'\n);\n\nvar YEAR_GROUP = 1;\nvar MONTH_GROUP = 2;\nvar DAY_GROUP = 3;\n\nexports.Parser = function ZHHansDateParser() {\n\n    Parser.apply(this, arguments);\n\n    this.pattern = function() {\n        return PATTERN;\n    };\n\n    this.extract = function(text, ref, match, opt) {\n        var startMoment = dayjs(ref);\n        var result = new ParsedResult({\n            text: match[0],\n            index: match.index,\n            ref: ref,\n        });\n\n        //Month\n        var month = parseInt(match[MONTH_GROUP]);\n        if (isNaN(month)) month = util.zhStringToNumber(match[MONTH_GROUP]);\n        if (month > 12) {\n            month = 12;\n        } else if (month < 0) {\n            month = 0;\n        }\n        result.start.assign('month', month);\n\n        //Day\n        if (match[DAY_GROUP]) {\n            var day = parseInt(match[DAY_GROUP]);\n            if (isNaN(day)) day = util.zhStringToNumber(match[DAY_GROUP]);\n            if (day < 0) {\n                day = 0;\n            } else if (day > 31) {\n                day = 31;\n            }\n            result.start.assign('day', day);\n        } else {\n            result.start.imply('day', startMoment.date());\n        }\n\n        //Year\n        if (match[YEAR_GROUP]) {\n            var year = parseInt(match[YEAR_GROUP]);\n            if (isNaN(year)) year = util.zhStringToYear(match[YEAR_GROUP]);\n            if (year > 2030) {\n                year = 2030;\n            }\n            result.start.assign('year', year);\n        } else {\n            result.start.imply('year', startMoment.year());\n        }\n\n        result.tags.ZHHansDateParser = true;\n        return result;\n    };\n};\n","var Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar updateParsedComponent = require('../en/ENWeekdayParser').updateParsedComponent;\n\nvar util = require('../../utils/ZH.js');\n\nvar PATTERN = new RegExp(\n    '(上|下|这|本|当)?' +\n    '(?:个)?' +\n    '(?:星期|礼拜|周)' +\n    '(' + Object.keys(util.WEEKDAY_OFFSET).join('|') + ')'\n);\n\nvar PREFIX_GROUP = 1;\nvar WEEKDAY_GROUP = 2;\n\nexports.Parser = function ZHHansWeekdayParser() {\n\n    Parser.apply(this, arguments);\n\n    this.pattern = function () {\n        return PATTERN;\n    };\n\n    this.extract = function (text, ref, match, opt) {\n        var index = match.index;\n        text = match[0];\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref\n        });\n\n        var dayOfWeek = match[WEEKDAY_GROUP];\n        var offset = util.WEEKDAY_OFFSET[dayOfWeek];\n        if (offset === undefined) return null;\n\n        var modifier = null;\n        var prefix = match[PREFIX_GROUP];\n\n        if (prefix == '上') {\n            modifier = 'last';\n        } else if (prefix == '下') {\n            modifier = 'next';\n        } else if (prefix == '这' || prefix == '本' || prefix == '当') {\n            modifier = 'this';\n        }\n\n        updateParsedComponent(result, ref, offset, modifier);\n        result.tags.ZHHantWeekdayParser = true;\n        return result;\n    };\n};","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar ParsedComponents = require('../../result').ParsedComponents;\n\nvar util = require('../../utils/ZH.js');\n\nvar patternString1 = '(?:由|从|自)?' +\n    '(?:' +\n    '(今|明|前|大前|后|大后|昨)(?:日|天)?(早|晚)|' +\n    '(上(?:午)|早(?:上)|下(?:午)|晚(?:上)|夜(?:晚)?|中(?:午)|凌(?:晨))|' +\n    '(今|明|前|大前|后|大后|昨)(?:日|天)' +\n    '(?:[\\\\s,，]*)' +\n    '(?:(上(?:午)|早(?:上)|下(?:午)|晚(?:上)|夜(?:晚)?|中(?:午)|凌(?:晨)))?' +\n    ')?' +\n    '(?:[\\\\s,，]*)' +\n    '(?:(\\\\d+|[' + Object.keys(util.NUMBER).join('') + ']+)(?:\\\\s*)(?:点|时|:|：)' +\n    '(?:\\\\s*)' +\n    '(\\\\d+|半|正|整|[' + Object.keys(util.NUMBER).join('') + ']+)?(?:\\\\s*)(?:分|:|：)?' +\n    '(?:\\\\s*)' +\n    '(\\\\d+|[' + Object.keys(util.NUMBER).join('') + ']+)?(?:\\\\s*)(?:秒)?)' +\n    '(?:\\\\s*(A\\.M\\.|P\\.M\\.|AM?|PM?))?';\n\nvar patternString2 = '(?:\\\\s*(?:到|至|\\\\-|\\\\–|\\\\~|\\\\〜)\\\\s*)' +\n    '(?:' +\n    '(今|明|前|大前|后|大后|昨)(?:日|天)?(早|晚)|' +\n    '(上(?:午)|早(?:上)|下(?:午)|晚(?:上)|夜(?:晚)?|中(?:午)|凌(?:晨))|' +\n    '(今|明|前|大前|后|大后|昨)(?:日|天)' +\n    '(?:[\\\\s,，]*)' +\n    '(?:(上(?:午)|早(?:上)|下(?:午)|晚(?:上)|夜(?:晚)?|中(?:午)|凌(?:晨)))?' +\n    ')?' +\n    '(?:[\\\\s,，]*)' +\n    '(?:(\\\\d+|[' + Object.keys(util.NUMBER).join('') + ']+)(?:\\\\s*)(?:点|时|:|：)' +\n    '(?:\\\\s*)' +\n    '(\\\\d+|半|正|整|[' + Object.keys(util.NUMBER).join('') + ']+)?(?:\\\\s*)(?:分|:|：)?' +\n    '(?:\\\\s*)' +\n    '(\\\\d+|[' + Object.keys(util.NUMBER).join('') + ']+)?(?:\\\\s*)(?:秒)?)' +\n    '(?:\\\\s*(A\\.M\\.|P\\.M\\.|AM?|PM?))?';\n\nvar FIRST_REG_PATTERN = new RegExp(patternString1, 'i');\nvar SECOND_REG_PATTERN = new RegExp(patternString2, 'i');\n\nvar DAY_GROUP_1 = 1;\nvar ZH_AM_PM_HOUR_GROUP_1 = 2;\nvar ZH_AM_PM_HOUR_GROUP_2 = 3;\nvar DAY_GROUP_3 = 4;\nvar ZH_AM_PM_HOUR_GROUP_3 = 5;\nvar HOUR_GROUP = 6;\nvar MINUTE_GROUP = 7;\nvar SECOND_GROUP = 8;\nvar AM_PM_HOUR_GROUP = 9;\n\nexports.Parser = function ZHHansTimeExpressionParser() {\n\n    Parser.apply(this, arguments);\n\n    this.pattern = function () {\n        return FIRST_REG_PATTERN;\n    };\n\n    this.extract = function (text, ref, match, opt) {\n\n        // This pattern can be overlaped Ex. [12] AM, 1[2] AM\n        if (match.index > 0 && text[match.index - 1].match(/\\w/)) return null;\n        var refMoment = dayjs(ref);\n        var result = new ParsedResult();\n        result.ref = ref;\n        result.index = match.index;\n        result.text = match[0];\n        result.tags.ZHTimeExpressionParser = true;\n\n        var startMoment = refMoment.clone();\n\n        // ----- Day\n        if (match[DAY_GROUP_1]) {\n            var day1 = match[DAY_GROUP_1];\n            if (day1 == '明') {\n                // Check not \"Tomorrow\" on late night\n                if (refMoment.hour() > 1) {\n                    startMoment = startMoment.add(1, 'day');\n                }\n            } else if (day1 == '昨') {\n                startMoment = startMoment.add(-1, 'day');\n            } else if (day1 == \"前\") {\n                startMoment = startMoment.add(-2, 'day');\n            } else if (day1 == \"大前\") {\n                startMoment = startMoment.add(-3, 'day');\n            } else if (day1 == \"后\") {\n                startMoment = startMoment.add(2, 'day');\n            } else if (day1 == \"大后\") {\n                startMoment = startMoment.add(3, 'day');\n            }\n            result.start.assign('day', startMoment.date());\n            result.start.assign('month', startMoment.month() + 1);\n            result.start.assign('year', startMoment.year());\n        } else if (match[DAY_GROUP_3]) {\n            var day3 = match[DAY_GROUP_3];\n            if (day3 == '明') {\n                startMoment = startMoment.add(1, 'day');\n            } else if (day3 == '昨') {\n                startMoment = startMoment.add(-1, 'day');\n            } else if (day3 == \"前\") {\n                startMoment = startMoment.add(-2, 'day');\n            } else if (day3 == \"大前\") {\n                startMoment = startMoment.add(-3, 'day');\n            } else if (day3 == \"后\") {\n                startMoment = startMoment.add(2, 'day');\n            } else if (day3 == \"大后\") {\n                startMoment = startMoment.add(3, 'day');\n            }\n            result.start.assign('day', startMoment.date());\n            result.start.assign('month', startMoment.month() + 1);\n            result.start.assign('year', startMoment.year());\n        } else {\n            result.start.imply('day', startMoment.date());\n            result.start.imply('month', startMoment.month() + 1);\n            result.start.imply('year', startMoment.year());\n        }\n\n        var hour = 0;\n        var minute = 0;\n        var meridiem = -1;\n\n        // ----- Second\n        if (match[SECOND_GROUP]) {\n            var second = parseInt(match[SECOND_GROUP]);\n            if (isNaN(second)) {\n                second = util.zhStringToNumber(match[SECOND_GROUP]);\n            }\n            if (second >= 60) return null;\n            result.start.assign('second', second);\n        }\n\n        hour = parseInt(match[HOUR_GROUP]);\n        if (isNaN(hour)) {\n            hour = util.zhStringToNumber(match[HOUR_GROUP]);\n        }\n\n        // ----- Minutes\n        if (match[MINUTE_GROUP]) {\n            if (match[MINUTE_GROUP] == '半') {\n                minute = 30;\n            } else if (match[MINUTE_GROUP] == '正' || match[MINUTE_GROUP] == '整') {\n                minute = 0;\n            } else {\n                minute = parseInt(match[MINUTE_GROUP]);\n                if (isNaN(minute)) {\n                    minute = util.zhStringToNumber(match[MINUTE_GROUP]);\n                }\n            }\n        } else if (hour > 100) {\n            minute = hour % 100;\n            hour = parseInt(hour / 100);\n        }\n\n        if (minute >= 60) {\n            return null;\n        }\n\n        if (hour > 24) {\n            return null;\n        }\n        if (hour >= 12) {\n            meridiem = 1;\n        }\n\n        // ----- AM & PM\n        if (match[AM_PM_HOUR_GROUP]) {\n            if (hour > 12) return null;\n            var ampm = match[AM_PM_HOUR_GROUP][0].toLowerCase();\n            if (ampm == \"a\") {\n                meridiem = 0;\n                if (hour == 12) hour = 0;\n            }\n\n            if (ampm == \"p\") {\n                meridiem = 1;\n                if (hour != 12) hour += 12;\n            }\n        } else if (match[ZH_AM_PM_HOUR_GROUP_1]) {\n            var zhAMPMString1 = match[ZH_AM_PM_HOUR_GROUP_1];\n            var zhAMPM1 = zhAMPMString1[0];\n            if (zhAMPM1 == '早') {\n                meridiem = 0;\n                if (hour == 12) hour = 0;\n            } else if (zhAMPM1 == '晚') {\n                meridiem = 1;\n                if (hour != 12) hour += 12;\n            }\n        } else if (match[ZH_AM_PM_HOUR_GROUP_2]) {\n            var zhAMPMString2 = match[ZH_AM_PM_HOUR_GROUP_2];\n            var zhAMPM2 = zhAMPMString2[0];\n            if (zhAMPM2 == '上' || zhAMPM2 == '早' || zhAMPM2 == '凌') {\n                meridiem = 0;\n                if (hour == 12) hour = 0;\n            } else if (zhAMPM2 == '下' || zhAMPM2 == '晚') {\n                meridiem = 1;\n                if (hour != 12) hour += 12;\n            }\n        } else if (match[ZH_AM_PM_HOUR_GROUP_3]) {\n            var zhAMPMString3 = match[ZH_AM_PM_HOUR_GROUP_3];\n            var zhAMPM3 = zhAMPMString3[0];\n            if (zhAMPM3 == '上' || zhAMPM3 == '早' || zhAMPM3 == '凌') {\n                meridiem = 0;\n                if (hour == 12) hour = 0;\n            } else if (zhAMPM3 == '下' || zhAMPM3 == '晚') {\n                meridiem = 1;\n                if (hour != 12) hour += 12;\n            }\n        }\n\n        result.start.assign('hour', hour);\n        result.start.assign('minute', minute);\n\n        if (meridiem >= 0) {\n            result.start.assign('meridiem', meridiem);\n        } else {\n            if (hour < 12) {\n                result.start.imply('meridiem', 0);\n            } else {\n                result.start.imply('meridiem', 1);\n            }\n        }\n\n        // ==============================================================\n        //                  Extracting the 'to' chunk\n        // ==============================================================\n\n        match = SECOND_REG_PATTERN.exec(text.substring(result.index + result.text.length));\n        if (!match) {\n            // Not accept number only result\n            if (result.text.match(/^\\d+$/)) {\n                return null;\n            }\n            return result;\n        }\n\n        var endMoment = startMoment.clone();\n        result.end = new ParsedComponents(null, null);\n\n        // ----- Day\n        if (match[DAY_GROUP_1]) {\n            var day1 = match[DAY_GROUP_1];\n            if (day1 == '明') {\n                // Check not \"Tomorrow\" on late night\n                if (refMoment.hour() > 1) {\n                    endMoment = endMoment.add(1, 'day');\n                }\n            } else if (day1 == '昨') {\n                endMoment = endMoment.add(-1, 'day');\n            } else if (day1 == \"前\") {\n                endMoment = endMoment.add(-2, 'day');\n            } else if (day1 == \"大前\") {\n                endMoment = endMoment.add(-3, 'day');\n            } else if (day1 == \"后\") {\n                endMoment = endMoment.add(2, 'day');\n            } else if (day1 == \"大后\") {\n                endMoment = endMoment.add(3, 'day');\n            }\n            result.end.assign('day', endMoment.date());\n            result.end.assign('month', endMoment.month() + 1);\n            result.end.assign('year', endMoment.year());\n        } else if (match[DAY_GROUP_3]) {\n            var day3 = match[DAY_GROUP_3];\n            if (day3 == '明') {\n                endMoment = endMoment.add(1, 'day');\n            } else if (day3 == '昨') {\n                endMoment = endMoment.add(-1, 'day');\n            } else if (day3 == \"前\") {\n                endMoment = endMoment.add(-2, 'day');\n            } else if (day3 == \"大前\") {\n                endMoment = endMoment.add(-3, 'day');\n            } else if (day3 == \"后\") {\n                endMoment = endMoment.add(2, 'day');\n            } else if (day3 == \"大后\") {\n                endMoment = endMoment.add(3, 'day');\n            }\n            result.end.assign('day', endMoment.date());\n            result.end.assign('month', endMoment.month() + 1);\n            result.end.assign('year', endMoment.year());\n        } else {\n            result.end.imply('day', endMoment.date());\n            result.end.imply('month', endMoment.month() + 1);\n            result.end.imply('year', endMoment.year());\n        }\n\n        hour = 0;\n        minute = 0;\n        meridiem = -1;\n\n        // ----- Second\n        if (match[SECOND_GROUP]) {\n            var second = parseInt(match[SECOND_GROUP]);\n            if (isNaN(second)) {\n                second = util.zhStringToNumber(match[SECOND_GROUP]);\n            }\n\n            if (second >= 60) return null;\n            result.end.assign('second', second);\n        }\n\n        hour = parseInt(match[HOUR_GROUP]);\n        if (isNaN(hour)) {\n            hour = util.zhStringToNumber(match[HOUR_GROUP]);\n        }\n\n        // ----- Minutes\n        if (match[MINUTE_GROUP]) {\n            if (match[MINUTE_GROUP] == '半') {\n                minute = 30;\n            } else if (match[MINUTE_GROUP] == '正' || match[MINUTE_GROUP] == '整') {\n                minute = 0;\n            } else {\n                minute = parseInt(match[MINUTE_GROUP]);\n                if (isNaN(minute)) {\n                    minute = util.zhStringToNumber(match[MINUTE_GROUP]);\n                }\n            }\n        } else if (hour > 100) {\n            minute = hour % 100;\n            hour = parseInt(hour / 100);\n        }\n\n        if (minute >= 60) {\n            return null;\n        }\n\n        if (hour > 24) {\n            return null;\n        }\n        if (hour >= 12) {\n            meridiem = 1;\n        }\n\n        // ----- AM & PM\n        if (match[AM_PM_HOUR_GROUP]) {\n            if (hour > 12) return null;\n            var ampm = match[AM_PM_HOUR_GROUP][0].toLowerCase();\n            if (ampm == \"a\") {\n                meridiem = 0;\n                if (hour == 12) hour = 0;\n            }\n\n            if (ampm == \"p\") {\n                meridiem = 1;\n                if (hour != 12) hour += 12;\n            }\n\n            if (!result.start.isCertain('meridiem')) {\n                if (meridiem == 0) {\n\n                    result.start.imply('meridiem', 0);\n\n                    if (result.start.get('hour') == 12) {\n                        result.start.assign('hour', 0);\n                    }\n\n                } else {\n\n                    result.start.imply('meridiem', 1);\n\n                    if (result.start.get('hour') != 12) {\n                        result.start.assign('hour', result.start.get('hour') + 12);\n                    }\n                }\n            }\n\n        } else if (match[ZH_AM_PM_HOUR_GROUP_1]) {\n            var zhAMPMString1 = match[ZH_AM_PM_HOUR_GROUP_1];\n            var zhAMPM1 = zhAMPMString1[0];\n            if (zhAMPM1 == '朝' || zhAMPM1 == '早') {\n                meridiem = 0;\n                if (hour == 12) hour = 0;\n            } else if (zhAMPM1 == '晚') {\n                meridiem = 1;\n                if (hour != 12) hour += 12;\n            }\n        } else if (match[ZH_AM_PM_HOUR_GROUP_2]) {\n            var zhAMPMString2 = match[ZH_AM_PM_HOUR_GROUP_2];\n            var zhAMPM2 = zhAMPMString2[0];\n            if (zhAMPM2 == '上' || zhAMPM2 == '早' || zhAMPM2 == '凌') {\n                meridiem = 0;\n                if (hour == 12) hour = 0;\n            } else if (zhAMPM2 == '下' || zhAMPM2 == '晚') {\n                meridiem = 1;\n                if (hour != 12) hour += 12;\n            }\n        } else if (match[ZH_AM_PM_HOUR_GROUP_3]) {\n            var zhAMPMString3 = match[ZH_AM_PM_HOUR_GROUP_3];\n            var zhAMPM3 = zhAMPMString3[0];\n            if (zhAMPM3 == '上' || zhAMPM3 == '早' || zhAMPM3 == '凌') {\n                meridiem = 0;\n                if (hour == 12) hour = 0;\n            } else if (zhAMPM3 == '下' || zhAMPM3 == '晚') {\n                meridiem = 1;\n                if (hour != 12) hour += 12;\n            }\n        }\n\n        result.text = result.text + match[0];\n        result.end.assign('hour', hour);\n        result.end.assign('minute', minute);\n        if (meridiem >= 0) {\n            result.end.assign('meridiem', meridiem);\n        } else {\n            var startAtPM = result.start.isCertain('meridiem') && result.start.get('meridiem') == 1;\n            if (startAtPM && result.start.get('hour') > hour) {\n                // 10pm - 1 (am)\n                result.end.imply('meridiem', 0);\n\n            } else if (hour > 12) {\n                result.end.imply('meridiem', 1);\n            }\n        }\n\n        if (result.end.date().getTime() < result.start.date().getTime()) {\n            result.end.imply('day', result.end.get('day') + 1)\n        }\n\n        return result;\n    };\n};","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = new RegExp(\n    '(立(?:刻|即)|即刻)|' +\n    '(今|明|前|大前|后|大后|昨)(?:日|天)?(早|晚)|' +\n    '(上(?:午)|早(?:上)|下(?:午)|晚(?:上)|夜(?:晚)?|中(?:午)|凌(?:晨))|' +\n    '(今|明|前|大前|后|大后|昨)(?:日|天)' +\n    '(?:[\\\\s|,|，]*)' +\n    '(?:(上(?:午)|早(?:上)|下(?:午)|晚(?:上)|夜(?:晚)?|中(?:午)|凌(?:晨)))?', 'i');\n\nvar NOW_GROUP = 1;\nvar DAY_GROUP_1 = 2;\nvar TIME_GROUP_1 = 3;\nvar TIME_GROUP_2 = 4;\nvar DAY_GROUP_3 = 5;\nvar TIME_GROUP_3 = 6;\n\nexports.Parser = function ZHHantCasualDateParser() {\n\n    Parser.apply(this, arguments);\n\n    this.pattern = function () {\n        return PATTERN;\n    };\n\n    this.extract = function (text, ref, match, opt) {\n        text = match[0];\n        var index = match.index;\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref,\n        });\n\n        var refMoment = dayjs(ref);\n        var startMoment = refMoment;\n\n        if (match[NOW_GROUP]) {\n            result.start.imply('hour', refMoment.hour());\n            result.start.imply('minute', refMoment.minute());\n            result.start.imply('second', refMoment.second());\n            result.start.imply('millisecond', refMoment.millisecond());\n        } else if (match[DAY_GROUP_1]) {\n            var day1 = match[DAY_GROUP_1];\n            var time1 = match[TIME_GROUP_1];\n\n            if (day1 == '明') {\n                // Check not \"Tomorrow\" on late night\n                if (refMoment.hour() > 1) {\n                    startMoment = startMoment.add(1, 'day');\n                }\n            } else if (day1 == '昨') {\n                startMoment = startMoment.add(-1, 'day');\n            } else if (day1 == \"前\") {\n                startMoment = startMoment.add(-2, 'day');\n            } else if (day1 == \"大前\") {\n                startMoment = startMoment.add(-3, 'day');\n            } else if (day1 == \"后\") {\n                startMoment = startMoment.add(2, 'day');\n            } else if (day1 == \"大后\") {\n                startMoment = startMoment.add(3, 'day');\n            }\n\n            if (time1 == '早') {\n                result.start.imply('hour', 6);\n            } else if (time1 == '晚') {\n                result.start.imply('hour', 22);\n                result.start.imply('meridiem', 1);\n            }\n\n        } else if (match[TIME_GROUP_2]) {\n            var timeString2 = match[TIME_GROUP_2];\n            var time2 = timeString2[0];\n            if (time2 == '早' || time2 == '上') {\n                result.start.imply('hour', 6);\n            } else if (time2 == '下') {\n                result.start.imply('hour', 15);\n                result.start.imply('meridiem', 1);\n            } else if (time2 == '中') {\n                result.start.imply('hour', 12);\n                result.start.imply('meridiem', 1);\n            } else if (time2 == '夜' || time2 == '晚') {\n                result.start.imply('hour', 22);\n                result.start.imply('meridiem', 1);\n            } else if (time2 == '凌') {\n                result.start.imply('hour', 0);\n            }\n\n        } else if (match[DAY_GROUP_3]) {\n            var day3 = match[DAY_GROUP_3];\n\n            if (day3 == '明') {\n                // Check not \"Tomorrow\" on late night\n                if (refMoment.hour() > 1) {\n                    startMoment = startMoment.add(1, 'day');\n                }\n            } else if (day3 == '昨') {\n                startMoment = startMoment.add(-1, 'day');\n            } else if (day3 == \"前\") {\n                startMoment = startMoment.add(-2, 'day');\n            } else if (day3 == \"大前\") {\n                startMoment = startMoment.add(-3, 'day');\n            } else if (day3 == \"后\") {\n                startMoment = startMoment.add(2, 'day');\n            } else if (day3 == \"大后\") {\n                startMoment = startMoment.add(3, 'day');\n            }\n\n\n            var timeString3 = match[TIME_GROUP_3];\n            if (timeString3) {\n                var time3 = timeString3[0];\n                if (time3 == '早' || time3 == '上') {\n                    result.start.imply('hour', 6);\n                } else if (time3 == '下') {\n                    result.start.imply('hour', 15);\n                    result.start.imply('meridiem', 1);\n                } else if (time3 == '中') {\n                    result.start.imply('hour', 12);\n                    result.start.imply('meridiem', 1);\n                } else if (time3 == '夜' || time3 == '晚') {\n                    result.start.imply('hour', 22);\n                    result.start.imply('meridiem', 1);\n                } else if (time3 == '凌') {\n                    result.start.imply('hour', 0);\n                }\n            }\n        }\n\n        result.start.assign('day', startMoment.date())\n        result.start.assign('month', startMoment.month() + 1)\n        result.start.assign('year', startMoment.year())\n        result.tags.ZHHantCasualDateParser = true;\n        return result;\n    };\n};","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar util = require('../../utils/ZH.js');\n\nvar PATTERN = new RegExp(\n  '(\\\\d+|[' + Object.keys(util.NUMBER).join('') + ']+|半)(?:\\\\s*)' +\n  '(?:个)?' +\n  '(秒钟?|分钟|小时|刻钟?|日|天|星期|礼拜|月|年)' +\n  '(?:(?:之|过)?后|(?:之)?内)', 'i'\n);\n\nvar NUMBER_GROUP = 1;\nvar UNIT_GROUP = 2;\n\nexports.Parser = function ZHHansCasualDateParser() {\n\n  Parser.apply(this, arguments);\n\n  this.pattern = function () {\n    return PATTERN;\n  };\n\n  this.extract = function (text, ref, match, opt) {\n    var index = match.index;\n    text = match[0];\n\n    var result = new ParsedResult({\n      index: index,\n      text: text,\n      ref: ref\n    });\n\n    var number = parseInt(match[NUMBER_GROUP]);\n    if (isNaN(number)) {\n      number = util.zhStringToNumber(match[NUMBER_GROUP]);\n    }\n\n    if (isNaN(number)) {\n      var string = match[NUMBER_GROUP];\n      if (string === '半') {\n        number = 0.5;\n      } else {\n        //just in case\n        return null;\n      }\n    }\n\n    var date = dayjs(ref);\n    var unit = match[UNIT_GROUP];\n    var unitAbbr = unit[0];\n\n    if (unitAbbr.match(/[日天星礼月年]/)) {\n      if (unitAbbr == '日' || unitAbbr == '天') {\n        date = date.add(number, 'd');\n      } else if (unitAbbr == '星' || unitAbbr == '礼') {\n        date = date.add(number * 7, 'd');\n      } else if (unitAbbr == '月') {\n        date = date.add(number, 'month');\n      } else if (unitAbbr == '年') {\n        date = date.add(number, 'year');\n      }\n\n      result.start.assign('year', date.year());\n      result.start.assign('month', date.month() + 1);\n      result.start.assign('day', date.date());\n      return result;\n    }\n\n    if (unitAbbr == '秒') {\n      date = date.add(number, 'second');\n    } else if (unitAbbr == '分') {\n      date = date.add(number, 'minute');\n    } else if (unitAbbr == '小') {\n      date = date.add(number, 'hour');\n    } else if (unitAbbr == '刻') {\n      date = date.add(number * 15, 'minute');\n    }\n\n    result.start.imply('year', date.year());\n    result.start.imply('month', date.month() + 1);\n    result.start.imply('day', date.date());\n    result.start.assign('hour', date.hour());\n    result.start.assign('minute', date.minute());\n    result.start.assign('second', date.second());\n\n    result.tags.ZHHansDeadlineFormatParser = true;\n    return result;\n  };\n};","/*\n\n\n*/\n\nvar dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar util  = require('../../utils/DE');\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n    '(in|nach)\\\\s*' +\n    '('+ util.INTEGER_WORDS_PATTERN + '|[0-9]+|einigen|eine[rm]\\\\s*halben|eine[rm])\\\\s*' +\n    '(sekunden?|min(?:ute)?n?|stunden?|tag(?:en)?|wochen?|monat(?:en)?|jahr(?:en)?)\\\\s*' +\n    '(?=\\\\W|$)', 'i'\n);\n\nvar STRICT_PATTERN = new RegExp('(\\\\W|^)' +\n    '(in|nach)\\\\s*' +\n    '('+ util.INTEGER_WORDS_PATTERN + '|[0-9]+|eine(?:r|m)?)\\\\s*' +\n    '(sekunden?|minuten?|stunden?|tag(?:en)?)\\\\s*' +\n    '(?=\\\\W|$)', 'i'\n);\n\nexports.Parser = function DEDeadlineFormatParser(){\n    Parser.apply(this, arguments);\n\n    this.pattern = function() {\n        return this.isStrictMode()? STRICT_PATTERN : PATTERN;\n    };\n\n    this.extract = function(text, ref, match, opt){\n\n        var index = match.index + match[1].length;\n        var text  = match[0];\n        text  = match[0].substr(match[1].length, match[0].length - match[1].length);\n\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref\n        });\n\n        var num = match[3].toLowerCase();\n        if (util.INTEGER_WORDS[num] !== undefined) {\n            num = util.INTEGER_WORDS[num];\n        } else if (num === 'einer' || num === 'einem') {\n            num = 1;\n        } else if (num === 'einigen') {\n            num = 3;\n        } else if (/halben/.test(num)) {\n            num = 0.5;\n        } else {\n            num = parseInt(num);\n        }\n\n        var date = dayjs(ref);\n        if (/tag|woche|monat|jahr/i.test(match[4])) {\n\n            if (/tag/i.test(match[4])) {\n                date = date.add(num, 'd');\n            } else if (/woche/i.test(match[4])) {\n                date = date.add(num * 7, 'd');\n            } else if (/monat/i.test(match[4])) {\n                date = date.add(num, 'month');\n            } else if (/jahr/i.test(match[4])) {\n                date = date.add(num, 'year');\n            }\n\n            result.start.assign('year', date.year());\n            result.start.assign('month', date.month() + 1);\n            result.start.assign('day', date.date());\n            return result;\n        }\n\n        if (/stunde/i.test(match[4])) {\n\n            date = date.add(num, 'hour');\n\n        } else if (/min/i.test(match[4])) {\n\n            date = date.add(num, 'minute');\n\n        } else if (/sekunde/i.test(match[4])) {\n\n            date = date.add(num, 'second');\n        }\n\n        result.start.imply('year', date.year());\n        result.start.imply('month', date.month() + 1);\n        result.start.imply('day', date.date());\n        result.start.assign('hour', date.hour());\n        result.start.assign('minute', date.minute());\n        result.start.assign('second', date.second());\n        result.tags['DEDeadlineFormatParser'] = true;\n        return result;\n    };\n};\n","const dayjs = require('dayjs');\nconst parser = require('../parser');\nconst ParsedResult = require('../../result').ParsedResult;\nconst util  = require('../../utils/DE');\n\nconst PATTERN = new RegExp('(\\\\W|^)' +\n        '(?:am\\\\s*?)?' +\n        '(?:(Sonntag|Montag|Dienstag|Mittwoch|Donnerstag|Freitag|Samstag|So|Mo|Di|Mi|Do|Fr|Sa)\\\\s*,?\\\\s*)?' +\n        '(?:den\\\\s*)?' +\n        '([0-9]{1,2})\\\\.' +\n        '(?:\\\\s*(?:bis(?:\\\\s*(?:am|zum))?|\\\\-|\\\\–|\\\\s)\\\\s*([0-9]{1,2})\\\\.)?\\\\s*' +\n        '(Jan(?:uar|\\\\.)?|Feb(?:ruar|\\\\.)?|Mär(?:z|\\\\.)?|Maerz|Mrz\\\\.?|Apr(?:il|\\\\.)?|Mai|Jun(?:i|\\\\.)?|Jul(?:i|\\\\.)?|Aug(?:ust|\\\\.)?|Sep(?:t|t\\\\.|tember|\\\\.)?|Okt(?:ober|\\\\.)?|Nov(?:ember|\\\\.)?|Dez(?:ember|\\\\.)?)' +\n        '(?:' +\n            ',?\\\\s*([0-9]{1,4}(?![^\\\\s]\\\\d))' +\n            '(\\\\s*[vn]\\\\.?\\\\s*C(?:hr)?\\\\.?)?' +\n        ')?' +\n        '(?=\\\\W|$)', 'i'\n    );\n\nconst WEEKDAY_GROUP = 2;\nconst DATE_GROUP = 3;\nconst DATE_TO_GROUP = 4;\nconst MONTH_NAME_GROUP = 5;\nconst YEAR_GROUP = 6;\nconst YEAR_BE_GROUP = 7;\n\nexports.Parser = function DEMonthNameLittleEndianParser(){\n    parser.Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n\n        const result = new ParsedResult({\n            text: match[0].substr(match[1].length, match[0].length - match[1].length),\n            index: match.index + match[1].length,\n            ref: ref,\n        });\n\n        var month = match[MONTH_NAME_GROUP];\n        month = util.MONTH_OFFSET[month.toLowerCase()];\n\n        var day = match[DATE_GROUP];\n        day = parseInt(day);\n\n        var year = null;\n        if (match[YEAR_GROUP]) {\n            year = match[YEAR_GROUP];\n            year = parseInt(year);\n\n            if(match[YEAR_BE_GROUP]){\n                if (/v/i.test(match[YEAR_BE_GROUP])) {\n                    // v.Chr.\n                    year = -year;\n                }\n            } else if (year < 100){\n\n                year = year + 2000;\n            }\n        }\n\n        if(year){\n            result.start.assign('day', day);\n            result.start.assign('month', month);\n            result.start.assign('year', year);\n        } else {\n            year = parser.findYearClosestToRef(ref, day, month);\n            result.start.assign('day', day);\n            result.start.assign('month', month);\n            result.start.imply('year', year);\n        }\n\n        // Weekday component\n        if (match[WEEKDAY_GROUP]) {\n            var weekday = match[WEEKDAY_GROUP];\n            weekday = util.WEEKDAY_OFFSET[weekday.toLowerCase()]\n            result.start.assign('weekday', weekday);\n        }\n\n        // Text can be 'range' value. Such as '12 - 13 January 2012'\n        if (match[DATE_TO_GROUP]) {\n            result.end = result.start.clone();\n            result.end.assign('day', parseInt(match[DATE_TO_GROUP]));\n        }\n\n        result.tags['DEMonthNameLittleEndianParser'] = true;\n        return result;\n    };\n}\n","/*\n    \n    The parser for parsing month name and year.\n    \n    EX. \n        - Januar\n        - Januar 2012\n*/\n\nconst parser = require('../parser');\nconst ParsedResult = require('../../result').ParsedResult;\nconst util  = require('../../utils/DE');\n\nconst PATTERN = new RegExp('(^|\\\\D\\\\s+|[^\\\\w\\\\s])' +\n    '(Jan\\\\.?|Januar|Feb\\\\.?|Februar|Mär\\\\.?|M(?:ä|ae)rz|Mrz\\\\.?|Apr\\\\.?|April|Mai\\\\.?|Jun\\\\.?|Juni|Jul\\\\.?|Juli|Aug\\\\.?|August|Sep\\\\.?|Sept\\\\.?|September|Okt\\\\.?|Oktober|Nov\\\\.?|November|Dez\\\\.?|Dezember)' + \n    '\\\\s*' +\n    '(?:' +\n        ',?\\\\s*(?:([0-9]{4})(\\\\s*[vn]\\\\.?\\\\s*C(?:hr)?\\\\.?)?|([0-9]{1,4})\\\\s*([vn]\\\\.?\\\\s*C(?:hr)?\\\\.?))' +\n    ')?' +\n    '(?=[^\\\\s\\\\w]|$)', 'i');\n\nconst MONTH_NAME_GROUP = 2;\nconst YEAR_GROUP = 3;\nconst YEAR_BE_GROUP = 4;\nconst YEAR_GROUP2 = 5;\nconst YEAR_BE_GROUP2 = 6;\n\nexports.Parser = function ENMonthNameParser(){\n    parser.Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n    \n    this.extract = function(text, ref, match, opt){\n        var result = new ParsedResult({\n            text: match[0].substr(match[1].length, match[0].length - match[1].length),\n            index: match.index + match[1].length,\n            ref: ref,\n        });\n\n        \n        var month = match[MONTH_NAME_GROUP];\n        month = util.MONTH_OFFSET[month.toLowerCase()];\n\n        var day = 1;\n\n        var year = null;\n        if (match[YEAR_GROUP] || match[YEAR_GROUP2]) {\n            year = match[YEAR_GROUP] || match[YEAR_GROUP2];\n            year = parseInt(year);\n\n            if (match[YEAR_BE_GROUP] || match[YEAR_BE_GROUP2]) {\n                if (/v/i.test(match[YEAR_BE_GROUP] || match[YEAR_BE_GROUP2])) {\n                    // v.Chr.\n                    year = -year;\n                }\n\n            } else if (year < 100){ \n\n                year = year + 2000;\n            }\n        }\n\n        if(year){\n            result.start.imply('day', day);\n            result.start.assign('month', month);\n            result.start.assign('year', year);\n        } else {\n            \n            year = parser.findYearClosestToRef(ref, day, month);\n            result.start.imply('day', day);\n            result.start.assign('month', month);\n            result.start.imply('year', year);\n        }\n\n        if (this.isStrictMode() && result.text.match(/^\\w+$/)) {\n            return false;\n        }\n\n        result.tags['DEMonthNameParser'] = true;\n        return result;\n    }\n}\n\n","/*\n    Date format with slash \"/\" (also \"-\" and \".\") between numbers\n    - Tuesday 11/3/2015\n    - 11/3/2015\n    - 11/3\n*/\nvar dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n    '(?:' +\n        '(?:am\\\\s*?)?' +\n        '((?:sonntag|so|montag|mo|dienstag|di|mittwoch|mi|donnerstag|do|freitag|fr|samstag|sa))' +\n        '\\\\s*\\\\,?\\\\s*' +\n        '(?:den\\\\s*)?' +\n    ')?' +\n    '([0-3]{0,1}[0-9]{1})[\\\\/\\\\.\\\\-]([0-3]{0,1}[0-9]{1})' +\n    '(?:' +\n        '[\\\\/\\\\.\\\\-]' +\n        '([0-9]{4}\\s*\\,?\\s*|[0-9]{2}\\s*\\,?\\s*)' +\n    ')?' +\n    '(\\\\W|$)', 'i');\n\nvar DAYS_OFFSET = {\n    'sonntag': 0, 'so': 0,\n    'montag': 1, 'mo': 1,\n    'dienstag': 2, 'di': 2,\n    'mittwoch': 3, 'mi': 3,\n    'donnerstag': 4, 'do': 4,\n    'freitag': 5, 'fr': 5,\n    'samstag': 6, 'sa': 6\n};\n\n\nvar OPENNING_GROUP = 1;\nvar ENDING_GROUP = 6;\n\nvar WEEKDAY_GROUP = 2;\nvar DAY_GROUP = 3;\nvar MONTH_GROUP = 4;\nvar YEAR_GROUP = 5;\n\nexports.Parser = function DESlashDateFormatParser(argument) {\n    Parser.apply(this, arguments);\n\n    this.pattern = function () { return PATTERN; };\n    this.extract = function(text, ref, match, opt){\n\n        if(match[OPENNING_GROUP] == '/' || match[ENDING_GROUP] == '/') {\n            // Long skip, if there is some overlapping like:\n            // XX[/YY/ZZ]\n            // [XX/YY/]ZZ\n            match.index += match[0].length\n            return;\n        }\n\n        var index = match.index + match[OPENNING_GROUP].length;\n        var text = match[0].substr(match[OPENNING_GROUP].length, match[0].length - match[ENDING_GROUP].length);\n\n\n        var result = new ParsedResult({\n            text: text,\n            index: index,\n            ref: ref,\n        });\n\n        if(text.match(/^\\d\\.\\d$/)) return;\n        if(text.match(/^\\d\\.\\d{1,2}\\.\\d{1,2}$/)) return;\n\n        // MM/dd -> OK\n        // MM.dd -> NG\n        if(!match[YEAR_GROUP] && match[0].indexOf('/') < 0) return;\n\n        var year = match[YEAR_GROUP] || dayjs(ref).year() + '';\n        var month = match[MONTH_GROUP];\n        var day   = match[DAY_GROUP];\n\n        month = parseInt(month);\n        day  = parseInt(day);\n        year = parseInt(year);\n\n        if (month < 1 || month > 12) return null;\n        if(day < 1 || day > 31) return null;\n\n        if(year < 100){\n            if (year > 50) {\n                year = year + 1900;\n            } else {\n                year = year + 2000;\n            }\n        }\n\n        result.start.assign('day', day);\n        result.start.assign('month', month);\n        result.start.assign('year', year);\n\n        //Day of week\n        if(match[WEEKDAY_GROUP]) {\n            result.start.assign('weekday', DAYS_OFFSET[match[WEEKDAY_GROUP].toLowerCase()]);\n        }\n\n        result.tags['DESlashDateFormatParser'] = true;\n        return result;\n    };\n};\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar util  = require('../../utils/DE');\n\nvar PATTERN = new RegExp('' +\n    '(\\\\W|^)vor\\\\s*' +\n    '(' + util.INTEGER_WORDS_PATTERN + '|[0-9]+|einigen|eine[rm]\\\\s*halben|eine[rm])\\\\s*' +\n    '(sekunden?|min(?:ute)?n?|stunden?|wochen?|tag(?:en)?|monat(?:en)?|jahr(?:en)?)\\\\s*' +\n    '(?=(?:\\\\W|$))', 'i');\n\nvar STRICT_PATTERN = new RegExp('' +\n    '(\\\\W|^)vor\\\\s*' +\n    '([0-9]+|eine(?:r|m))\\\\s*' +\n    '(sekunden?|minuten?|stunden?|tag(?:en)?)' +\n    '(?=(?:\\\\W|$))', 'i');\n\nexports.Parser = function DETimeAgoFormatParser(){\n    Parser.apply(this, arguments);\n\n    this.pattern = function() {\n        return this.isStrictMode()? STRICT_PATTERN : PATTERN;\n    };\n\n    this.extract = function(text, ref, match, opt){\n\n        if (match.index > 0 && text[match.index-1].match(/\\w/)) return null;\n\n        var text = match[0];\n        text  = match[0].substr(match[1].length, match[0].length - match[1].length);\n        let index = match.index + match[1].length;\n\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref\n        });\n\n        var num = match[2].toLowerCase() ;\n        if (util.INTEGER_WORDS[num] !== undefined) {\n            num = util.INTEGER_WORDS[num];\n        } else if (num === 'einer' || num === 'einem') {\n            num = 1;\n        } else if (num === 'einigen') {\n            num = 3;\n        } else if (/halben/.test(num)) {\n            num = 0.5;\n        } else {\n            num = parseInt(num);\n        }\n\n        var date = dayjs(ref);\n\n        if (/stunde|min|sekunde/i.test(match[3])) {\n            if (/stunde/i.test(match[3])) {\n\n                date = date.add(-num, 'hour');\n\n            } else if (/min/i.test(match[3])) {\n\n                date = date.add(-num, 'minute');\n\n            } else if (/sekunde/i.test(match[3])) {\n\n                date = date.add(-num, 'second');\n            }\n\n            result.start.imply('day', date.date());\n            result.start.imply('month', date.month() + 1);\n            result.start.imply('year', date.year());\n            result.start.assign('hour', date.hour());\n            result.start.assign('minute', date.minute());\n            result.start.assign('second', date.second());\n            result.tags['DETimeAgoFormatParser'] = true;\n            return result;\n        }\n\n        if (/woche/i.test(match[3])) {\n            date = date.add(-num, 'week');\n\n            result.start.imply('day', date.date());\n            result.start.imply('month', date.month() + 1);\n            result.start.imply('year', date.year());\n            result.start.imply('weekday', date.day());\n            return result;\n        }\n\n        if (/tag/i.test(match[3])) {\n            date = date.add(-num, 'd');\n        }\n\n        if (/monat/i.test(match[3])) {\n            date = date.add(-num, 'month');\n        }\n\n        if (/jahr/i.test(match[3])) {\n\n            date = date.add(-num, 'year');\n        }\n\n        result.start.assign('day', date.date());\n        result.start.assign('month', date.month() + 1);\n        result.start.assign('year', date.year());\n        return result;\n\n    };\n}\n","/*\n\n\n*/\n\nconst dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar ParsedComponents = require('../../result').ParsedComponents;\n\nvar FIRST_REG_PATTERN  = new RegExp(\"(^|\\\\s|T)\" +\n    \"(?:(?:um|von)\\\\s*)?\" +\n    \"(\\\\d{1,4}|mittags?|mitternachts?)\" +\n    \"(?:\" +\n        \"(?:\\\\.|\\\\:|\\\\：)(\\\\d{1,2})\" +\n        \"(?:\" +\n            \"(?:\\\\:|\\\\：)(\\\\d{2})\" +\n        \")?\" +\n    \")?\" +\n    \"(?:\\\\s*uhr)?\" +\n    \"(?:\\\\s*(morgens|vormittags|mittags|nachmittags|abends|nachts))?\" +\n    \"(?=\\\\W|$)\", 'i');\n\n\nvar SECOND_REG_PATTERN = new RegExp(\"^\\\\s*\" +\n    \"(\\\\-|\\\\–|\\\\~|\\\\〜|bis|\\\\?)\\\\s*\" +\n    \"(\\\\d{1,4})\" +\n    \"(?:\" +\n        \"(?:\\\\.|\\\\:|\\\\：)(\\\\d{1,2})\" +\n        \"(?:\" +\n            \"(?:\\\\.|\\\\:|\\\\：)(\\\\d{1,2})\" +\n        \")?\" +\n    \")?\" +\n    \"(?:\\\\s*(morgens|vormittags|mittags|nachmittags|abends|nachts))?\" +\n    \"(?=\\\\W|$)\", 'i');\n\nvar HOUR_GROUP    = 2;\nvar MINUTE_GROUP  = 3;\nvar SECOND_GROUP  = 4;\nvar AM_PM_HOUR_GROUP = 5;\n\n\nexports.Parser = function DETimeExpressionParser() {\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return FIRST_REG_PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n\n        // This pattern can be overlaped Ex. [12] AM, 1[2] AM\n        if (match.index > 0 && text[match.index-1].match(/\\w/)) return null;\n        var refMoment = dayjs(ref);\n        var result = new ParsedResult();\n        result.ref = ref;\n        result.index = match.index + match[1].length;\n        result.text  = match[0].substring(match[1].length);\n        result.tags['DETimeExpressionParser'] = true;\n\n        result.start.imply('day',   refMoment.date());\n        result.start.imply('month', refMoment.month()+1);\n        result.start.imply('year',  refMoment.year());\n\n        var hour = 0;\n        var minute = 0;\n        var meridiem = -1;\n\n        // ----- Second\n        if(match[SECOND_GROUP] != null){\n            var second = parseInt(match[SECOND_GROUP]);\n            if(second >= 60) return null;\n\n            result.start.assign('second', second);\n        }\n\n        // ----- Hours\n        if (/mittags?/i.test(match[HOUR_GROUP])) {\n            meridiem = 1;\n            hour = 12;\n        } else if (/mitternachts?/i.test(match[HOUR_GROUP])) {\n            meridiem = 0;\n            hour = 0;\n        } else {\n            hour = parseInt(match[HOUR_GROUP]);\n        }\n\n        // ----- Minutes\n        if(match[MINUTE_GROUP] != null){\n            minute = parseInt(match[MINUTE_GROUP]);\n        } else if(hour > 100) {\n            minute = hour%100;\n            hour   = parseInt(hour/100);\n        }\n\n        if(minute >= 60) {\n            return null;\n        }\n\n        if(hour > 24) {\n            return null;\n        }\n        if (hour >= 12) {\n            meridiem = 1;\n        }\n\n        // ----- AM & PM\n        if (match[AM_PM_HOUR_GROUP] != null) {\n            if (hour > 12) return null;\n            var ampm = match[AM_PM_HOUR_GROUP].toLowerCase();\n            if (ampm === 'morgens' || ampm === 'vormittags') {\n                meridiem = 0;\n                if(hour == 12) hour = 0;\n            } else {\n                meridiem = 1;\n                if(hour != 12) hour += 12;\n            }\n        }\n\n        result.start.assign('hour', hour);\n        result.start.assign('minute', minute);\n\n        if (meridiem >= 0) {\n            result.start.assign('meridiem', meridiem);\n        } else {\n            if (hour < 12) {\n                result.start.imply('meridiem', 0);\n            } else {\n                result.start.imply('meridiem', 1);\n            }\n        }\n\n        // ==============================================================\n        //                  Extracting the 'to' chunk\n        // ==============================================================\n        match = SECOND_REG_PATTERN.exec(text.substring(result.index + result.text.length));\n        if (!match) {\n            // Not accept number only result\n            if (result.text.match(/^\\d+$/)) {\n                return null;\n            }\n            return result;\n        }\n\n\n\n        // Pattern \"YY.YY -XXXX\" is more like timezone offset\n        if (match[0].match(/^\\s*(\\+|\\-)\\s*\\d{3,4}$/)) {\n            return result;\n        }\n\n        if(result.end == null){\n            result.end = new ParsedComponents(null, result.start.date());\n        }\n\n        var hour = 0;\n        var minute = 0;\n        var meridiem = -1;\n\n        // ----- Second\n        if(match[SECOND_GROUP] != null){\n            var second = parseInt(match[SECOND_GROUP]);\n            if(second >= 60) return null;\n\n            result.end.assign('second', second);\n        }\n\n        hour = parseInt(match[2]);\n\n        // ----- Minute\n        if (match[MINUTE_GROUP]!= null) {\n\n            minute = parseInt(match[MINUTE_GROUP]);\n            if(minute >= 60) return result;\n\n        } else if (hour > 100) {\n\n            minute = hour%100;\n            hour   = parseInt(hour/100);\n        }\n\n        if(minute >= 60) {\n            return null;\n        }\n\n        if(hour > 24) {\n            return null;\n        }\n        if (hour >= 12) {\n            meridiem = 1;\n        }\n\n        // ----- AM & PM\n        if (match[AM_PM_HOUR_GROUP] != null) {\n\n            if (hour > 12) return null;\n\n            var ampm = match[AM_PM_HOUR_GROUP].toLowerCase();\n            if (ampm === 'morgens' || ampm === 'vormittags') {\n                meridiem = 0;\n                if(hour == 12) {\n                    hour = 0;\n                    if (!result.end.isCertain('day')) {\n                        result.end.imply('day', result.end.get('day') + 1);\n                    }\n                }\n            } else {\n                meridiem = 1;\n                if(hour != 12) hour += 12;\n            }\n\n            if (!result.start.isCertain('meridiem')) {\n                if (meridiem == 0) {\n\n                    result.start.imply('meridiem', 0);\n\n                    if (result.start.get('hour') == 12) {\n                        result.start.assign('hour', 0);\n                    }\n\n                } else {\n\n                    result.start.imply('meridiem', 1);\n\n                    if (result.start.get('hour') != 12) {\n                        result.start.assign('hour', result.start.get('hour') + 12);\n                    }\n                }\n            }\n        }\n\n        result.text = result.text + match[0];\n        result.end.assign('hour', hour);\n        result.end.assign('minute', minute);\n        if (meridiem >= 0) {\n            result.end.assign('meridiem', meridiem);\n        } else {\n            var startAtPM = result.start.isCertain('meridiem') && result.start.get('meridiem') == 1;\n            if (startAtPM && result.start.get('hour') > hour) {\n                // 10pm - 1 (am)\n                result.end.imply('meridiem', 0);\n\n            } else if (hour > 12) {\n                result.end.imply('meridiem', 1);\n            }\n        }\n\n        if (result.end.date().getTime() < result.start.date().getTime()) {\n            result.end.imply('day', result.end.get('day') + 1)\n        }\n\n        return result;\n    }\n}\n","/*\n\n\n*/\nconst dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar DAYS_OFFSET = {\n    'sonntag': 0, 'so': 0,\n    'montag': 1, 'mo': 1,\n    'dienstag': 2, 'di': 2,\n    'mittwoch': 3, 'mi': 3,\n    'donnerstag': 4, 'do': 4,\n    'freitag': 5, 'fr': 5,\n    'samstag': 6, 'sa': 6\n};\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n    '(?:(?:\\\\,|\\\\(|\\\\（)\\\\s*)?' +\n    '(?:a[mn]\\\\s*?)?' +\n    '(?:(diese[mn]|letzte[mn]|n(?:ä|ae)chste[mn])\\\\s*)?' +\n    '(' + Object.keys(DAYS_OFFSET).join('|') + ')' +\n    '(?:\\\\s*(?:\\\\,|\\\\)|\\\\）))?' +\n    '(?:\\\\s*(diese|letzte|n(?:ä|ae)chste)\\\\s*woche)?' +\n    '(?=\\\\W|$)', 'i');\n\nvar PREFIX_GROUP = 2;\nvar WEEKDAY_GROUP = 3;\nvar POSTFIX_GROUP = 4;\n\nexports.Parser = function DEWeekdayParser() {\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; };\n\n    this.extract = function(text, ref, match, opt){\n        var index = match.index + match[1].length;\n        var text = match[0].substr(match[1].length, match[0].length - match[1].length);\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref,\n        });\n\n        var dayOfWeek = match[WEEKDAY_GROUP].toLowerCase();\n        var offset = DAYS_OFFSET[dayOfWeek];\n        if(offset === undefined) return null;\n\n        var startMoment = dayjs(ref);\n        var prefix = match[PREFIX_GROUP];\n        var postfix = match[POSTFIX_GROUP];\n\n        var refOffset = startMoment.day();\n        var norm = prefix || postfix;\n        norm = norm || '';\n        norm = norm.toLowerCase();\n        if (/letzte/.test(norm)) {\n            startMoment = startMoment.day(offset - 7);\n        } else if (/n(?:ä|ae)chste/.test(norm)) {\n            startMoment = startMoment.day(offset + 7);\n        } else if (/diese/.test(norm)) {\n            if ( opt.forwardDate && refOffset > offset ) {\n                startMoment = startMoment.day(offset + 7);\n            } else {\n                startMoment = startMoment.day(offset);\n            }\n        } else {\n            if ( opt.forwardDate && refOffset > offset ) {\n                startMoment = startMoment.day(offset + 7);\n            } else if (!opt.forwardDate && Math.abs(offset - 7 - refOffset) < Math.abs(offset - refOffset)) {\n                startMoment = startMoment.day(offset - 7);\n            } else if (!opt.forwardDate && Math.abs(offset + 7 - refOffset) < Math.abs(offset - refOffset)) {\n                startMoment = startMoment.day(offset + 7);\n            } else {\n                startMoment = startMoment.day(offset);\n            }\n        }\n\n        result.start.assign('weekday', offset);\n        result.start.imply('day', startMoment.date());\n        result.start.imply('month', startMoment.month() + 1);\n        result.start.imply('year', startMoment.year());\n        return result;\n    }\n};\n","var dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = new RegExp(\n    '(\\\\W|^)(' +\n        'jetzt|' +\n        '(?:heute|diesen)\\\\s*(morgen|vormittag|mittag|nachmittag|abend)|' +\n        '(?:heute|diese)\\\\s*nacht|' +\n        'heute|' +\n        '(?:(?:ü|ue)ber)?morgen(?:\\\\s*(morgen|vormittag|mittag|nachmittag|abend|nacht))?|' +\n        '(?:vor)?gestern(?:\\\\s*(morgen|vormittag|mittag|nachmittag|abend|nacht))?|' +\n        'letzte\\\\s*nacht' +\n    ')(?=\\\\W|$)', 'i');\n\nexports.Parser = function DECasualDateParser() {\n\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt) {\n        text = match[0].substr(match[1].length);\n        \n        const index = match.index + match[1].length;\n        const result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref,\n        });\n\n        const refMoment = dayjs(ref);\n        const lowerText = text.toLowerCase();\n\n        var startMoment = refMoment;\n\n        if (/(?:heute|diese)\\s*nacht/.test(lowerText)) {\n            // Normally means this coming midnight\n            result.start.imply('hour', 22);\n            result.start.imply('meridiem', 1);\n        } else if (/^(?:ü|ue)bermorgen/.test(lowerText)) {\n            startMoment = startMoment.add(refMoment.hour() > 1 ? 2 : 1, 'day');\n        } else if (/^morgen/.test(lowerText)) {\n            // Check not \"Tomorrow\" on late night\n            if (refMoment.hour() > 1) {\n                startMoment = startMoment.add(1, 'day');\n            }\n        } else if (/^gestern/.test(lowerText)) {\n            startMoment = startMoment.add(-1, 'day');\n        } else if (/^vorgestern/.test(lowerText)) {\n            startMoment = startMoment.add(-2, 'day');\n        } else if (/letzte\\s*nacht/.test(lowerText)) {\n            result.start.imply('hour', 0);\n            if (refMoment.hour() > 6) {\n                startMoment = startMoment.add(-1, 'day');\n            }\n        } else if (lowerText === 'jetzt') {\n            result.start.imply('hour', refMoment.hour());\n            result.start.imply('minute', refMoment.minute());\n            result.start.imply('second', refMoment.second());\n            result.start.imply('millisecond', refMoment.millisecond());\n        }\n\n        var secondMatch = match[3] || match[4] || match[5];\n        if (secondMatch) {\n            switch (secondMatch.toLowerCase()) {\n                case 'morgen':\n                    result.start.imply('hour', 6);\n                    break;\n                case 'vormittag':\n                    result.start.imply('hour', 9);\n                    break;\n                case 'mittag':\n                    result.start.imply('hour', 12);\n                    break;\n                case 'nachmittag':\n                    result.start.imply('hour', 15);\n                    result.start.imply('meridiem', 1);\n                    break;\n                case 'abend':\n                    result.start.imply('hour', 18);\n                    result.start.imply('meridiem', 1);\n                    break;\n                case 'nacht':\n                    result.start.imply('hour', 0);\n                    break;\n            }\n        }\n\n        result.start.assign('day', startMoment.date())\n        result.start.assign('month', startMoment.month() + 1)\n        result.start.assign('year', startMoment.year())\n        result.tags['DECasualDateParser'] = true;\n        return result;\n    }\n}\n","/*\n\n    The parser for parsing month name and year.\n\n    EX.\n        - januari\n        - januari 2012\n        - januari, 2012\n*/\nvar parser = require('../parser');\nvar ParsedResult = require('../../result').ParsedResult;\nvar util  = require('../../utils/NL');\n\nvar PATTERN = new RegExp('(^|\\\\D\\\\s+|[^\\\\w\\\\s])' +\n    '('+ util.MONTH_PATTERN +')' +\n    '\\\\s*' +\n    '(?:' +\n    '[,-]?\\\\s*([0-9]{4})(\\\\s*BE|n\\.Chr\\.|v\\.Chr\\.)?' +\n    ')?' +\n    '(?=[^\\\\s\\\\w]|\\\\s+[^0-9]|\\\\s+$|$)', 'i');\n\nvar MONTH_NAME_GROUP = 2;\nvar YEAR_GROUP = 3;\nvar YEAR_BE_GROUP = 4;\n\nexports.Parser = function ENMonthNameParser(){\n    parser.Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n        const result = new ParsedResult({\n            text: match[0].substr(match[1].length, match[0].length - match[1].length),\n            index: match.index + match[1].length,\n            ref: ref,\n        });\n\n        const day = 1;\n        const monthName = match[MONTH_NAME_GROUP];\n        const month = util.MONTH_OFFSET[monthName.toLowerCase()];\n\n        var year = null;\n        if (match[YEAR_GROUP]) {\n            year = match[YEAR_GROUP];\n            year = parseInt(year);\n\n            if(match[YEAR_BE_GROUP]){\n                if (match[YEAR_BE_GROUP].match(/BE/)) {\n                    // Buddhist Era\n                    year = year - 543;\n                } else if (match[YEAR_BE_GROUP].match(/v\\.Chr\\./)) {\n                    // Before Christ\n                    year = -year;\n                }\n\n            } else if (year < 100){\n\n                year = year + 2000;\n            }\n        }\n\n        if(year){\n            result.start.imply('day', day);\n            result.start.assign('month', month);\n            result.start.assign('year', year);\n        } else {\n            year = parser.findYearClosestToRef(ref, day, month)\n            result.start.imply('day', day);\n            result.start.assign('month', month);\n            result.start.imply('year', year);\n        }\n\n        if (result.text.match(/^\\w{3}$/)) {\n            return false;\n        }\n\n        result.tags['NLMonthNameParser'] = true;\n        return result;\n    }\n}\n","const parser = require('../parser');\nvar ParsedResult = require('../../result').ParsedResult;\nvar util  = require('../../utils/NL');\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n        '(?:op\\\\s*?)?' +\n        '(?:'+ '(' + util.WEEKDAY_PATTERN + ')' + '\\\\s*,?\\\\s*)?' +\n        '([0-9]{1,2})\\.?' +\n        '(?:\\\\s*(?:tot|\\\\-|\\\\–|tot en met|t\\\\/m)\\\\s*([0-9]{1,2})\\.?)?\\\\s*' +\n        '(' + util.MONTH_PATTERN + ')' +\n        '(?:' +\n            '(?:-|\\/|,?\\\\s*)' +\n            '((?:' +\n                '[1-9][0-9]{0,3}\\\\s*(?:BE|n\\.Chr\\.|v\\.Chr\\.)|' +\n                '[1-2][0-9]{3}|' +\n                '[5-9][0-9]' +\n            ')(?![^\\\\s]\\\\d))' +\n        ')?' +\n        '(?=\\\\W|$)', 'i'\n    );\nvar WEEKDAY_GROUP = 2;\nvar DATE_GROUP = 3;\nvar DATE_TO_GROUP = 4;\nvar MONTH_NAME_GROUP = 5;\nvar YEAR_GROUP = 6;\n\nexports.Parser = function ENMonthNameLittleEndianParser(){\n    parser.Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; };\n\n    this.extract = function(text, ref, match, opt){\n\n        var result = new ParsedResult({\n            text: match[0].substr(match[1].length, match[0].length - match[1].length),\n            index: match.index + match[1].length,\n            ref: ref\n        });\n\n        var month = match[MONTH_NAME_GROUP];\n        month = util.MONTH_OFFSET[month.toLowerCase()];\n\n        var day = match[DATE_GROUP];\n        day = parseInt(day);\n\n        var year = null;\n        if (match[YEAR_GROUP]) {\n            year = match[YEAR_GROUP];\n\n            if (/BE/i.test(year)) {\n                // Buddhist Era\n                year = year.replace(/BE/i, '');\n                year = parseInt(year) - 543;\n            } else if (/v\\.Chr\\./i.test(year)){\n                // Before Christ\n                year = year.replace(/v\\.Chr\\./i, '');\n                year = -parseInt(year);\n            } else if (/n\\.Chr\\./i.test(year)){\n                year = year.replace(/n\\.Chr\\./i, '');\n                year = parseInt(year);\n            } else {\n                year = parseInt(year);\n                if (year < 100){\n                    if (year > 50) {\n                        year = year + 1900;\n                    } else {\n                        year = year + 2000;\n                    }\n                }\n            }\n        }\n\n        if(year){\n            result.start.assign('day', day);\n            result.start.assign('month', month);\n            result.start.assign('year', year);\n        } else {\n            year = parser.findYearClosestToRef(ref, day, month);\n            result.start.assign('day', day);\n            result.start.assign('month', month);\n            result.start.imply('year', year);\n        }\n\n        // Weekday component\n        if (match[WEEKDAY_GROUP]) {\n            var weekday = match[WEEKDAY_GROUP];\n            weekday = util.WEEKDAY_OFFSET[weekday.toLowerCase()];\n            result.start.assign('weekday', weekday);\n        }\n\n        // Text can be 'range' value. Such as '12 - 13 januari 2012'\n        if (match[DATE_TO_GROUP]) {\n            var endDate = parseInt(match[DATE_TO_GROUP]);\n            result.end = result.start.clone();\n            result.end.assign('day', endDate);\n        }\n\n        result.tags['NLMonthNameLittleEndianParser'] = true;\n        return result;\n    };\n};\n","/*\n    Date format with slash \"/\" (also \"-\" and \".\") between numbers\n    - dinsdag 11/3/2015\n    - 11/3/2015\n    - 11/3\n    - dinsdag 11.mrt.15\n*/\nvar dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar util  = require('../../utils/NL');\n\nvar PATTERN = new RegExp(\n    '(\\\\W|^)' +\n    '(?:' +\n        '(?:op\\\\s*?)?' +\n        '(' + util.WEEKDAY_PATTERN + ')' +\n        '\\\\s*\\\\,?\\\\s*' +\n        '(?:de\\\\s*)?' +\n    ')?' +\n    '([0-3]{0,1}[0-9]{1})[\\\\/\\\\.\\\\-]([0-1]{0,1}[0-9]{1}|' +\n    util.MONTH_PATTERN +\n    ')' +\n    '(?:' +\n        '[\\\\/\\\\.\\\\-]' +\n        '([0-9]{4}\\s*\\,?\\s*|[0-9]{2}\\s*\\,?\\s*)' +\n    ')?' +\n    '(\\\\W|$)', 'i');\n\nvar OPENNING_GROUP = 1;\nvar ENDING_GROUP = 6;\n\nvar WEEKDAY_GROUP = 2;\nvar DAY_GROUP = 3;\nvar MONTH_GROUP = 4;\nvar YEAR_GROUP = 5;\n\nexports.Parser = function DESlashDateFormatParser(argument) {\n    Parser.apply(this, arguments);\n\n    this.pattern = function () { return PATTERN; };\n    this.extract = function(text, ref, match, opt){\n\n        if(match[OPENNING_GROUP] == '/' || match[ENDING_GROUP] == '/') {\n            // Long skip, if there is some overlapping like:\n            // XX[/YY/ZZ]\n            // [XX/YY/]ZZ\n            match.index += match[0].length\n            return;\n        }\n\n        var index = match.index + match[OPENNING_GROUP].length;\n        var text = match[0].substr(match[OPENNING_GROUP].length, match[0].length - match[ENDING_GROUP].length);\n\n\n        let result = new ParsedResult({\n            text: text,\n            index: index,\n            ref: ref,\n        });\n\n        if(text.match(/^\\d\\.\\d$/)) return;\n        if(text.match(/^\\d\\.\\d{1,2}\\.\\d{1,2}$/)) return;\n\n        // MM/dd -> OK\n        // MM.dd -> NG\n        if(!match[YEAR_GROUP] && match[0].indexOf('/') < 0) return;\n\n        let year = match[YEAR_GROUP] || dayjs(ref).year() + '';\n        let month = match[MONTH_GROUP];\n        let day   = match[DAY_GROUP];\n\n        month = parseInt(month);\n        if(!month) {\n            month = util.MONTH_OFFSET[match[MONTH_GROUP].trim().toLowerCase()];\n        }\n        day  = parseInt(day);\n        year = parseInt(year);\n\n        if (month < 1 || month > 12) return null;\n        if(day < 1 || day > 31) return null;\n\n        if(year < 100){\n            if (year > 50) {\n                year = year + 1900;\n            } else {\n                year = year + 2000;\n            }\n        }\n\n        result.start.assign('day', day);\n        result.start.assign('month', month);\n        result.start.assign('year', year);\n\n        //Day of week\n        if(match[WEEKDAY_GROUP]) {\n            result.start.assign('weekday', util.WEEKDAY_OFFSET[match[WEEKDAY_GROUP].toLowerCase()]);\n        }\n\n        result.tags['NLSlashDateFormatParser'] = true;\n        return result;\n    };\n};\n","const dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar DAYS_OFFSET = {\n    'zondag': 0, 'zo': 0,\n    'maandag': 1, 'ma': 1,\n    'dinsdag': 2, 'di': 2,\n    'woensdag': 3, 'wo': 3,\n    'donderdag': 4, 'do': 4,\n    'vrijdag': 5, 'vr': 5,\n    'zaterdag': 6, 'za': 6\n};\n\nvar PATTERN = new RegExp('(\\\\W|^)' +\n    '(?:(?:\\\\,|\\\\(|\\\\（)\\\\s*)?' +\n    '(?:on\\\\s*?)?' +\n    '(?:(deze|afgelopen|vorige|volgende|komende)\\\\s*(?:week)?\\\\s*)?' +\n    '(' + Object.keys(DAYS_OFFSET).join('|') + ')' +\n    '(?:\\\\s*(?:\\\\,|\\\\)|\\\\）))?' +\n    '(?:\\\\s*(deze|afgelopen|vorige|volgende|komende)\\\\s*week)?' +\n    '(?=\\\\W|$)', 'i');\n\nvar PREFIX_GROUP = 2;\nvar WEEKDAY_GROUP = 3;\nvar POSTFIX_GROUP = 4;\n\n\nexports.updateParsedComponent = function updateParsedComponent(result, ref, offset, modifier) {\n\n    var startMoment = dayjs(ref);\n    var startMomentFixed = false;\n    var refOffset = startMoment.day();\n\n    if(modifier == 'afgelopen' || modifier == 'vorige') {\n        startMoment =startMoment.day(offset - 7);\n        startMomentFixed = true;\n    } else if(modifier == 'volgende') {\n        startMoment = startMoment.day(offset + 7);\n        startMomentFixed = true;\n    } else if(modifier == 'deze' || modifier == 'komende') {\n        startMoment = startMoment.day(offset);\n    } else {\n        if (Math.abs(offset - 7 - refOffset) < Math.abs(offset - refOffset)) {\n            startMoment = startMoment.day(offset - 7);\n        } else if (Math.abs(offset + 7 - refOffset) < Math.abs(offset - refOffset)) {\n            startMoment = startMoment.day(offset + 7);\n        } else {\n            startMoment = startMoment.day(offset);\n        }\n    }\n\n    result.start.assign('weekday', offset);\n    if (startMomentFixed) {\n        result.start.assign('day', startMoment.date());\n        result.start.assign('month', startMoment.month() + 1);\n        result.start.assign('year', startMoment.year());\n    } else {\n        result.start.imply('day', startMoment.date());\n        result.start.imply('month', startMoment.month() + 1);\n        result.start.imply('year', startMoment.year());\n    }\n\n    return result;\n};\n\n\nexports.Parser = function NLWeekdayParser() {\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; };\n\n    this.extract = function(text, ref, match, opt){\n        var index = match.index + match[1].length;\n        var text = match[0].substr(match[1].length, match[0].length - match[1].length);\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref\n        });\n\n        var dayOfWeek = match[WEEKDAY_GROUP].toLowerCase();\n        var offset = DAYS_OFFSET[dayOfWeek];\n        if(offset === undefined) {\n            return null;\n        }\n\n        var prefix = match[PREFIX_GROUP];\n        var postfix = match[POSTFIX_GROUP];\n        var norm = prefix || postfix;\n        norm = norm || '';\n        norm = norm.toLowerCase();\n\n        exports.updateParsedComponent(result, ref, offset, norm);\n        result.tags['NLWeekdayParser'] = true;\n\n        return result;\n    }\n};\n","/*\n\n\n*/\n\nconst dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\nvar ParsedComponents = require('../../result').ParsedComponents;\n\nvar FIRST_REG_PATTERN  = new RegExp(\"(^|\\\\s|T)\" +\n    \"(?:(?:om|van)\\\\s*)?\" +\n    \"(\\\\d{1,4}|tussen de middag|middernachts?)\" +\n    \"(?:\" +\n        \"(?:\\\\.|\\\\:|\\\\：)(\\\\d{1,2})\" +\n        \"(?:\" +\n            \"(?:\\\\:|\\\\：)(\\\\d{2})\" +\n        \")?\" +\n    \")?\" +\n    \"(?:\\\\s*uur)?\" +\n    \"(?:\\\\s*(\\'s morgens|\\'s ochtends|in de ochtend|\\'s middags|in de middag|\\'s avonds|in de avond|\\'s nachts))?\" +\n    \"(?=\\\\W|$)\", 'i');\n\n\nvar SECOND_REG_PATTERN = new RegExp(\"^\\\\s*\" +\n    \"(\\\\-|\\\\–|\\\\~|\\\\〜|tot|\\\\?)\\\\s*\" +\n    \"(\\\\d{1,4})\" +\n    \"(?:\" +\n        \"(?:\\\\.|\\\\:|\\\\：)(\\\\d{1,2})\" +\n        \"(?:\" +\n            \"(?:\\\\.|\\\\:|\\\\：)(\\\\d{1,2})\" +\n        \")?\" +\n    \")?\" +\n    \"(?:\\\\s*(\\'s morgens|\\'s ochtends|in de ochtend|\\'s middags|in de middag|\\'s avonds|in de avond|\\'s nachts))?\" +\n    \"(?=\\\\W|$)\", 'i');\n\nvar HOUR_GROUP    = 2;\nvar MINUTE_GROUP  = 3;\nvar SECOND_GROUP  = 4;\nvar AM_PM_HOUR_GROUP = 5;\n\n\nexports.Parser = function NLTimeExpressionParser() {\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return FIRST_REG_PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n\n        // This pattern can be overlaped Ex. [12] AM, 1[2] AM\n        if (match.index > 0 && text[match.index-1].match(/\\w/)) return null;\n        var refMoment = dayjs(ref);\n        var result = new ParsedResult();\n        result.ref = ref;\n        result.index = match.index + match[1].length;\n        result.text  = match[0].substring(match[1].length);\n        result.tags['NLTimeExpressionParser'] = true;\n\n        result.start.imply('day',   refMoment.date());\n        result.start.imply('month', refMoment.month()+1);\n        result.start.imply('year',  refMoment.year());\n\n        var hour = 0;\n        var minute = 0;\n        var meridiem = -1;\n\n        // ----- Second\n        if(match[SECOND_GROUP] != null){\n            var second = parseInt(match[SECOND_GROUP]);\n            if(second >= 60) return null;\n\n            result.start.assign('second', second);\n        }\n\n        // ----- Hours\n        if (/tussen de middag/i.test(match[HOUR_GROUP])) {\n            meridiem = 1;\n            hour = 12;\n        } else if (/middernachts?/i.test(match[HOUR_GROUP])) {\n            meridiem = 0;\n            hour = 0;\n        } else {\n            hour = parseInt(match[HOUR_GROUP]);\n        }\n\n        // ----- Minutes\n        if(match[MINUTE_GROUP] != null){\n            minute = parseInt(match[MINUTE_GROUP]);\n        } else if(hour > 100) {\n            minute = hour%100;\n            hour   = parseInt(hour/100);\n        }\n\n        if(minute >= 60) {\n            return null;\n        }\n\n        if(hour > 24) {\n            return null;\n        }\n        if (hour >= 12) {\n            meridiem = 1;\n        }\n\n        // ----- AM & PM\n        if (match[AM_PM_HOUR_GROUP] != null) {\n            if (hour > 12) return null;\n            var ampm = match[AM_PM_HOUR_GROUP].toLowerCase();\n            if (ampm === \"'s ochtends\" ||  ampm === 'in de ochtend' || ampm === \"'s morgens\") {\n                meridiem = 0;\n                if(hour == 12) hour = 0;\n            } else {\n                meridiem = 1;\n                if(hour != 12) hour += 12;\n            }\n        }\n\n        result.start.assign('hour', hour);\n        result.start.assign('minute', minute);\n\n        if (meridiem >= 0) {\n            result.start.assign('meridiem', meridiem);\n        } else {\n            if (hour < 12) {\n                result.start.imply('meridiem', 0);\n            } else {\n                result.start.imply('meridiem', 1);\n            }\n        }\n\n        // ==============================================================\n        //                  Extracting the 'to' chunk\n        // ==============================================================\n        match = SECOND_REG_PATTERN.exec(text.substring(result.index + result.text.length));\n        if (!match) {\n            // Not accept number only result\n            if (result.text.match(/^\\d+$/)) {\n                return null;\n            }\n            return result;\n        }\n\n\n\n        // Pattern \"YY.YY -XXXX\" is more like timezone offset\n        if (match[0].match(/^\\s*(\\+|\\-)\\s*\\d{3,4}$/)) {\n            return result;\n        }\n\n        if(result.end == null){\n            result.end = new ParsedComponents(null, result.start.date());\n        }\n\n        var hour = 0;\n        var minute = 0;\n        var meridiem = -1;\n\n        // ----- Second\n        if(match[SECOND_GROUP] != null){\n            var second = parseInt(match[SECOND_GROUP]);\n            if(second >= 60) return null;\n\n            result.end.assign('second', second);\n        }\n\n        hour = parseInt(match[2]);\n\n        // ----- Minute\n        if (match[MINUTE_GROUP]!= null) {\n\n            minute = parseInt(match[MINUTE_GROUP]);\n            if(minute >= 60) return result;\n\n        } else if (hour > 100) {\n\n            minute = hour%100;\n            hour   = parseInt(hour/100);\n        }\n\n        if(minute >= 60) {\n            return null;\n        }\n\n        if(hour > 24) {\n            return null;\n        }\n        if (hour >= 12) {\n            meridiem = 1;\n        }\n\n        // ----- AM & PM\n        if (match[AM_PM_HOUR_GROUP] != null) {\n\n            if (hour > 12) return null;\n\n            var ampm = match[AM_PM_HOUR_GROUP].toLowerCase();\n            if (ampm === '\\'s ochtends' ||  ampm === 'in de ochtend' || ampm === '\\'s morgens') {\n                meridiem = 0;\n                if(hour == 12) {\n                    hour = 0;\n                    if (!result.end.isCertain('day')) {\n                        result.end.imply('day', result.end.get('day') + 1);\n                    }\n                }\n            } else {\n                meridiem = 1;\n                if(hour != 12) hour += 12;\n            }\n\n            if (!result.start.isCertain('meridiem')) {\n                if (meridiem == 0) {\n\n                    result.start.imply('meridiem', 0);\n\n                    if (result.start.get('hour') == 12) {\n                        result.start.assign('hour', 0);\n                    }\n\n                } else {\n\n                    result.start.imply('meridiem', 1);\n\n                    if (result.start.get('hour') != 12) {\n                        result.start.assign('hour', result.start.get('hour') + 12);\n                    }\n                }\n            }\n        }\n\n        result.text = result.text + match[0];\n        result.end.assign('hour', hour);\n        result.end.assign('minute', minute);\n        if (meridiem >= 0) {\n            result.end.assign('meridiem', meridiem);\n        } else {\n            var startAtPM = result.start.isCertain('meridiem') && result.start.get('meridiem') == 1;\n            if (startAtPM && result.start.get('hour') > hour) {\n                // 10pm - 1 (am)\n                result.end.imply('meridiem', 0);\n\n            } else if (hour > 12) {\n                result.end.imply('meridiem', 1);\n            }\n        }\n\n        if (result.end.date().getTime() < result.start.date().getTime()) {\n            result.end.imply('day', result.end.get('day') + 1)\n        }\n\n        return result;\n    }\n}\n","var dayjs = require('dayjs');\nvar Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = new RegExp(\n    '(\\\\W|^)(' +\n        'nu|' +\n        'vroeg in de ochtend|'+\n        '(?:van|deze)\\\\s*(morgen|ochtend|middag|avond)|' +\n        '\\'s morgens|\\'s ochtends|tussen de middag|\\'s middags|\\'s avonds|'+\n        '(?:deze|van)\\\\s*nacht|' +\n        'vandaag|' +\n        '(?:over)?morgen(?:\\\\s*(ochtend|middag|avond|nacht))?|' +\n        '(?:eer)?gister(?:\\\\s*(ochtend|middag|avond|nacht))?|' +\n        'afgelopen\\\\s*nacht' +\n    ')(?=\\\\W|$)', 'i');\n\nexports.Parser = function DECasualDateParser() {\n\n    Parser.apply(this, arguments);\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt) {\n        text = match[0].substr(match[1].length);\n\n        const index = match.index + match[1].length;\n        const result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref,\n        });\n\n        const refMoment = dayjs(ref);\n        const lowerText = text.toLowerCase();\n\n        var startMoment = refMoment;\n\n        if (/(?:van|deze)\\s*nacht/.test(lowerText)) {\n            // Normally means this coming midnight\n            result.start.imply('hour', 22);\n            result.start.imply('meridiem', 1);\n        } else if (/^overmorgen/.test(lowerText)) {\n            startMoment = startMoment.add(refMoment.hour() > 1 ? 2 : 1, 'day');\n        } else if (/^morgen/.test(lowerText)) {\n            // Check not \"Tomorrow\" on late night\n            if (refMoment.hour() > 1) {\n                startMoment = startMoment.add(1, 'day');\n            }\n        } else if (/^gisteren/.test(lowerText)) {\n            startMoment = startMoment.add(-1, 'day');\n        } else if (/^eergisteren/.test(lowerText)) {\n            startMoment = startMoment.add(-2, 'day');\n        } else if (/afgelopen\\s*nacht/.test(lowerText)) {\n            result.start.imply('hour', 0);\n            if (refMoment.hour() > 6) {\n                startMoment = startMoment.add(-1, 'day');\n            }\n        } else if (lowerText === 'nu') {\n            result.start.imply('hour', refMoment.hour());\n            result.start.imply('minute', refMoment.minute());\n            result.start.imply('second', refMoment.second());\n            result.start.imply('millisecond', refMoment.millisecond());\n        }\n\n        var secondMatch = match[3] || match[4] || match[5];\n        if (secondMatch) {\n            switch (secondMatch.toLowerCase()) {\n                case 'vroeg in de ochtend':\n                    result.start.imply('hour', 6);\n                    break;\n                case 'ochtend':\n                case 'morgen':\n                case '\\'s ochtends':\n                case '\\'s morgends':\n                    result.start.imply('hour', 9);\n                    break;\n                case 'tussen de middag':\n                    result.start.imply('hour', 12);\n                    break;\n                case 'middag':\n                case 'in de middag':\n                case '\\'s middags':\n                    result.start.imply('hour', 15);\n                    result.start.imply('meridiem', 1);\n                    break;\n                case 'avond':\n                case \"'s avonds\":\n                    result.start.imply('hour', 18);\n                    result.start.imply('meridiem', 1);\n                    break;\n                case 'nacht':\n                case \"'s nachts\":\n                    result.start.imply('hour', 0);\n                    break;\n            }\n        }\n\n        result.start.assign('day', startMoment.date());\n        result.start.assign('month', startMoment.month() + 1);\n        result.start.assign('year', startMoment.year());\n        result.tags['NLCasualDateParser'] = true;\n        return result;\n    }\n}\n","var Parser = require('../parser').Parser;\nvar ParsedResult = require('../../result').ParsedResult;\n\nvar PATTERN = /(\\W|^)((deze)?\\s*('s morgens|'s ochtends|in de ochtend|'s middags|in de middag|'s avonds|in de avond|'s nachts|ochtend|tussen de middag|middag|avond|nacht))/i;\n\nvar TIME_MATCH = 4;\n\nexports.Parser = function ENCasualTimeParser(){\n\n    Parser.apply(this, arguments);\n\n\n    this.pattern = function() { return PATTERN; }\n\n    this.extract = function(text, ref, match, opt){\n\n        var text = match[0].substr(match[1].length);\n        var index = match.index + match[1].length;\n        var result = new ParsedResult({\n            index: index,\n            text: text,\n            ref: ref,\n        });\n\n        if(!match[TIME_MATCH]) TIME_MATCH = 3;\n\n        switch (match[TIME_MATCH].toLowerCase()) {\n            case 'middag':\n            case 'in de middag':\n            case '\\'s middags':\n                result.start.imply('meridiem', 1);\n                result.start.imply('hour', 15);\n                break;\n\n            case 'avond':\n            case 'in de avond':\n            case '\\'s avonds':\n                result.start.imply('meridiem', 1);\n                result.start.imply('hour', 20);\n                break;\n\n            case 'middernacht':\n            case 'nacht':\n            case '\\'s nachts':\n                result.start.imply('meridiem', 0);\n                result.start.imply('hour', 0);\n                break;\n\n            case 'ochtend':\n            case '\\s morgens':\n            case '\\s ochtends':\n            case 'in de ochtend':\n                result.start.imply('meridiem', 0);\n                result.start.imply('hour', 9);\n                break;\n\n            case 'tussen de middag':\n                result.start.imply('meridiem', 0);\n                result.start.imply('hour', 12);\n                break;\n        }\n\n        result.tags['NLCasualTimeParser'] = true;\n        return result;\n    };\n};\n","/*\n  \n*/\nvar Refiner = require('./refiner').Refiner;\n\nexports.Refiner = function OverlapRemovalRefiner() {\n\tRefiner.call(this);\n\t\n\n\tthis.refine = function(text, results, opt) { \n\n        if (results.length < 2) return results;\n        \n        var filteredResults = [];\n        var prevResult = results[0];\n        \n        for (var i=1; i<results.length; i++){\n            \n            var result = results[i];\n            \n            // If overlap, compare the length and discard the shorter one\n            if (result.index < prevResult.index + prevResult.text.length) {\n\n                if (result.text.length > prevResult.text.length){\n                    prevResult = result;\n                }\n                \n            } else {\n                filteredResults.push(prevResult);\n                prevResult = result;\n            }\n        }\n        \n        // The last one\n        if (prevResult != null) {\n            filteredResults.push(prevResult);\n        }\n\n        return filteredResults;\n    }\n}","/*\n  \n*/\nvar Refiner = require('./refiner').Refiner;\n\n\nvar TIMEZONE_OFFSET_PATTERN = new RegExp(\"^\\\\s*(GMT|UTC)?(\\\\+|\\\\-)(\\\\d{1,2}):?(\\\\d{2})\", 'i');\nvar TIMEZONE_OFFSET_SIGN_GROUP = 2;\nvar TIMEZONE_OFFSET_HOUR_OFFSET_GROUP = 3;\nvar TIMEZONE_OFFSET_MINUTE_OFFSET_GROUP = 4;\n\nexports.Refiner = function ExtractTimezoneOffsetRefiner() {\n    Refiner.call(this);\n\n    this.refine = function(text, results, opt) {\n\n        results.forEach(function(result) {\n\n            if (result.start.isCertain('timezoneOffset')) {\n                return;\n            }\n\n            var match = TIMEZONE_OFFSET_PATTERN.exec(text.substring(result.index + result.text.length));\n            if (!match) {\n                return;\n            }\n\n            var hourOffset = parseInt(match[TIMEZONE_OFFSET_HOUR_OFFSET_GROUP]);\n            var minuteOffset = parseInt(match[TIMEZONE_OFFSET_MINUTE_OFFSET_GROUP]);\n            var timezoneOffset = hourOffset * 60 + minuteOffset;\n            if (match[TIMEZONE_OFFSET_SIGN_GROUP] === '-') {\n                timezoneOffset = -timezoneOffset;\n            }\n\n            if (result.end != null) {\n                result.end.assign('timezoneOffset', timezoneOffset);\n            }\n\n            result.start.assign('timezoneOffset', timezoneOffset);\n            result.text += match[0];\n            result.tags['ExtractTimezoneOffsetRefiner'] = true;\n        });\n\n        return results;\n    }\n}\n","/*\n\n*/\nvar Refiner = require('./refiner').Refiner;\n\n// Map ABBR -> Offset in minute\nvar TIMEZONE_NAME_PATTERN = new RegExp(\"^\\\\s*\\\\(?([A-Z]{2,4})\\\\)?(?=\\\\W|$)\", 'i');\nvar DEFAULT_TIMEZONE_ABBR_MAP = {\n    \"ACDT\":630,\"ACST\":570,\"ADT\":-180,\"AEDT\":660,\"AEST\":600,\"AFT\":270,\"AKDT\":-480,\"AKST\":-540,\"ALMT\":360,\"AMST\":-180,\"AMT\":-240,\"ANAST\":720,\"ANAT\":720,\"AQTT\":300,\"ART\":-180,\"AST\":-240,\"AWDT\":540,\"AWST\":480,\"AZOST\":0,\"AZOT\":-60,\"AZST\":300,\"AZT\":240,\"BNT\":480,\"BOT\":-240,\"BRST\":-120,\"BRT\":-180,\"BST\":60,\"BTT\":360,\"CAST\":480,\"CAT\":120,\"CCT\":390,\"CDT\":-300,\"CEST\":120,\"CET\":60,\"CHADT\":825,\"CHAST\":765,\"CKT\":-600,\"CLST\":-180,\"CLT\":-240,\"COT\":-300,\"CST\":-360,\"CVT\":-60,\"CXT\":420,\"ChST\":600,\"DAVT\":420,\"EASST\":-300,\"EAST\":-360,\"EAT\":180,\"ECT\":-300,\"EDT\":-240,\"EEST\":180,\"EET\":120,\"EGST\":0,\"EGT\":-60,\"EST\":-300,\"ET\":-300,\"FJST\":780,\"FJT\":720,\"FKST\":-180,\"FKT\":-240,\"FNT\":-120,\"GALT\":-360,\"GAMT\":-540,\"GET\":240,\"GFT\":-180,\"GILT\":720,\"GMT\":0,\"GST\":240,\"GYT\":-240,\"HAA\":-180,\"HAC\":-300,\"HADT\":-540,\"HAE\":-240,\"HAP\":-420,\"HAR\":-360,\"HAST\":-600,\"HAT\":-90,\"HAY\":-480,\"HKT\":480,\"HLV\":-210,\"HNA\":-240,\"HNC\":-360,\"HNE\":-300,\"HNP\":-480,\"HNR\":-420,\"HNT\":-150,\"HNY\":-540,\"HOVT\":420,\"ICT\":420,\"IDT\":180,\"IOT\":360,\"IRDT\":270,\"IRKST\":540,\"IRKT\":540,\"IRST\":210,\"IST\":330,\"JST\":540,\"KGT\":360,\"KRAST\":480,\"KRAT\":480,\"KST\":540,\"KUYT\":240,\"LHDT\":660,\"LHST\":630,\"LINT\":840,\"MAGST\":720,\"MAGT\":720,\"MART\":-510,\"MAWT\":300,\"MDT\":-360,\"MESZ\":120,\"MEZ\":60,\"MHT\":720,\"MMT\":390,\"MSD\":240,\"MSK\":240,\"MST\":-420,\"MUT\":240,\"MVT\":300,\"MYT\":480,\"NCT\":660,\"NDT\":-90,\"NFT\":690,\"NOVST\":420,\"NOVT\":360,\"NPT\":345,\"NST\":-150,\"NUT\":-660,\"NZDT\":780,\"NZST\":720,\"OMSST\":420,\"OMST\":420,\"PDT\":-420,\"PET\":-300,\"PETST\":720,\"PETT\":720,\"PGT\":600,\"PHOT\":780,\"PHT\":480,\"PKT\":300,\"PMDT\":-120,\"PMST\":-180,\"PONT\":660,\"PST\":-480,\"PT\":-480,\"PWT\":540,\"PYST\":-180,\"PYT\":-240,\"RET\":240,\"SAMT\":240,\"SAST\":120,\"SBT\":660,\"SCT\":240,\"SGT\":480,\"SRT\":-180,\"SST\":-660,\"TAHT\":-600,\"TFT\":300,\"TJT\":300,\"TKT\":780,\"TLT\":540,\"TMT\":300,\"TVT\":720,\"ULAT\":480,\"UTC\":0,\"UYST\":-120,\"UYT\":-180,\"UZT\":300,\"VET\":-210,\"VLAST\":660,\"VLAT\":660,\"VUT\":660,\"WAST\":120,\"WAT\":60,\"WEST\":60,\"WESZ\":60,\"WET\":0,\"WEZ\":0,\"WFT\":720,\"WGST\":-120,\"WGT\":-180,\"WIB\":420,\"WIT\":540,\"WITA\":480,\"WST\":780,\"WT\":0,\"YAKST\":600,\"YAKT\":600,\"YAPT\":600,\"YEKST\":360,\"YEKT\":360\n};\n\nexports.Refiner = function ExtractTimezoneAbbrRefiner(config) {\n\tRefiner.call(this, arguments);\n\n\tthis.refine = function(text, results, opt) {\n\n\t    var timezones = new Object(DEFAULT_TIMEZONE_ABBR_MAP);\n\t    if (opt.timezones) {\n\t        for (var name in opt.timezones) {\n                timezones[name] = opt.timezones[name];\n            }\n        }\n\n\t\tresults.forEach(function(result) {\n\n            if (!result.tags['ENTimeExpressionParser'] &&\n                !result.tags['ZHTimeExpressionParser'] &&\n                !result.tags['FRTimeExpressionParser'] &&\n                !result.tags['DETimeExpressionParser']) {\n                return;\n            }\n\n            var match = TIMEZONE_NAME_PATTERN.exec(text.substring(result.index + result.text.length));\n            if (match) {\n                var timezoneAbbr = match[1].toUpperCase();\n                if (timezones[timezoneAbbr] === undefined) {\n                    return;\n                }\n\n                var timezoneOffset = timezones[timezoneAbbr];\n                if (!result.start.isCertain('timezoneOffset')) {\n                    result.start.assign('timezoneOffset', timezoneOffset);\n                }\n\n                if (result.end != null && !result.end.isCertain('timezoneOffset')) {\n                    result.end.assign('timezoneOffset', timezoneOffset);\n                }\n\n                result.text += match[0];\n                result.tags['ExtractTimezoneAbbrRefiner'] = true;\n            }\n\t\t});\n\n        return results;\n\t}\n};","/*\n    Enforce 'forwardDate' option to on the results. When there are missing component,\n    e.g. \"March 12-13 (without year)\" or \"Thursday\", the refiner will try to adjust the result\n    into the future instead of the past.\n*/\nvar dayjs = require('dayjs');\nvar Refiner = require('./refiner').Refiner;\n\nexports.Refiner = function ForwardDateRefiner() {\n    Refiner.call(this);\n\n    this.refine = function(text, results, opt) {\n\n        if (!opt['forwardDate']) {\n            return results;\n        }\n\n        results.forEach(function(result) {\n\n            var refMoment = dayjs(result.ref);\n\n            if (result.start.isOnlyDayMonthComponent() && refMoment.isAfter(result.start.dayjs())\n            ) {\n                // Adjust year into the future\n                for (var i=0; i < 3 && refMoment.isAfter(result.start.dayjs()); i++) {\n                    result.start.imply('year', result.start.get('year') + 1);\n\n                    if (result.end && !result.end.isCertain('year')) {\n                        result.end.imply('year', result.end.get('year') + 1);\n                    }\n                }\n\n                result.tags['ForwardDateRefiner'] = true;\n            }\n\n            if (result.start.isOnlyWeekdayComponent() && refMoment.isAfter(result.start.dayjs())) {\n                // Adjust date to the coming week\n                if (refMoment.day() > result.start.get('weekday')) {\n                    refMoment = refMoment.day(result.start.get('weekday') + 7);\n                } else {\n                    refMoment = refMoment.day(result.start.get('weekday'));\n                }\n\n                result.start.imply('day', refMoment.date());\n                result.start.imply('month', refMoment.month() + 1);\n                result.start.imply('year', refMoment.year());\n                result.tags['ForwardDateRefiner'] = true;\n            }\n        });\n\n        return results;\n    }\n};\n","/*\n  \n*/\nvar Filter = require('./refiner').Filter;\n\nexports.Refiner = function UnlikelyFormatFilter() {\n    Filter.call(this);\n    \n\n    this.isValid = function(text, result, opt) { \n\n        if (result.text.replace(' ','').match(/^\\d*(\\.\\d*)?$/)) {\n            return false;\n        }\n\n        return true; \n    }\n}","/*\n\n*/\nvar ParsedComponents = require('../../result').ParsedComponents;\nvar Refiner = require('../refiner').Refiner;\n\n\nvar PATTERN = new RegExp(\"^\\\\s*(at|after|before|on|,|-|\\\\(|\\\\))?\\\\s*$\");\n\nfunction isMoreSpecific(prevResult, currResult) {\n    var moreSpecific = false;\n\n    if (prevResult.start.isCertain('year')) {\n        if (!currResult.start.isCertain('year')) {\n            moreSpecific = true;\n        } else {\n            if (prevResult.start.isCertain('month')) {\n                if (!currResult.start.isCertain('month')) {\n                    moreSpecific = true;\n                } else {\n                    if (prevResult.start.isCertain('day') && !currResult.start.isCertain('day')) {\n                        moreSpecific = true;\n                    }\n                }\n            }\n        }\n    }\n\n    return moreSpecific;\n}\n\n\nfunction isAbleToMerge(text, prevResult, currResult) {\n    var textBetween = text.substring(prevResult.index + prevResult.text.length, currResult.index);\n\n    // Only accepts merge if one of them comes from casual relative date\n    var includesRelativeResult = (prevResult.tags['ENRelativeDateFormatParser'] || currResult.tags['ENRelativeDateFormatParser']);\n\n    // We assume they refer to the same date if all date fields are implied\n    var referToSameDate = !prevResult.start.isCertain('day') && !prevResult.start.isCertain('month') && !prevResult.start.isCertain('year');\n\n    // If both years are certain, that determines if they refer to the same date\n    // but with one more specific than the other\n    if (prevResult.start.isCertain('year') && currResult.start.isCertain('year'))\n        referToSameDate = (prevResult.start.get('year') === currResult.start.get('year'));\n\n    // We now test with the next level (month) if they refer to the same date\n    if (prevResult.start.isCertain('month') && currResult.start.isCertain('month'))\n        referToSameDate = (prevResult.start.get('month') === currResult.start.get('month')) && referToSameDate;\n\n    return includesRelativeResult && textBetween.match(PATTERN) && referToSameDate;\n}\n\nfunction mergeResult(text, specificResult, nonSpecificResult){\n\n    var specificDate = specificResult.start;\n    var nonSpecificDate = nonSpecificResult.start;\n\n    var startIndex = Math.min(specificResult.index, nonSpecificResult.index);\n    var endIndex = Math.max(\n            specificResult.index + specificResult.text.length,\n            nonSpecificResult.index + nonSpecificResult.text.length);\n\n    specificResult.index = startIndex;\n    specificResult.text  = text.substring(startIndex, endIndex);\n\n    for (var tag in nonSpecificResult.tags) {\n        specificResult.tags[tag] = true;\n    }\n    specificResult.tags['ENPrioritizeSpecificDateRefiner'] = true;\n    return specificResult;\n}\n\nexports.Refiner = function ENPrioritizeSpecificDateRefiner() {\n    Refiner.call(this);\n\n    this.refine = function(text, results, opt) {\n\n        if (results.length < 2) return results;\n\n        var mergedResult = [];\n        var currResult = null;\n        var prevResult = null;\n\n        for (var i = 1; i < results.length; i++) {\n\n            currResult = results[i];\n            prevResult = results[i-1];\n\n            if (isMoreSpecific(prevResult, currResult)\n                    && isAbleToMerge(text, prevResult, currResult)) {\n\n                prevResult = mergeResult(text, prevResult, currResult);\n                currResult = null;\n                i += 1;\n\n            } else if (isMoreSpecific(currResult, prevResult)\n                    && isAbleToMerge(text, prevResult, currResult)) {\n\n                prevResult = mergeResult(text, currResult, prevResult);\n                currResult = null;\n                i += 1;\n            }\n\n            mergedResult.push(prevResult);\n        }\n\n        if (currResult != null) {\n            mergedResult.push(currResult);\n        }\n\n        return mergedResult;\n    }\n}\n","/*\n  \n*/\nvar ENMergeDateRangeRefiner = require('../en/ENMergeDateRangeRefiner').Refiner;\n\nexports.Refiner = function JPMergeDateRangeRefiner() {\n    ENMergeDateRangeRefiner.call(this);\n\n    this.pattern = function () { return /^\\s*(から|ー)\\s*$/i };\n}\n\n","/*\r\n  \r\n*/\r\nvar Refiner = require('../refiner').Refiner;\r\n\r\nexports.Refiner = function FRMergeDateRangeRefiner() {\r\n    Refiner.call(this);\r\n\r\n    this.pattern = function () { return /^\\s*(à|a|\\-)\\s*$/i };\r\n\r\n    this.refine = function(text, results, opt) {\r\n\r\n        if (results.length < 2) return results;\r\n        \r\n        var mergedResult = [];\r\n        var currResult = null;\r\n        var prevResult = null;\r\n        \r\n        for (var i=1; i<results.length; i++){\r\n            \r\n            currResult = results[i];\r\n            prevResult = results[i-1];\r\n            \r\n            if (!prevResult.end && !currResult.end \r\n                && this.isAbleToMerge(text, prevResult, currResult)) {\r\n              \r\n                prevResult = this.mergeResult(text, prevResult, currResult);\r\n                currResult = null;\r\n                i += 1;\r\n            }\r\n            \r\n            mergedResult.push(prevResult);\r\n        }\r\n        \r\n        if (currResult != null) {\r\n            mergedResult.push(currResult);\r\n        }\r\n\r\n\r\n        return mergedResult;\r\n    };\r\n\r\n    this.isAbleToMerge = function(text, result1, result2) {\r\n        var begin = result1.index + result1.text.length;\r\n        var end   = result2.index;\r\n        var textBetween = text.substring(begin,end);\r\n\r\n        return textBetween.match(this.pattern());\r\n    };\r\n\r\n    this.isWeekdayResult = function (result) {\r\n        return result.start.isCertain('weekday') && !result.start.isCertain('day');\r\n    };\r\n\r\n    this.mergeResult = function(text, fromResult, toResult) {\r\n\r\n        if (!this.isWeekdayResult(fromResult) && !this.isWeekdayResult(toResult)) {\r\n\r\n            for (var key in toResult.start.knownValues) {\r\n                if (!fromResult.start.isCertain(key)) {\r\n                    fromResult.start.assign(key, toResult.start.get(key));\r\n                }\r\n            }\r\n\r\n            for (var key in fromResult.start.knownValues) {\r\n                if (!toResult.start.isCertain(key)) {\r\n                    toResult.start.assign(key, fromResult.start.get(key));\r\n                }\r\n            }\r\n        }\r\n\r\n        if (fromResult.start.date().getTime() > toResult.start.date()) {\r\n            var tmp = toResult;\r\n            toResult = fromResult;\r\n            fromResult = tmp;\r\n        }\r\n        \r\n        fromResult.end = toResult.start;\r\n\r\n        \r\n\r\n        for (var tag in toResult.tags) {\r\n            fromResult.tags[tag] = true;\r\n        }\r\n\r\n            \r\n        var startIndex = Math.min(fromResult.index, toResult.index);\r\n        var endIndex = Math.max(\r\n            fromResult.index + fromResult.text.length, \r\n            toResult.index + toResult.text.length);\r\n            \r\n        fromResult.index = startIndex;\r\n        fromResult.text  = text.substring(startIndex, endIndex);\r\n        fromResult.tags[this.constructor.name] = true;\r\n        return fromResult;\r\n    }\r\n};\r\n\r\n","/*\r\n    \r\n*/\r\nvar ParsedComponents = require('../../result').ParsedComponents;\r\nvar Refiner = require('../refiner').Refiner;\r\nvar mergeDateTimeComponent = require('../en/ENMergeDateTimeRefiner').mergeDateTimeComponent;\r\n\r\nvar PATTERN = new RegExp(\"^\\\\s*(T|à|a|vers|de|,|-)?\\\\s*$\");\r\n\r\nfunction isDateOnly(result) {\r\n    return !result.start.isCertain('hour') || result.tags['FRCasualDateParser'];\r\n}\r\n    \r\nfunction isTimeOnly(result) {\r\n    return !result.start.isCertain('month') && !result.start.isCertain('weekday');\r\n}\r\n\r\n\r\nfunction isAbleToMerge(text, prevResult, curResult) {\r\n    var textBetween = text.substring(prevResult.index + prevResult.text.length, curResult.index);\r\n    return textBetween.match(PATTERN);\r\n}\r\n\r\nfunction mergeResult(text, dateResult, timeResult){\r\n\r\n    var beginDate = dateResult.start;\r\n    var beginTime = timeResult.start;\r\n    var beginDateTime = mergeDateTimeComponent(beginDate, beginTime);\r\n\r\n    if (dateResult.end != null || timeResult.end != null) {\r\n        \r\n        var endDate   = dateResult.end == null ? dateResult.start : dateResult.end;            \r\n        var endTime   = timeResult.end == null ? timeResult.start : timeResult.end;\r\n        var endDateTime = mergeDateTimeComponent(endDate, endTime);\r\n        \r\n        if (dateResult.end == null && endDateTime.date().getTime() < beginDateTime.date().getTime()) {\r\n            // Ex. 9pm - 1am\r\n            if (endDateTime.isCertain('day')) {\r\n                endDateTime.assign('day', endDateTime.get('day') + 1);\r\n            } else {\r\n                endDateTime.imply('day', endDateTime.get('day') + 1);\r\n            }\r\n        }\r\n\r\n        dateResult.end = endDateTime;\r\n    }\r\n\r\n    dateResult.start = beginDateTime;    \r\n\r\n    var startIndex = Math.min(dateResult.index, timeResult.index);\r\n    var endIndex = Math.max(\r\n            dateResult.index + dateResult.text.length, \r\n            timeResult.index + timeResult.text.length);\r\n    \r\n    dateResult.index = startIndex;\r\n    dateResult.text  = text.substring(startIndex, endIndex);\r\n\r\n    for (var tag in timeResult.tags) {\r\n        dateResult.tags[tag] = true;\r\n    }\r\n    dateResult.tags['FRMergeDateAndTimeRefiner'] = true;\r\n    return dateResult;\r\n}\r\n\r\nexports.Refiner = function FRMergeDateTimeRefiner() {\r\n    Refiner.call(this);\r\n\r\n\r\n    this.refine = function(text, results, opt) { \r\n\r\n        if (results.length < 2) return results;\r\n\r\n        var mergedResult = [];\r\n        var currResult = null;\r\n        var prevResult = null;\r\n\r\n        for (var i = 1; i < results.length; i++) {\r\n\r\n            currResult = results[i];\r\n            prevResult = results[i-1];\r\n            \r\n            if (isDateOnly(prevResult) && isTimeOnly(currResult) \r\n                    && isAbleToMerge(text, prevResult, currResult)) {\r\n                \r\n                prevResult = mergeResult(text, prevResult, currResult);\r\n                currResult = null;\r\n                i += 1;\r\n                \r\n            } else if (isDateOnly(currResult) && isTimeOnly(prevResult)\r\n                    && isAbleToMerge(text, prevResult, currResult)) {\r\n                \r\n                prevResult = mergeResult(text, currResult, prevResult);\r\n                currResult = null;\r\n                i += 1;\r\n            }\r\n            \r\n            mergedResult.push(prevResult);\r\n        }\r\n\r\n        if (currResult != null) {\r\n            mergedResult.push(currResult);\r\n        }\r\n\r\n        return mergedResult;\r\n    }\r\n}","/*\n  \n*/\nvar ENMergeDateRangeRefiner = require('../en/ENMergeDateRangeRefiner').Refiner;\n\nexports.Refiner = function DEMergeDateRangeRefiner() {\n    ENMergeDateRangeRefiner.call(this);\n\n    this.pattern = function () {\n        return /^\\s*(bis(?:\\s*(?:am|zum))?|\\-)\\s*$/i\n    };\n};\n","/*\n    \n*/\nvar ParsedComponents = require('../../result').ParsedComponents;\nvar Refiner = require('../refiner').Refiner;\n\nvar mergeDateTimeComponent = require('../en/ENMergeDateTimeRefiner').mergeDateTimeComponent;\nvar isDateOnly = require('../en/ENMergeDateTimeRefiner').isDateOnly;\nvar isTimeOnly = require('../en/ENMergeDateTimeRefiner').isTimeOnly;\n\nvar PATTERN = new RegExp(\"^\\\\s*(T|um|am|,|-)?\\\\s*$\");\n\nfunction isAbleToMerge(text, prevResult, curResult) {\n    var textBetween = text.substring(prevResult.index + prevResult.text.length, curResult.index);\n    return textBetween.match(PATTERN);\n}\n\nfunction mergeResult(text, dateResult, timeResult){\n\n    var beginDate = dateResult.start;\n    var beginTime = timeResult.start;    \n    var beginDateTime = mergeDateTimeComponent(beginDate, beginTime);\n\n    if (dateResult.end != null || timeResult.end != null) {\n        \n        var endDate   = dateResult.end == null ? dateResult.start : dateResult.end;            \n        var endTime   = timeResult.end == null ? timeResult.start : timeResult.end;\n        var endDateTime = mergeDateTimeComponent(endDate, endTime);\n        \n        if (dateResult.end == null && endDateTime.date().getTime() < beginDateTime.date().getTime()) {\n            // Ex. 9pm - 1am\n            if (endDateTime.isCertain('day')) {\n                endDateTime.assign('day', endDateTime.get('day') + 1);\n            } else {\n                endDateTime.imply('day', endDateTime.get('day') + 1);\n            }\n        }\n\n        dateResult.end = endDateTime;\n    }\n\n    dateResult.start = beginDateTime;    \n\n    var startIndex = Math.min(dateResult.index, timeResult.index);\n    var endIndex = Math.max(\n            dateResult.index + dateResult.text.length, \n            timeResult.index + timeResult.text.length);\n    \n    dateResult.index = startIndex;\n    dateResult.text  = text.substring(startIndex, endIndex);\n\n    for (var tag in timeResult.tags) {\n        dateResult.tags[tag] = true;\n    }\n    dateResult.tags['DEMergeDateAndTimeRefiner'] = true;\n    return dateResult;\n}\n\nexports.Refiner = function DEMergeDateTimeRefiner() {\n    Refiner.call(this);\n\n\n    this.refine = function(text, results, opt) { \n\n        if (results.length < 2) return results;\n\n        var mergedResult = [];\n        var currResult = null;\n        var prevResult = null;\n\n        for (var i = 1; i < results.length; i++) {\n\n            currResult = results[i];\n            prevResult = results[i-1];\n            \n            if (isDateOnly(prevResult) && isTimeOnly(currResult) \n                    && isAbleToMerge(text, prevResult, currResult)) {\n                \n                prevResult = mergeResult(text, prevResult, currResult);\n                currResult = null;\n                i += 1;\n                \n            } else if (isDateOnly(currResult) && isTimeOnly(prevResult)\n                    && isAbleToMerge(text, prevResult, currResult)) {\n                \n                prevResult = mergeResult(text, currResult, prevResult);\n                currResult = null;\n                i += 1;\n            }\n            \n            mergedResult.push(prevResult);\n        }\n\n        if (currResult != null) {\n            mergedResult.push(currResult);\n        }\n\n        return mergedResult;\n    }\n}","/*\n\n*/\nvar ENMergeDateRangeRefiner = require('../en/ENMergeDateRangeRefiner').Refiner;\n\nexports.Refiner = function NLMergeDateRangeRefiner() {\n    ENMergeDateRangeRefiner.call(this);\n\n    this.pattern = function () {\n        return /^\\s*(tot|t\\/m|tot en met|\\-)\\s*$/i;\n    };\n};\n","/*\n\n*/\nvar ParsedComponents = require('../../result').ParsedComponents;\nvar Refiner = require('../refiner').Refiner;\n\nvar mergeDateTimeComponent = require('../en/ENMergeDateTimeRefiner').mergeDateTimeComponent;\nvar isDateOnly = require('../en/ENMergeDateTimeRefiner').isDateOnly;\nvar isTimeOnly = require('../en/ENMergeDateTimeRefiner').isTimeOnly;\n\nvar PATTERN = new RegExp(\"^\\\\s*(T|op|om|voor|na|van|,|-)\\\\s*$\");\n\nfunction isAbleToMerge(text, prevResult, curResult) {\n    var textBetween = text.substring(prevResult.index + prevResult.text.length, curResult.index);\n    return textBetween.match(PATTERN);\n}\n\nfunction mergeResult(text, dateResult, timeResult){\n\n    var beginDate = dateResult.start;\n    var beginTime = timeResult.start;\n    var beginDateTime = mergeDateTimeComponent(beginDate, beginTime);\n\n    if (dateResult.end != null || timeResult.end != null) {\n\n        var endDate   = dateResult.end == null ? dateResult.start : dateResult.end;\n        var endTime   = timeResult.end == null ? timeResult.start : timeResult.end;\n        var endDateTime = mergeDateTimeComponent(endDate, endTime);\n\n        if (dateResult.end == null && endDateTime.date().getTime() < beginDateTime.date().getTime()) {\n            // Ex. 9pm - 1am\n            if (endDateTime.isCertain('day')) {\n                endDateTime.assign('day', endDateTime.get('day') + 1);\n            } else {\n                endDateTime.imply('day', endDateTime.get('day') + 1);\n            }\n        }\n\n        dateResult.end = endDateTime;\n    }\n\n    dateResult.start = beginDateTime;\n\n    var startIndex = Math.min(dateResult.index, timeResult.index);\n    var endIndex = Math.max(\n            dateResult.index + dateResult.text.length,\n            timeResult.index + timeResult.text.length);\n\n    dateResult.index = startIndex;\n    dateResult.text  = text.substring(startIndex, endIndex);\n\n    for (var tag in timeResult.tags) {\n        dateResult.tags[tag] = true;\n    }\n    dateResult.tags['NLMergeDateAndTimeRefiner'] = true;\n    return dateResult;\n}\n\nexports.Refiner = function NLMergeDateTimeRefiner() {\n    Refiner.call(this);\n\n\n    this.refine = function(text, results, opt) {\n\n        if (results.length < 2) return results;\n\n        var mergedResult = [];\n        var currResult = null;\n        var prevResult = null;\n\n        for (var i = 1; i < results.length; i++) {\n\n            currResult = results[i];\n            prevResult = results[i-1];\n            if (isDateOnly(currResult) && isTimeOnly(prevResult)\n                    && isAbleToMerge(text, prevResult, currResult)) {\n\n                prevResult = mergeResult(text, currResult, prevResult);\n                currResult = null;\n                i += 1;\n                mergedResult.push(prevResult);\n            }else if(!isTimeOnly(prevResult)){\n                mergedResult.push(prevResult);\n            }\n\n        }\n\n        if (currResult != null) {\n            mergedResult.push(currResult);\n        }\n\n        return mergedResult;\n    }\n}\n","import * as parser from './parsers/parser';\nimport * as refiner from './refiners/refiner';\n\nexport function mergeOptions(options) {\n\n    var addedTypes = {};\n    var mergedOption = {\n        parsers: [],\n        refiners: []\n    };\n\n    options.forEach(function (option) {\n\n        if (option.call) {\n            option = option.call();\n        }\n\n        if (option.parsers) {\n            option.parsers.forEach(function (p) {\n                if (!addedTypes[p.constructor]) {\n                    mergedOption.parsers.push(p);\n                    addedTypes[p.constructor] = true;\n                }\n            });\n        }\n\n        if (option.refiners) {\n            option.refiners.forEach(function (r) {\n                if (!addedTypes[r.constructor]) {\n                    mergedOption.refiners.push(r);\n                    addedTypes[r.constructor] = true;\n                }\n            });\n        }\n    });\n\n    return mergedOption;\n}\n\n\nexport function commonPostProcessing() {\n    return {\n        refiners: [\n            // These should be after all other refiners\n            new refiner.ExtractTimezoneOffsetRefiner(),\n            new refiner.ExtractTimezoneAbbrRefiner(),\n            new refiner.UnlikelyFormatFilter()\n        ]\n    }\n}\n\n\n// -------------------------------------------------------------\n\nexport function strictOption() {\n    var strictConfig = {\n        strict: true\n    };\n\n    return mergeOptions([\n        en(strictConfig),\n        de(strictConfig),\n        nl(strictConfig),\n        pt(strictConfig),\n        es(strictConfig),\n        fr(strictConfig),\n        ja(strictConfig),\n        zh,\n        zhcn,\n        commonPostProcessing\n    ]);\n}\n\nexport function casualOption() {\n    return mergeOptions([\n        en.casual,\n        // Some German abbriviate overlap with common English\n        de({ strict: true }),\n        nl,\n        pt,\n        es,\n        fr,\n        ja,\n        zh,\n        zhcn,\n        commonPostProcessing\n    ]);\n}\n\n// -------------------------------------------------------------\n\nexport const de = function de(config) {\n    return {\n        parsers: [\n            new parser.DEDeadlineFormatParser(config),\n            new parser.DEMonthNameLittleEndianParser(config),\n            new parser.DEMonthNameParser(config),\n            new parser.DESlashDateFormatParser(config),\n            new parser.DETimeAgoFormatParser(config),\n            new parser.DETimeExpressionParser(config)\n        ],\n        refiners: [\n            new refiner.OverlapRemovalRefiner(),\n            new refiner.ForwardDateRefiner(),\n            new refiner.DEMergeDateTimeRefiner(),\n            new refiner.DEMergeDateRangeRefiner()\n        ]\n    }\n};\n\nde.casual = function() {\n    var option = de({\n        strict: false\n    });\n    option.parsers.unshift(new parser.DECasualDateParser());\n    option.parsers.unshift(new parser.DEWeekdayParser());\n    return option;\n};\n\n\n\n// -------------------------------------------------------------\n\nexport const nl = function nl(config) {\n    return {\n        parsers: [\n            new parser.NLMonthNameLittleEndianParser(config),\n            new parser.NLMonthNameParser(config),\n            new parser.NLSlashDateFormatParser(config),\n            new parser.NLTimeExpressionParser(config),\n        ],\n        refiners: [\n            new refiner.OverlapRemovalRefiner(),\n            new refiner.ForwardDateRefiner(),\n            new refiner.NLMergeDateTimeRefiner(),\n            new refiner.NLMergeDateRangeRefiner()\n        ]\n    }\n};\n\nnl.casual = function() {\n    var option = nl({\n        strict: false\n    });\n    option.parsers.unshift(new parser.NLCasualDateParser());\n    option.parsers.unshift(new parser.NLCasualTimeParser());\n    option.parsers.unshift(new parser.NLWeekdayParser());\n    return option;\n};\n\n\n\n// -------------------------------------------------------------\n\n\nexport const en = function en(config) {\n    return {\n        parsers: [\n            new parser.ENISOFormatParser(config),\n            new parser.ENDeadlineFormatParser(config),\n            new parser.ENMonthNameLittleEndianParser(config),\n            new parser.ENMonthNameMiddleEndianParser(config),\n            new parser.ENMonthNameParser(config),\n            new parser.ENSlashDateFormatParser(config),\n            new parser.ENSlashDateFormatStartWithYearParser(config),\n            new parser.ENSlashMonthFormatParser(config),\n            new parser.ENTimeAgoFormatParser(config),\n            new parser.ENTimeLaterFormatParser(config),\n            new parser.ENTimeExpressionParser(config)\n        ],\n        refiners: [\n            new refiner.OverlapRemovalRefiner(),\n            new refiner.ForwardDateRefiner(),\n\n            // English\n            new refiner.ENMergeDateTimeRefiner(),\n            new refiner.ENMergeDateRangeRefiner(),\n            new refiner.ENPrioritizeSpecificDateRefiner()\n        ]\n    }\n};\n\nen.casual = function(config) {\n    config = config || {};\n    config.strict = false;\n    var option = en(config);\n\n    // en\n    option.parsers.unshift(new parser.ENCasualDateParser());\n    option.parsers.unshift(new parser.ENCasualTimeParser());\n    option.parsers.unshift(new parser.ENWeekdayParser());\n    option.parsers.unshift(new parser.ENRelativeDateFormatParser());\n    return option;\n};\n\n\nexport const en_GB = function en_GB(config) {\n    config = config || {};\n    config.littleEndian = true;\n    return en(config);\n};\n\nen_GB.casual = function(config) {\n    config = config || {};\n    config.littleEndian = true;\n    return en.casual(config);\n};\n\n// -------------------------------------------------------------\n\nexport const ja = function ja() {\n    return {\n        parsers: [\n            new parser.JPStandardParser()\n        ],\n        refiners: [\n            new refiner.OverlapRemovalRefiner(),\n            new refiner.ForwardDateRefiner(),\n            new refiner.JPMergeDateRangeRefiner()\n        ]\n    }\n};\n\nja.casual = function() {\n    var option = ja();\n    option.parsers.unshift(new parser.JPCasualDateParser());\n    return option;\n};\n\n// -------------------------------------------------------------\n\n\nexport const pt = function pt(config) {\n    return {\n        parsers: [\n            new parser.PTTimeAgoFormatParser(config),\n            new parser.PTDeadlineFormatParser(config),\n            new parser.PTTimeExpressionParser(config),\n            new parser.PTMonthNameLittleEndianParser(config),\n            new parser.PTSlashDateFormatParser(config)\n        ],\n        refiners: [\n            new refiner.OverlapRemovalRefiner(),\n            new refiner.ForwardDateRefiner()\n        ]\n    }\n};\n\npt.casual = function() {\n    var option = pt({\n        strict: false\n    });\n\n    option.parsers.unshift(new parser.PTCasualDateParser());\n    option.parsers.unshift(new parser.PTWeekdayParser());\n    return option;\n};\n\n// -------------------------------------------------------------\n\n\nexport const es = function es(config) {\n    return {\n        parsers: [\n            new parser.ESTimeAgoFormatParser(config),\n            new parser.ESDeadlineFormatParser(config),\n            new parser.ESTimeExpressionParser(config),\n            new parser.ESMonthNameLittleEndianParser(config),\n            new parser.ESSlashDateFormatParser(config)\n        ],\n        refiners: [\n            new refiner.OverlapRemovalRefiner(),\n            new refiner.ForwardDateRefiner()\n        ]\n    }\n};\n\nes.casual = function() {\n    var option = es({\n        strict: false\n    });\n\n    option.parsers.unshift(new parser.ESCasualDateParser());\n    option.parsers.unshift(new parser.ESWeekdayParser());\n    return option;\n};\n\n\n// -------------------------------------------------------------\n\nexport const fr = function fr(config) {\n    return {\n        parsers: [\n            new parser.FRDeadlineFormatParser(config),\n            new parser.FRMonthNameLittleEndianParser(config),\n            new parser.FRSlashDateFormatParser(config),\n            new parser.FRTimeAgoFormatParser(config),\n            new parser.FRTimeExpressionParser(config)\n        ],\n        refiners: [\n            new refiner.OverlapRemovalRefiner(),\n            new refiner.ForwardDateRefiner(),\n            new refiner.FRMergeDateRangeRefiner(),\n            new refiner.FRMergeDateTimeRefiner()\n        ]\n    }\n};\n\nfr.casual = function() {\n    var option = fr({\n        strict: false\n    });\n\n    option.parsers.unshift(new parser.FRCasualDateParser());\n    option.parsers.unshift(new parser.FRWeekdayParser());\n    option.parsers.unshift(new parser.FRRelativeDateFormatParser());\n    return option;\n};\n\n\n// -------------------------------------------------------------\n\nexport const zh = function zh(config) {\n    return {\n        parsers: [\n            new parser.ZHHantDateParser(config),\n            new parser.ZHHantWeekdayParser(config),\n            new parser.ZHHantTimeExpressionParser(config),\n            new parser.ZHHantCasualDateParser(config),\n            new parser.ZHHantDeadlineFormatParser(config)\n        ],\n        refiners: [\n            new refiner.OverlapRemovalRefiner(),\n            new refiner.ForwardDateRefiner()\n        ]\n    }\n};\n\nzh.casual = function() {\n    return zh({\n        strict: false\n    });\n}\n\nexport const zhcn = function zhcn(config) {\n    return {\n        parsers: [\n            new parser.ZHHansDateParser(config),\n            new parser.ZHHansWeekdayParser(config),\n            new parser.ZHHansTimeExpressionParser(config),\n            new parser.ZHHansCasualDateParser(config),\n            new parser.ZHHansDeadlineFormatParser(config)\n        ],\n        refiners: [\n            new refiner.ENMergeDateRangeRefiner,\n            new refiner.ENMergeDateTimeRefiner,\n            new refiner.OverlapRemovalRefiner(),\n            new refiner.ForwardDateRefiner()\n        ]\n    }\n}\n\nzhcn.casual = function() {\n    return zhcn({\n        strict: false\n    });\n}","export class Chrono {\n\n    constructor(option) {\n        option = option || exports.options.casualOption();\n        this.parsers = new Object(option.parsers);\n        this.refiners = new Object(option.refiners);\n    }\n\n    parse(text, refDate, opt) {\n\n        refDate = refDate || new Date();\n        opt = opt || {};\n        opt.forwardDate = opt.forwardDate || opt.forwardDate;\n\n        var allResults = [];\n\n        this.parsers.forEach(function (parser) {\n            var results = parser.execute(text, refDate, opt);\n            allResults = allResults.concat(results);\n        });\n\n        allResults.sort(function(a, b) {\n            return a.index - b.index;\n        });\n\n        this.refiners.forEach(function (refiner) {\n            allResults = refiner.refine(text, allResults, opt);\n        });\n\n        return allResults;\n    }\n\n    parseDate(text, refDate, opt) {\n        var results = this.parse(text, refDate, opt);\n        if (results.length > 0) {\n            return results[0].start.date();\n        }\n        return null;\n    }\n}\n\nimport * as _options from './options';\nimport * as _parser from './parsers/parser';\nimport * as _refiner from './refiners/refiner';\nimport * as _result from './result';\n\nexport const options = _options;\nexport const parser = _parser;\nexport const refiner = _refiner;\n\nexport const Parser = parser.Parser;\nexport const Refiner = refiner.Refiner;\nexport const Filter = refiner.Filter;\n\nexport const ParsedResult = _result.ParsedResult;\nexport const ParsedComponents = _result.ParsedComponents;\n\nexport const strict = new Chrono( options.strictOption() );\nexport const casual = new Chrono( options.casualOption() );\n\nexport const en = new Chrono( options.mergeOptions([\n    options.en.casual, options.commonPostProcessing]));\n\nexport const en_GB = new Chrono( options.mergeOptions([\n    options.en_GB.casual, options.commonPostProcessing]));\n\nexport const de = new Chrono( options.mergeOptions([\n    options.de.casual, options.en, options.commonPostProcessing]));\n\nexport const nl = new Chrono( options.mergeOptions([\n    options.nl.casual, options.en, options.commonPostProcessing]));\n\nexport const pt = new Chrono( options.mergeOptions([\n    options.pt.casual, options.en, options.commonPostProcessing]));\n\nexport const es = new Chrono( options.mergeOptions([\n    options.es.casual, options.en, options.commonPostProcessing]));\n\nexport const fr = new Chrono( options.mergeOptions([\n    options.fr.casual, options.en, options.commonPostProcessing]));\n\nexport const ja = new Chrono( options.mergeOptions([\n    options.ja.casual, options.en, options.commonPostProcessing]));\n\nexport const zh = new Chrono(options.mergeOptions([\n    options.zh.casual, options.zh, options.commonPostProcessing,\n]));\n\nexport const zhcn = new Chrono(options.mergeOptions([\n    options.zhcn.casual, options.zhcn, options.commonPostProcessing\n]));\n\nexport function parse () {\n    return casual.parse.apply(casual, arguments);\n}\n\nexport function parseDate() {\n    return casual.parseDate.apply(casual, arguments);\n}\n"],"sourceRoot":""}